var lA=Object.defineProperty,vF=Object.defineProperties;var EF=Object.getOwnPropertyDescriptors;var aA=Object.getOwnPropertySymbols,wF=Object.getPrototypeOf,IF=Object.prototype.hasOwnProperty,bF=Object.prototype.propertyIsEnumerable,TF=Reflect.get;var cA=(n,e,t)=>e in n?lA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,q=(n,e)=>{for(var t in e||={})IF.call(e,t)&&cA(n,t,e[t]);if(aA)for(var t of aA(e))bF.call(e,t)&&cA(n,t,e[t]);return n},ve=(n,e)=>vF(n,EF(e));var CF=(n,e)=>{for(var t in e)lA(n,t,{get:e[t],enumerable:!0})};var as=(n,e,t)=>TF(wF(n),t,e);var R=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{c(t.next(l))}catch(h){i(h)}},a=l=>{try{c(t.throw(l))}catch(h){i(h)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);c((t=t.apply(n,e)).next())});function uA(n,e){return Object.is(n,e)}var Vt=null,Zf=!1,ep=1,cs=Symbol("SIGNAL");function De(n){let e=Vt;return Vt=n,e}function dA(){return Vt}var Ud={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qv(n){if(Zf)throw new Error("");if(Vt===null)return;Vt.consumerOnSignalRead(n);let e=Vt.nextProducerIndex++;if(ip(Vt),e<Vt.producerNode.length&&Vt.producerNode[e]!==n&&Ld(Vt)){let t=Vt.producerNode[e];rp(t,Vt.producerIndexOfThis[e])}Vt.producerNode[e]!==n&&(Vt.producerNode[e]=n,Vt.producerIndexOfThis[e]=Ld(Vt)?mA(n,Vt,e):0),Vt.producerLastReadVersion[e]=n.version}function DF(){ep++}function hA(n){if(!(Ld(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ep)){if(!n.producerMustRecompute(n)&&!Hv(n)){n.dirty=!1,n.lastCleanEpoch=ep;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ep}}function fA(n){if(n.liveConsumerNode===void 0)return;let e=Zf;Zf=!0;try{for(let t of n.liveConsumerNode)t.dirty||AF(t)}finally{Zf=e}}function pA(){return Vt?.consumerAllowSignalWrites!==!1}function AF(n){n.dirty=!0,fA(n),n.consumerMarkedDirty?.(n)}function np(n){return n&&(n.nextProducerIndex=0),De(n)}function zv(n,e){if(De(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ld(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)rp(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hv(n){ip(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(hA(t),r!==t.version))return!0}return!1}function Gv(n){if(ip(n),Ld(n))for(let e=0;e<n.producerNode.length;e++)rp(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function mA(n,e,t){if(gA(n),n.liveConsumerNode.length===0&&yA(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=mA(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function rp(n,e){if(gA(n),n.liveConsumerNode.length===1&&yA(n))for(let r=0;r<n.producerNode.length;r++)rp(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ip(i),i.producerIndexOfThis[r]=e}}function Ld(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ip(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function gA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function yA(n){return n.producerNode!==void 0}function _A(n){let e=Object.create(SF);e.computation=n;let t=()=>{if(hA(e),qv(e),e.value===tp)throw e.error;return e.value};return t[cs]=e,t}var Bv=Symbol("UNSET"),$v=Symbol("COMPUTING"),tp=Symbol("ERRORED"),SF=ve(q({},Ud),{value:Bv,dirty:!0,error:null,equal:uA,producerMustRecompute(n){return n.value===Bv||n.value===$v},producerRecomputeValue(n){if(n.value===$v)throw new Error("Detected cycle in computations.");let e=n.value;n.value=$v;let t=np(n),r;try{r=n.computation()}catch(i){r=tp,n.error=i}finally{zv(n,t)}if(e!==Bv&&e!==tp&&r!==tp&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function RF(){throw new Error}var vA=RF;function EA(){vA()}function wA(n){vA=n}var xF=null;function IA(n){let e=Object.create(TA);e.value=n;let t=()=>(qv(e),e.value);return t[cs]=e,t}function Wv(n,e){pA()||EA(),n.equal(n.value,e)||(n.value=e,NF(n))}function bA(n,e){pA()||EA(),Wv(n,e(n.value))}var TA=ve(q({},Ud),{equal:uA,value:void 0});function NF(n){n.version++,DF(),fA(n),xF?.()}function ye(n){return typeof n=="function"}function Uc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var sp=Uc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Aa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var _t=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ye(r))try{r()}catch(s){e=s instanceof sp?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{CA(s)}catch(a){e=e??[],a instanceof sp?e=[...e,...a.errors]:e.push(a)}}if(e)throw new sp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)CA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Aa(t,e)}remove(e){let{_finalizers:t}=this;t&&Aa(t,e),e instanceof n&&e._removeParent(this)}};_t.EMPTY=(()=>{let n=new _t;return n.closed=!0,n})();var Kv=_t.EMPTY;function op(n){return n instanceof _t||n&&"closed"in n&&ye(n.remove)&&ye(n.add)&&ye(n.unsubscribe)}function CA(n){ye(n)?n():n.unsubscribe()}var Kr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jc={setTimeout(n,e,...t){let{delegate:r}=jc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=jc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ap(n){jc.setTimeout(()=>{let{onUnhandledError:e}=Kr;if(e)e(n);else throw n})}function jd(){}var DA=Qv("C",void 0,void 0);function AA(n){return Qv("E",void 0,n)}function SA(n){return Qv("N",n,void 0)}function Qv(n,e,t){return{kind:n,value:e,error:t}}var Sa=null;function Bc(n){if(Kr.useDeprecatedSynchronousErrorHandling){let e=!Sa;if(e&&(Sa={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Sa;if(Sa=null,t)throw r}}else n()}function RA(n){Kr.useDeprecatedSynchronousErrorHandling&&Sa&&(Sa.errorThrown=!0,Sa.error=n)}var Ra=class extends _t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,op(e)&&e.add(this)):this.destination=OF}static create(e,t,r){return new $c(e,t,r)}next(e){this.isStopped?Jv(SA(e),this):this._next(e)}error(e){this.isStopped?Jv(AA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Jv(DA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PF=Function.prototype.bind;function Yv(n,e){return PF.call(n,e)}var Xv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cp(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cp(r)}else cp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cp(t)}}},$c=class extends Ra{constructor(e,t,r){super();let i;if(ye(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Kr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yv(e.next,s),error:e.error&&Yv(e.error,s),complete:e.complete&&Yv(e.complete,s)}):i=e}this.destination=new Xv(i)}};function cp(n){Kr.useDeprecatedSynchronousErrorHandling?RA(n):ap(n)}function MF(n){throw n}function Jv(n,e){let{onStoppedNotification:t}=Kr;t&&jc.setTimeout(()=>t(n,e))}var OF={closed:!0,next:jd,error:MF,complete:jd};var qc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qn(n){return n}function Zv(...n){return eE(n)}function eE(n){return n.length===0?Qn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=VF(t)?t:new $c(t,r,i);return Bc(()=>{let{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=xA(r),new r((i,s)=>{let a=new $c({next:c=>{try{t(c)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[qc](){return this}pipe(...t){return eE(t)(this)}toPromise(t){return t=xA(t),new t((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function xA(n){var e;return(e=n??Kr.Promise)!==null&&e!==void 0?e:Promise}function kF(n){return n&&ye(n.next)&&ye(n.error)&&ye(n.complete)}function VF(n){return n&&n instanceof Ra||kF(n)&&op(n)}function tE(n){return ye(n?.lift)}function Ve(n){return e=>{if(tE(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(n,e,t,r,i){return new nE(n,e,t,r,i)}var nE=class extends Ra{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(c){try{t(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zc(){return Ve((n,e)=>{let t=null;n._refCount++;let r=xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Hc=class extends Ae{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,tE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _t;let t=this.getSubject();e.add(this.source.subscribe(xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_t.EMPTY)}return e}refCount(){return zc()(this)}};var NA=Uc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ft=(()=>{class n extends Ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new lp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new NA}next(t){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Bc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Kv:(this.currentObservers=null,s.push(t),new _t(()=>{this.currentObservers=null,Aa(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Ae;return t.source=this,t}}return n.create=(e,t)=>new lp(e,t),n})(),lp=class extends Ft{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Kv}};var It=class extends Ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var rE={now(){return(rE.delegate||Date).now()},delegate:void 0};var up=class extends _t{constructor(e,t){super()}schedule(e,t=0){return this}};var Bd={setInterval(n,e,...t){let{delegate:r}=Bd;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Bd;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Gc=class extends up{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Bd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Bd.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Aa(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Wc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Wc.now=rE.now;var Kc=class extends Wc{constructor(e,t=Wc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var iE=new Kc(Gc);var dp=class extends Gc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var hp=class extends Kc{};var sE=new hp(dp);var Yn=new Ae(n=>n.complete());function PA(n){return n&&ye(n.schedule)}function MA(n){return n[n.length-1]}function fp(n){return ye(MA(n))?n.pop():void 0}function oo(n){return PA(MA(n))?n.pop():void 0}function oE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function kA(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function c(f){try{h(r.next(f))}catch(g){a(g)}}function l(f){try{h(r.throw(f))}catch(g){a(g)}}function h(f){f.done?s(f.value):i(f.value).then(c,l)}h((r=r.apply(n,e||[])).next())})}function OA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xa(n){return this instanceof xa?(this.v=n,this):new xa(n)}function VA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(T){return function(x){return Promise.resolve(x).then(T,g)}}function c(T,x){r[T]&&(i[T]=function(M){return new Promise(function(P,V){s.push([T,M,P,V])>1||l(T,M)})},x&&(i[T]=x(i[T])))}function l(T,x){try{h(r[T](x))}catch(M){I(s[0][3],M)}}function h(T){T.value instanceof xa?Promise.resolve(T.value.v).then(f,g):I(s[0][2],T)}function f(T){l("next",T)}function g(T){l("throw",T)}function I(T,x){T(x),s.shift(),s.length&&l(s[0][0],s[0][1])}}function FA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof OA=="function"?OA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(c,l){a=n[s](a),i(c,l,a.done,a.value)})}}function i(s,a,c,l){Promise.resolve(l).then(function(h){s({value:h,done:c})},a)}}var pp=n=>n&&typeof n.length=="number"&&typeof n!="function";function mp(n){return ye(n?.then)}function gp(n){return ye(n[qc])}function yp(n){return Symbol.asyncIterator&&ye(n?.[Symbol.asyncIterator])}function _p(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function FF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var vp=FF();function Ep(n){return ye(n?.[vp])}function wp(n){return VA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield xa(t.read());if(i)return yield xa(void 0);yield yield xa(r)}}finally{t.releaseLock()}})}function Ip(n){return ye(n?.getReader)}function Ct(n){if(n instanceof Ae)return n;if(n!=null){if(gp(n))return LF(n);if(pp(n))return UF(n);if(mp(n))return jF(n);if(yp(n))return LA(n);if(Ep(n))return BF(n);if(Ip(n))return $F(n)}throw _p(n)}function LF(n){return new Ae(e=>{let t=n[qc]();if(ye(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UF(n){return new Ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function jF(n){return new Ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ap)})}function BF(n){return new Ae(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function LA(n){return new Ae(e=>{qF(n,e).catch(t=>e.error(t))})}function $F(n){return LA(wp(n))}function qF(n,e){var t,r,i,s;return kA(this,void 0,void 0,function*(){try{for(t=FA(n);r=yield t.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Pn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function ao(n,e=0){return Ve((t,r)=>{t.subscribe(xe(r,i=>Pn(r,n,()=>r.next(i),e),()=>Pn(r,n,()=>r.complete(),e),i=>Pn(r,n,()=>r.error(i),e)))})}function co(n,e=0){return Ve((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function UA(n,e){return Ct(n).pipe(co(e),ao(e))}function jA(n,e){return Ct(n).pipe(co(e),ao(e))}function BA(n,e){return new Ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function $A(n,e){return new Ae(t=>{let r;return Pn(t,e,()=>{r=n[vp](),Pn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){t.error(a);return}s?t.complete():t.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}function bp(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ae(t=>{Pn(t,e,()=>{let r=n[Symbol.asyncIterator]();Pn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function qA(n,e){return bp(wp(n),e)}function zA(n,e){if(n!=null){if(gp(n))return UA(n,e);if(pp(n))return BA(n,e);if(mp(n))return jA(n,e);if(yp(n))return bp(n,e);if(Ep(n))return $A(n,e);if(Ip(n))return qA(n,e)}throw _p(n)}function mt(n,e){return e?zA(n,e):Ct(n)}function de(...n){let e=oo(n);return mt(n,e)}function Qc(n,e){let t=ye(n)?n:()=>n,r=i=>i.error(t());return new Ae(e?i=>e.schedule(r,0,i):r)}function aE(n){return!!n&&(n instanceof Ae||ye(n.lift)&&ye(n.subscribe))}var ls=Uc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ee(n,e){return Ve((t,r)=>{let i=0;t.subscribe(xe(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:zF}=Array;function HF(n,e){return zF(e)?n(...e):n(e)}function Tp(n){return Ee(e=>HF(n,e))}var{isArray:GF}=Array,{getPrototypeOf:WF,prototype:KF,keys:QF}=Object;function Cp(n){if(n.length===1){let e=n[0];if(GF(e))return{args:e,keys:null};if(YF(e)){let t=QF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function YF(n){return n&&typeof n=="object"&&WF(n)===KF}function Dp(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ap(...n){let e=oo(n),t=fp(n),{args:r,keys:i}=Cp(n);if(r.length===0)return mt([],e);let s=new Ae(JF(r,e,i?a=>Dp(i,a):Qn));return t?s.pipe(Tp(t)):s}function JF(n,e,t=Qn){return r=>{HA(e,()=>{let{length:i}=n,s=new Array(i),a=i,c=i;for(let l=0;l<i;l++)HA(e,()=>{let h=mt(n[l],e),f=!1;h.subscribe(xe(r,g=>{s[l]=g,f||(f=!0,c--),c||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}function HA(n,e,t){n?Pn(t,n,e):e()}function GA(n,e,t,r,i,s,a,c){let l=[],h=0,f=0,g=!1,I=()=>{g&&!l.length&&!h&&e.complete()},T=M=>h<r?x(M):l.push(M),x=M=>{s&&e.next(M),h++;let P=!1;Ct(t(M,f++)).subscribe(xe(e,V=>{i?.(V),s?T(V):e.next(V)},()=>{P=!0},void 0,()=>{if(P)try{for(h--;l.length&&h<r;){let V=l.shift();a?Pn(e,a,()=>x(V)):x(V)}I()}catch(V){e.error(V)}}))};return n.subscribe(xe(e,T,()=>{g=!0,I()})),()=>{c?.()}}function Lt(n,e,t=1/0){return ye(e)?Lt((r,i)=>Ee((s,a)=>e(r,s,i,a))(Ct(n(r,i))),t):(typeof e=="number"&&(t=e),Ve((r,i)=>GA(r,i,n,t)))}function cE(n=1/0){return Lt(Qn,n)}function WA(){return cE(1)}function Yc(...n){return WA()(mt(n,oo(n)))}function Sp(n){return new Ae(e=>{Ct(n()).subscribe(e)})}function lE(...n){let e=fp(n),{args:t,keys:r}=Cp(n),i=new Ae(s=>{let{length:a}=t;if(!a){s.complete();return}let c=new Array(a),l=a,h=a;for(let f=0;f<a;f++){let g=!1;Ct(t[f]).subscribe(xe(s,I=>{g||(g=!0,h--),c[f]=I},()=>l--,void 0,()=>{(!l||!g)&&(h||s.next(r?Dp(r,c):c),s.complete())}))}});return e?i.pipe(Tp(e)):i}function Jn(n,e){return Ve((t,r)=>{let i=0;t.subscribe(xe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function lo(n){return Ve((e,t)=>{let r=null,i=!1,s;r=e.subscribe(xe(t,void 0,void 0,a=>{s=Ct(n(a,lo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function KA(n,e,t,r,i){return(s,a)=>{let c=t,l=e,h=0;s.subscribe(xe(a,f=>{let g=h++;l=c?n(l,f,g):(c=!0,f),r&&a.next(l)},i&&(()=>{c&&a.next(l),a.complete()})))}}function uo(n,e){return ye(e)?Lt(n,e,1):Lt(n,1)}function ho(n){return Ve((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function us(n){return n<=0?()=>Yn:Ve((e,t)=>{let r=0;e.subscribe(xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function uE(n){return Ee(()=>n)}function Rp(n=XF){return Ve((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function XF(){return new ls}function Na(n){return Ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function gi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Jn((i,s)=>n(i,s,r)):Qn,us(1),t?ho(e):Rp(()=>new ls))}function Jc(n){return n<=0?()=>Yn:Ve((e,t)=>{let r=[];e.subscribe(xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function dE(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Jn((i,s)=>n(i,s,r)):Qn,Jc(1),t?ho(e):Rp(()=>new ls))}function hE(n,e){return Ve(KA(n,e,arguments.length>=2,!0))}function fE(...n){let e=oo(n);return Ve((t,r)=>{(e?Yc(n,t,e):Yc(n,t)).subscribe(r)})}function Xn(n,e){return Ve((t,r)=>{let i=null,s=0,a=!1,c=()=>a&&!i&&r.complete();t.subscribe(xe(r,l=>{i?.unsubscribe();let h=0,f=s++;Ct(n(l,f)).subscribe(i=xe(r,g=>r.next(e?e(l,g,f,h++):g),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function pE(n){return Ve((e,t)=>{Ct(n).subscribe(xe(t,()=>t.complete(),jd)),!t.closed&&e.subscribe(t)})}function Dt(n,e,t){let r=ye(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ve((i,s)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let c=!0;i.subscribe(xe(s,l=>{var h;(h=r.next)===null||h===void 0||h.call(r,l),s.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var h;c=!1,(h=r.error)===null||h===void 0||h.call(r,l),s.error(l)},()=>{var l,h;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):Qn}var PS="https://g.co/ng/security#xss",ne=class extends Error{constructor(e,t){super(lm(e,t)),this.code=e}};function lm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ih(n){return{toString:n}.toString()}var xp="__parameters__";function ZF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function eL(n,e,t){return ih(()=>{let r=ZF(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let a=new i(...s);return c.annotation=a,c;function c(l,h,f){let g=l.hasOwnProperty(xp)?l[xp]:Object.defineProperty(l,xp,{value:[]})[xp];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(a),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var $d=globalThis;function it(n){for(let e in n)if(n[e]===it)return e;throw Error("Could not find renamed property on target object.")}function tL(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function On(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(On).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function QA(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var nL=it({__forward_ref__:it});function Ii(n){return n.__forward_ref__=Ii,n.toString=function(){return On(this())},n}function En(n){return MS(n)?n():n}function MS(n){return typeof n=="function"&&n.hasOwnProperty(nL)&&n.__forward_ref__===Ii}function Z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ms(n){return{providers:n.providers||[],imports:n.imports||[]}}function um(n){return YA(n,kS)||YA(n,VS)}function OS(n){return um(n)!==null}function YA(n,e){return n.hasOwnProperty(e)?n[e]:null}function rL(n){let e=n&&(n[kS]||n[VS]);return e||null}function JA(n){return n&&(n.hasOwnProperty(XA)||n.hasOwnProperty(iL))?n[XA]:null}var kS=it({\u0275prov:it}),XA=it({\u0275inj:it}),VS=it({ngInjectableDef:it}),iL=it({ngInjectorDef:it}),X=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function FS(n){return n&&!!n.\u0275providers}var sL=it({\u0275cmp:it}),oL=it({\u0275dir:it}),aL=it({\u0275pipe:it}),cL=it({\u0275mod:it}),Up=it({\u0275fac:it}),Hd=it({__NG_ELEMENT_ID__:it}),ZA=it({__NG_ENV_ID__:it});function ds(n){return typeof n=="string"?n:n==null?"":String(n)}function lL(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ds(n)}function uL(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ne(-200,n)}function Ew(n,e){throw new ne(-201,!1)}var Te=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Te||{}),xE;function LS(){return xE}function Mn(n){let e=xE;return xE=n,e}function US(n,e,t){let r=um(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Te.Optional)return null;if(e!==void 0)return e;Ew(n,"Injector")}var dL={},Gd=dL,NE="__NG_DI_FLAG__",jp="ngTempTokenPath",hL="ngTokenPath",fL=/\n/gm,pL="\u0275",eS="__source",tl;function mL(){return tl}function fo(n){let e=tl;return tl=n,e}function gL(n,e=Te.Default){if(tl===void 0)throw new ne(-203,!1);return tl===null?US(n,void 0,e):tl.get(n,e&Te.Optional?null:void 0,e)}function ce(n,e=Te.Default){return(LS()||gL)(En(n),e)}function W(n,e=Te.Default){return ce(n,dm(e))}function dm(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function PE(n){let e=[];for(let t=0;t<n.length;t++){let r=En(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ne(900,!1);let i,s=Te.Default;for(let a=0;a<r.length;a++){let c=r[a],l=_L(c);typeof l=="number"?l===-1?i=c.token:s|=l:i=c}e.push(ce(i,s))}else e.push(ce(r))}return e}function yL(n,e){return n[NE]=e,n.prototype[NE]=e,n}function _L(n){return n[NE]}function vL(n,e,t,r){let i=n[jp];throw e[eS]&&i.unshift(e[eS]),n.message=EL(`
`+n.message,i,t,r),n[hL]=i,n[jp]=null,n}function EL(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==pL?n.slice(2):n;let i=On(e);if(Array.isArray(e))i=e.map(On).join(" -> ");else if(typeof e=="object"){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+(typeof c=="string"?JSON.stringify(c):On(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(fL,`
  `)}`}var Fn=yL(eL("Optional"),8);function Oa(n,e){let t=n.hasOwnProperty(Up);return t?n[Up]:null}function ww(n,e){n.forEach(t=>Array.isArray(t)?ww(t,e):e(t))}function jS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Bp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wL(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function IL(n,e,t){let r=sh(n,e);return r>=0?n[r|1]=t:(r=~r,wL(n,r,e,t)),r}function mE(n,e){let t=sh(n,e);if(t>=0)return n[t|1]}function sh(n,e){return bL(n,e,1)}function bL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}var rl={},dr=[],il=new X(""),BS=new X("",-1),$S=new X(""),$p=class{get(e,t=Gd){if(t===Gd){let r=new Error(`NullInjectorError: No provider for ${On(e)}!`);throw r.name="NullInjectorError",r}return t}},qS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(qS||{}),vi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(vi||{}),go=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(go||{});function TL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function ME(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],a=t[r++],c=t[r++];n.setAttribute(e,a,c,s)}else{let s=i,a=t[++r];DL(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),r++}}return r}function CL(n){return n===3||n===4||n===6}function DL(n){return n.charCodeAt(0)===64}function Wd(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?tS(n,t,i,null,e[++r]):tS(n,t,i,null,null))}}return n}function tS(n,e,t,r,i){let s=0,a=n.length;if(e===-1)a=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}a!==-1&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var zS="ng-template";function AL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&TL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Iw(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Iw(n){return n.type===4&&n.value!==zS}function SL(n,e,t){let r=n.type===4&&!t?zS:n.value;return e===r}function RL(n,e,t){let r=4,i=n.attrs,s=i!==null?PL(i):0,a=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!a&&!Qr(r)&&!Qr(l))return!1;if(a&&Qr(l))continue;a=!1,r=l|r&1;continue}if(!a)if(r&4){if(r=2|r&1,l!==""&&!SL(n,l,t)||l===""&&e.length===1){if(Qr(r))return!1;a=!0}}else if(r&8){if(i===null||!AL(n,i,l,t)){if(Qr(r))return!1;a=!0}}else{let h=e[++c],f=xL(l,i,Iw(n),t);if(f===-1){if(Qr(r))return!1;a=!0;continue}if(h!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&h!==g){if(Qr(r))return!1;a=!0}}}}return Qr(r)||a}function Qr(n){return(n&1)===0}function xL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let a=e[i];if(a===n)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return ML(e,n)}function NL(n,e,t=!1){for(let r=0;r<e.length;r++)if(RL(n,e[r],t))return!0;return!1}function PL(n){for(let e=0;e<n.length;e++){let t=n[e];if(CL(t))return e}return n.length}function ML(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function nS(n,e){return n?":not("+e.trim()+")":e}function OL(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if(typeof a=="string")if(r&2){let c=n[++t];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Qr(a)&&(e+=nS(s,i),i=""),r=a,s=s||!Qr(r);t++}return i!==""&&(e+=nS(s,i)),e}function kL(n){return n.map(OL).join(",")}function VL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Qr(i))break;i=s}r++}return{attrs:e,classes:t}}function pe(n){return ih(()=>{let e=QS(n),t=ve(q({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===qS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vi.Emulated,styles:n.styles||dr,_:null,schemas:n.schemas||null,tView:null,id:""});YS(t);let r=n.dependencies;return t.directiveDefs=iS(r,!1),t.pipeDefs=iS(r,!0),t.id=UL(t),t})}function FL(n){return ka(n)||HS(n)}function LL(n){return n!==null}function gs(n){return ih(()=>({type:n.type,bootstrap:n.bootstrap||dr,declarations:n.declarations||dr,imports:n.imports||dr,exports:n.exports||dr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function rS(n,e){if(n==null)return rl;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,a,c=go.None;Array.isArray(i)?(c=i[0],s=i[1],a=i[2]??s):(s=i,a=i),e?(t[s]=c!==go.None?[r,c]:r,e[s]=a):t[s]=r}return t}function Ut(n){return ih(()=>{let e=QS(n);return YS(e),e})}function oh(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ka(n){return n[sL]||null}function HS(n){return n[oL]||null}function GS(n){return n[aL]||null}function WS(n){let e=ka(n)||HS(n)||GS(n);return e!==null?e.standalone:!1}function KS(n,e){let t=n[cL]||null;if(!t&&e===!0)throw new Error(`Type ${On(n)} does not have '\u0275mod' property.`);return t}function QS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||rl,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||dr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rS(n.inputs,e),outputs:rS(n.outputs),debugInfo:null}}function YS(n){n.features?.forEach(e=>e(n))}function iS(n,e){if(!n)return null;let t=e?GS:FL;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(LL)}function UL(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function fr(n){return{\u0275providers:n}}function jL(...n){return{\u0275providers:JS(!0,n),\u0275fromNgModule:!0}}function JS(n,...e){let t=[],r=new Set,i,s=a=>{t.push(a)};return ww(e,a=>{let c=a;OE(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&XS(i,s),t}function XS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];bw(i,s=>{e(s,r)})}}function OE(n,e,t,r){if(n=En(n),!n)return!1;let i=null,s=JA(n),a=!s&&ka(n);if(!s&&!a){let l=n.ngModule;if(s=JA(l),s)i=l;else return!1}else{if(a&&!a.standalone)return!1;i=n}let c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of l)OE(h,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let h;try{ww(s.imports,f=>{OE(f,e,t,r)&&(h||=[],h.push(f))})}finally{}h!==void 0&&XS(h,e)}if(!c){let h=Oa(i)||(()=>new i);e({provide:i,useFactory:h,deps:dr},i),e({provide:$S,useValue:i,multi:!0},i),e({provide:il,useValue:()=>ce(i),multi:!0},i)}let l=s.providers;if(l!=null&&!c){let h=n;bw(l,f=>{e(f,h)})}}else return!1;return i!==n&&n.providers!==void 0}function bw(n,e){for(let t of n)FS(t)&&(t=t.\u0275providers),Array.isArray(t)?bw(t,e):e(t)}var BL=it({provide:String,useValue:it});function ZS(n){return n!==null&&typeof n=="object"&&BL in n}function $L(n){return!!(n&&n.useExisting)}function qL(n){return!!(n&&n.useFactory)}function sl(n){return typeof n=="function"}function zL(n){return!!n.useClass}var hm=new X(""),Op={},HL={},gE;function Tw(){return gE===void 0&&(gE=new $p),gE}var kn=class{},Kd=class extends kn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,VE(e,a=>this.processProvider(a)),this.records.set(BS,Xc(void 0,this)),i.has("environment")&&this.records.set(kn,Xc(void 0,this));let s=this.records.get(hm);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($S,dr,Te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=De(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=fo(this),r=Mn(void 0),i;try{return e()}finally{fo(t),Mn(r)}}get(e,t=Gd,r=Te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZA))return e[ZA](this);r=dm(r);let i,s=fo(this),a=Mn(void 0);try{if(!(r&Te.SkipSelf)){let l=this.records.get(e);if(l===void 0){let h=YL(e)&&um(e);h&&this.injectableDefInScope(h)?l=Xc(kE(e),Op):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&Te.Self?Tw():this.parent;return t=r&Te.Optional&&t===Gd?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[jp]=c[jp]||[]).unshift(On(e)),s)throw c;return vL(c,e,"R3InjectorError",this.source)}else throw c}finally{Mn(a),fo(s)}}resolveInjectorInitializers(){let e=De(null),t=fo(this),r=Mn(void 0),i;try{let s=this.get(il,dr,Te.Self);for(let a of s)a()}finally{fo(t),Mn(r),De(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(On(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(e){e=En(e);let t=sl(e)?e:En(e&&e.provide),r=WL(e);if(!sl(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Xc(void 0,Op,!0),i.factory=()=>PE(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=De(null);try{return t.value===Op&&(t.value=HL,t.value=t.factory()),typeof t.value=="object"&&t.value&&QL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{De(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=En(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function kE(n){let e=um(n),t=e!==null?e.factory:Oa(n);if(t!==null)return t;if(n instanceof X)throw new ne(204,!1);if(n instanceof Function)return GL(n);throw new ne(204,!1)}function GL(n){if(n.length>0)throw new ne(204,!1);let t=rL(n);return t!==null?()=>t.factory(n):()=>new n}function WL(n){if(ZS(n))return Xc(void 0,n.useValue);{let e=eR(n);return Xc(e,Op)}}function eR(n,e,t){let r;if(sl(n)){let i=En(n);return Oa(i)||kE(i)}else if(ZS(n))r=()=>En(n.useValue);else if(qL(n))r=()=>n.useFactory(...PE(n.deps||[]));else if($L(n))r=()=>ce(En(n.useExisting));else{let i=En(n&&(n.useClass||n.provide));if(KL(n))r=()=>new i(...PE(n.deps));else return Oa(i)||kE(i)}return r}function Xc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function KL(n){return!!n.deps}function QL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function YL(n){return typeof n=="function"||typeof n=="object"&&n instanceof X}function VE(n,e){for(let t of n)Array.isArray(t)?VE(t,e):t&&FS(t)?VE(t.\u0275providers,e):e(t)}function Zr(n,e){n instanceof Kd&&n.assertNotDestroyed();let t,r=fo(n),i=Mn(void 0);try{return e()}finally{fo(r),Mn(i)}}function JL(){return LS()!==void 0||mL()!=null}function XL(n){return typeof n=="function"}var ys=0,we=1,he=2,In=3,Yr=4,ei=5,Qd=6,qp=7,an=8,ol=9,Ei=10,At=11,Yd=12,sS=13,gl=14,Jr=15,al=16,Zc=17,cl=18,fm=19,tR=20,po=21,yE=22,hr=23,bn=25,nR=1;var Va=7,zp=8,Hp=9,wn=10,Gp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Gp||{});function mo(n){return Array.isArray(n)&&typeof n[nR]=="object"}function _s(n){return Array.isArray(n)&&n[nR]===!0}function rR(n){return(n.flags&4)!==0}function pm(n){return n.componentOffset>-1}function Cw(n){return(n.flags&1)===1}function yo(n){return!!n.template}function FE(n){return(n[he]&512)!==0}var LE=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function iR(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function vo(){return sR}function sR(n){return n.type.prototype.ngOnChanges&&(n.setInput=e2),ZL}vo.ngInherit=!0;function ZL(){let n=aR(this),e=n?.current;if(e){let t=n.previous;if(t===rl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function e2(n,e,t,r,i){let s=this.declaredInputs[r],a=aR(n)||t2(n,{previous:rl,current:null}),c=a.current||(a.current={}),l=a.previous,h=l[s];c[s]=new LE(h&&h.currentValue,t,l===rl),iR(n,e,i,t)}var oR="__ngSimpleChanges__";function aR(n){return n[oR]||null}function t2(n,e){return n[oR]=e}var oS=null;var yi=function(n,e,t){oS?.(n,e,t)},cR="svg",n2="math";function wi(n){for(;Array.isArray(n);)n=n[ys];return n}function lR(n,e){return wi(e[n])}function pr(n,e){return wi(e[n.index])}function Dw(n,e){return n.data[e]}function Aw(n,e){return n[e]}function Eo(n,e){let t=e[n];return mo(t)?t:t[ys]}function Sw(n){return(n[he]&128)===128}function r2(n){return _s(n[In])}function ll(n,e){return e==null?null:n[e]}function uR(n){n[Zc]=0}function dR(n){n[he]&1024||(n[he]|=1024,Sw(n)&&gm(n))}function i2(n,e){for(;n>0;)e=e[gl],n--;return e}function mm(n){return!!(n[he]&9216||n[hr]?.dirty)}function UE(n){n[Ei].changeDetectionScheduler?.notify(8),n[he]&64&&(n[he]|=1024),mm(n)&&gm(n)}function gm(n){n[Ei].changeDetectionScheduler?.notify(0);let e=Fa(n);for(;e!==null&&!(e[he]&8192||(e[he]|=8192,!Sw(e)));)e=Fa(e)}function hR(n,e){if((n[he]&256)===256)throw new ne(911,!1);n[po]===null&&(n[po]=[]),n[po].push(e)}function s2(n,e){if(n[po]===null)return;let t=n[po].indexOf(e);t!==-1&&n[po].splice(t,1)}function Fa(n){let e=n[In];return _s(e)?e[In]:e}var be={lFrame:IR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fR=!1;function o2(){return be.lFrame.elementDepthCount}function a2(){be.lFrame.elementDepthCount++}function c2(){be.lFrame.elementDepthCount--}function pR(){return be.bindingsEnabled}function l2(){return be.skipHydrationRootTNode!==null}function u2(n){return be.skipHydrationRootTNode===n}function d2(){be.skipHydrationRootTNode=null}function Me(){return be.lFrame.lView}function cn(){return be.lFrame.tView}function ln(n){return be.lFrame.contextLView=n,n[an]}function un(n){return be.lFrame.contextLView=null,n}function Zn(){let n=mR();for(;n!==null&&n.type===64;)n=n.parent;return n}function mR(){return be.lFrame.currentTNode}function h2(){let n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ah(n,e){let t=be.lFrame;t.currentTNode=n,t.isParent=e}function gR(){return be.lFrame.isParent}function f2(){be.lFrame.isParent=!1}function yR(){return fR}function aS(n){fR=n}function Rw(){let n=be.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function _R(){return be.lFrame.bindingIndex}function p2(n){return be.lFrame.bindingIndex=n}function yl(){return be.lFrame.bindingIndex++}function xw(n){let e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function m2(){return be.lFrame.inI18n}function g2(n,e){let t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,jE(e)}function y2(){return be.lFrame.currentDirectiveIndex}function jE(n){be.lFrame.currentDirectiveIndex=n}function _2(n){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function vR(n){be.lFrame.currentQueryIndex=n}function v2(n){let e=n[we];return e.type===2?e.declTNode:e.type===1?n[ei]:null}function ER(n,e,t){if(t&Te.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&Te.Host);)if(i=v2(s),i===null||(s=s[gl],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=be.lFrame=wR();return r.currentTNode=e,r.lView=n,!0}function Nw(n){let e=wR(),t=n[we];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function wR(){let n=be.lFrame,e=n===null?null:n.child;return e===null?IR(n):e}function IR(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function bR(){let n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var TR=bR;function Pw(){let n=bR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function E2(n){return(be.lFrame.contextLView=i2(n,be.lFrame.contextLView))[an]}function vs(){return be.lFrame.selectedIndex}function La(n){be.lFrame.selectedIndex=n}function ym(){let n=be.lFrame;return Dw(n.tView,n.selectedIndex)}function Mw(){be.lFrame.currentNamespace=cR}function CR(){w2()}function w2(){be.lFrame.currentNamespace=null}function I2(){return be.lFrame.currentNamespace}var DR=!0;function Ow(){return DR}function kw(n){DR=n}function b2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let a=sR(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Vw(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:f}=s;a&&(n.contentHooks??=[]).push(-t,a),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),l&&(n.viewHooks??=[]).push(-t,l),h&&((n.viewHooks??=[]).push(t,h),(n.viewCheckHooks??=[]).push(t,h)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function kp(n,e,t){AR(n,e,3,t)}function Vp(n,e,t,r){(n[he]&3)===t&&AR(n,e,t,r)}function _E(n,e){let t=n[he];(t&3)===e&&(t&=16383,t+=1,n[he]=t)}function AR(n,e,t,r){let i=r!==void 0?n[Zc]&65535:0,s=r??-1,a=e.length-1,c=0;for(let l=i;l<a;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(n[Zc]+=65536),(c<s||s==-1)&&(T2(n,t,e,l),n[Zc]=(n[Zc]&4294901760)+l+2),l++}function cS(n,e){yi(4,n,e);let t=De(null);try{e.call(n)}finally{De(t),yi(5,n,e)}}function T2(n,e,t,r){let i=t[r]<0,s=t[r+1],a=i?-t[r]:t[r],c=n[a];i?n[he]>>14<n[Zc]>>16&&(n[he]&3)===e&&(n[he]+=16384,cS(c,s)):cS(c,s)}var nl=-1,Ua=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function C2(n){return n instanceof Ua}function D2(n){return(n.flags&8)!==0}function A2(n){return(n.flags&16)!==0}var vE={},BE=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=dm(r);let i=this.injector.get(e,vE,r);return i!==vE||t===vE?i:this.parentInjector.get(e,t,r)}};function SR(n){return n!==nl}function Wp(n){return n&32767}function S2(n){return n>>16}function Kp(n,e){let t=S2(n),r=e;for(;t>0;)r=r[gl],t--;return r}var $E=!0;function Qp(n){let e=$E;return $E=n,e}var R2=256,RR=R2-1,xR=5,x2=0,_i={};function N2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hd)&&(r=t[Hd]),r==null&&(r=t[Hd]=x2++);let i=r&RR,s=1<<i;e.data[n+(i>>xR)]|=s}function Yp(n,e){let t=NR(n,e);if(t!==-1)return t;let r=e[we];r.firstCreatePass&&(n.injectorIndex=e.length,EE(r.data,n),EE(e,null),EE(r.blueprint,null));let i=Fw(n,e),s=n.injectorIndex;if(SR(i)){let a=Wp(i),c=Kp(i,e),l=c[we].data;for(let h=0;h<8;h++)e[s+h]=c[a+h]|l[a+h]}return e[s+8]=i,s}function EE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function NR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Fw(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=VR(i),r===null)return nl;if(t++,i=i[gl],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return nl}function qE(n,e,t){N2(n,e,t)}function PR(n,e,t){if(t&Te.Optional||n!==void 0)return n;Ew(e,"NodeInjector")}function MR(n,e,t,r){if(t&Te.Optional&&r===void 0&&(r=null),!(t&(Te.Self|Te.Host))){let i=n[ol],s=Mn(void 0);try{return i?i.get(e,r,t&Te.Optional):US(e,r,t&Te.Optional)}finally{Mn(s)}}return PR(r,e,t)}function OR(n,e,t,r=Te.Default,i){if(n!==null){if(e[he]&2048&&!(r&Te.Self)){let a=V2(n,e,t,r,_i);if(a!==_i)return a}let s=kR(n,e,t,r,_i);if(s!==_i)return s}return MR(e,t,r,i)}function kR(n,e,t,r,i){let s=O2(t);if(typeof s=="function"){if(!ER(e,n,r))return r&Te.Host?PR(i,t,r):MR(e,t,r,i);try{let a;if(a=s(r),a==null&&!(r&Te.Optional))Ew(t);else return a}finally{TR()}}else if(typeof s=="number"){let a=null,c=NR(n,e),l=nl,h=r&Te.Host?e[Jr][ei]:null;for((c===-1||r&Te.SkipSelf)&&(l=c===-1?Fw(n,e):e[c+8],l===nl||!uS(r,!1)?c=-1:(a=e[we],c=Wp(l),e=Kp(l,e)));c!==-1;){let f=e[we];if(lS(s,c,f.data)){let g=P2(c,e,t,a,r,h);if(g!==_i)return g}l=e[c+8],l!==nl&&uS(r,e[we].data[c+8]===h)&&lS(s,c,e)?(a=f,c=Wp(l),e=Kp(l,e)):c=-1}}return i}function P2(n,e,t,r,i,s){let a=e[we],c=a.data[n+8],l=r==null?pm(c)&&$E:r!=a&&(c.type&3)!==0,h=i&Te.Host&&s===c,f=M2(c,a,t,l,h);return f!==null?ul(e,a,f,c):_i}function M2(n,e,t,r,i){let s=n.providerIndexes,a=e.data,c=s&1048575,l=n.directiveStart,h=n.directiveEnd,f=s>>20,g=r?c:c+f,I=i?c+f:h;for(let T=g;T<I;T++){let x=a[T];if(T<l&&t===x||T>=l&&x.type===t)return T}if(i){let T=a[l];if(T&&yo(T)&&T.type===t)return l}return null}function ul(n,e,t,r){let i=n[t],s=e.data;if(C2(i)){let a=i;a.resolving&&uL(lL(s[t]));let c=Qp(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Mn(a.injectImpl):null,f=ER(n,r,Te.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&b2(t,s[t],e)}finally{h!==null&&Mn(h),Qp(c),a.resolving=!1,TR()}}return i}function O2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Hd)?n[Hd]:void 0;return typeof e=="number"?e>=0?e&RR:k2:e}function lS(n,e,t){let r=1<<n;return!!(t[e+(n>>xR)]&r)}function uS(n,e){return!(n&Te.Self)&&!(n&Te.Host&&e)}var Ma=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return OR(this._tNode,this._lView,e,dm(r),t)}};function k2(){return new Ma(Zn(),Me())}function $a(n){return ih(()=>{let e=n.prototype.constructor,t=e[Up]||zE(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Up]||zE(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function zE(n){return MS(n)?()=>{let e=zE(En(n));return e&&e()}:Oa(n)}function V2(n,e,t,r,i){let s=n,a=e;for(;s!==null&&a!==null&&a[he]&2048&&!(a[he]&512);){let c=kR(s,a,t,r|Te.Self,_i);if(c!==_i)return c;let l=s.parent;if(!l){let h=a[tR];if(h){let f=h.get(t,_i,r);if(f!==_i)return f}l=VR(a),a=a[gl]}s=l}return i}function VR(n){let e=n[we],t=e.type;return t===2?e.declTNode:t===1?n[ei]:null}function dS(n,e=null,t=null,r){let i=FR(n,e,t,r);return i.resolveInjectorInitializers(),i}function FR(n,e=null,t=null,r,i=new Set){let s=[t||dr,jL(n)];return r=r||(typeof n=="object"?void 0:On(n)),new Kd(s,e||Tw(),r||null,i)}var Vn=class n{static{this.THROW_IF_NOT_FOUND=Gd}static{this.NULL=new $p}static create(e,t){if(Array.isArray(e))return dS({name:""},t,e,"");{let r=e.name??"";return dS({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Z({token:n,providedIn:"any",factory:()=>ce(BS)})}static{this.__NG_ELEMENT_ID__=-1}};var F2=new X("");F2.__NG_ELEMENT_ID__=n=>{let e=Zn();if(e===null)throw new ne(204,!1);if(e.type&2)return e.value;if(n&Te.Optional)return null;throw new ne(204,!1)};var L2="ngOriginalError";function wE(n){return n[L2]}var LR=!0,UR=(()=>{class n{static{this.__NG_ELEMENT_ID__=U2}static{this.__NG_ENV_ID__=t=>t}}return n})(),HE=class extends UR{constructor(e){super(),this._lView=e}onDestroy(e){return hR(this._lView,e),()=>s2(this._lView,e)}};function U2(){return new HE(Me())}var wo=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new It(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}}return n})();var GE=class extends Ft{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,JL()&&(this.destroyRef=W(UR,{optional:!0})??void 0,this.pendingTasks=W(wo,{optional:!0})??void 0)}emit(e){let t=De(null);try{super.next(e)}finally{De(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),a=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:i,error:s,complete:a});return e instanceof _t&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ct=GE;function Jp(...n){}function jR(n){let e,t;function r(){n=Jp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function hS(n){return queueMicrotask(()=>n()),()=>{n=Jp}}var Lw="isAngularZone",Xp=Lw+"_ID",j2=0,Qe=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=LR}=e;if(typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=s,q2(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lw)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ne(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,B2,Jp,Jp);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},B2={};function Uw(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){jR(()=>{n.callbackScheduled=!1,WE(n),n.isCheckStableRunning=!0,Uw(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),WE(n)}function q2(n){let e=()=>{$2(n)},t=j2++;n._inner=n._inner.fork({name:"angular",properties:{[Lw]:!0,[Xp]:t,[Xp+t]:!0},onInvokeTask:(r,i,s,a,c,l)=>{if(z2(l))return r.invokeTask(s,a,c,l);try{return fS(n),r.invokeTask(s,a,c,l)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),pS(n)}},onInvoke:(r,i,s,a,c,l,h)=>{try{return fS(n),r.invoke(s,a,c,l,h)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!H2(l)&&e(),pS(n)}},onHasTask:(r,i,s,a)=>{r.hasTask(s,a),i===s&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,WE(n),Uw(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,s,a)=>(r.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function WE(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function fS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pS(n){n._nesting--,Uw(n)}var KE=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct,this.onMicrotaskEmpty=new ct,this.onStable=new ct,this.onError=new ct}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function z2(n){return BR(n,"__ignore_ng_zone__")}function H2(n){return BR(n,"__scheduler_tick__")}function BR(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var hs=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&wE(e);for(;t&&wE(t);)t=wE(t);return t||null}},G2=new X("",{providedIn:"root",factory:()=>{let n=W(Qe),e=W(hs);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function W2(){return jw(Zn(),Me())}function jw(n,e){return new bi(pr(n,e))}var bi=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=W2}}return n})();function $R(n){return(n.flags&128)===128}var qR=new Map,K2=0;function Q2(){return K2++}function Y2(n){qR.set(n[fm],n)}function QE(n){qR.delete(n[fm])}var mS="__ngContext__";function ja(n,e){mo(e)?(n[mS]=e[fm],Y2(e)):n[mS]=e}function zR(n){return GR(n[Yd])}function HR(n){return GR(n[Yr])}function GR(n){for(;n!==null&&!_s(n);)n=n[Yr];return n}var YE;function WR(n){YE=n}function J2(){if(YE!==void 0)return YE;if(typeof document<"u")return document;throw new ne(210,!1)}var Bw=new X("",{providedIn:"root",factory:()=>X2}),X2="ng",$w=new X(""),Ti=new X("",{providedIn:"platform",factory:()=>"unknown"});var qw=new X("",{providedIn:"root",factory:()=>J2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Z2="h",eU="b";var tU=()=>null;function zw(n,e,t=!1){return tU(n,e,t)}var KR=!1,nU=new X("",{providedIn:"root",factory:()=>KR});var Zp=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${PS})`}};function _m(n){return n instanceof Zp?n.changingThisBreaksApplicationSecurity:n}function QR(n,e){let t=rU(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${PS})`)}return t===e}function rU(n){return n instanceof Zp&&n.getTypeName()||null}var iU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YR(n){return n=String(n),n.match(iU)?n:"unsafe:"+n}var Hw=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Hw||{});function vm(n){let e=sU();return e?e.sanitize(Hw.URL,n)||"":QR(n,"URL")?_m(n):YR(ds(n))}function sU(){let n=Me();return n&&n[Ei].sanitizer}function JR(n){return n instanceof Function?n():n}var fs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(fs||{}),oU;function Gw(n,e){return oU(n,e)}function el(n,e,t,r,i){if(r!=null){let s,a=!1;_s(r)?s=r:mo(r)&&(a=!0,r=r[ys]);let c=wi(r);n===0&&t!==null?i==null?tx(e,t,c):em(e,t,c,i||null,!0):n===1&&t!==null?em(e,t,c,i||null,!0):n===2?wU(e,c,a):n===3&&e.destroyNode(c),s!=null&&bU(e,n,s,t,i)}}function aU(n,e){return n.createText(e)}function cU(n,e,t){n.setValue(e,t)}function XR(n,e,t){return n.createElement(e,t)}function lU(n,e){ZR(n,e),e[ys]=null,e[ei]=null}function uU(n,e,t,r,i,s){r[ys]=i,r[ei]=e,wm(n,r,t,1,i,s)}function ZR(n,e){e[Ei].changeDetectionScheduler?.notify(9),wm(n,e,e[At],2,null,null)}function dU(n){let e=n[Yd];if(!e)return IE(n[we],n);for(;e;){let t=null;if(mo(e))t=e[Yd];else{let r=e[wn];r&&(t=r)}if(!t){for(;e&&!e[Yr]&&e!==n;)mo(e)&&IE(e[we],e),e=e[In];e===null&&(e=n),mo(e)&&IE(e[we],e),t=e&&e[Yr]}e=t}}function hU(n,e,t,r){let i=wn+r,s=t.length;r>0&&(t[i-1][Yr]=e),r<s-wn?(e[Yr]=t[i],jS(t,wn+r,e)):(t.push(e),e[Yr]=null),e[In]=t;let a=e[al];a!==null&&t!==a&&ex(a,e);let c=e[cl];c!==null&&c.insertView(n),UE(e),e[he]|=128}function ex(n,e){let t=n[Hp],r=e[In];if(mo(r))n[he]|=Gp.HasTransplantedViews;else{let i=r[In][Jr];e[Jr]!==i&&(n[he]|=Gp.HasTransplantedViews)}t===null?n[Hp]=[e]:t.push(e)}function Ww(n,e){let t=n[Hp],r=t.indexOf(e);t.splice(r,1)}function Jd(n,e){if(n.length<=wn)return;let t=wn+e,r=n[t];if(r){let i=r[al];i!==null&&i!==n&&Ww(i,r),e>0&&(n[t-1][Yr]=r[Yr]);let s=Bp(n,wn+e);lU(r[we],r);let a=s[cl];a!==null&&a.detachView(s[we]),r[In]=null,r[Yr]=null,r[he]&=-129}return r}function Em(n,e){if(!(e[he]&256)){let t=e[At];t.destroyNode&&wm(n,e,t,3,null,null),dU(e)}}function IE(n,e){if(e[he]&256)return;let t=De(null);try{e[he]&=-129,e[he]|=256,e[hr]&&Gv(e[hr]),pU(n,e),fU(n,e),e[we].type===1&&e[At].destroy();let r=e[al];if(r!==null&&_s(e[In])){r!==e[In]&&Ww(r,e);let i=e[cl];i!==null&&i.detachView(n)}QE(e)}finally{De(t)}}function fU(n,e){let t=n.cleanup,r=e[qp];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[qp]=null);let i=e[po];if(i!==null){e[po]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function pU(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ua)){let s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let c=i[s[a]],l=s[a+1];yi(4,c,l);try{l.call(c)}finally{yi(5,c,l)}}else{yi(4,i,s);try{s.call(i)}finally{yi(5,i,s)}}}}}function mU(n,e,t){return gU(n,e.parent,t)}function gU(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ys];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===vi.None||s===vi.Emulated)return null}return pr(r,t)}}function em(n,e,t,r,i){n.insertBefore(e,t,r,i)}function tx(n,e,t){n.appendChild(e,t)}function gS(n,e,t,r,i){r!==null?em(n,e,t,r,i):tx(n,e,t)}function nx(n,e){return n.parentNode(e)}function yU(n,e){return n.nextSibling(e)}function _U(n,e,t){return EU(n,e,t)}function vU(n,e,t){return n.type&40?pr(n,t):null}var EU=vU,yS;function Kw(n,e,t,r){let i=mU(n,r,e),s=e[At],a=r.parent||e[ei],c=_U(a,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)gS(s,i,t[l],c,!1);else gS(s,i,t,c,!1);yS!==void 0&&yS(s,r,e,t,i)}function qd(n,e){if(e!==null){let t=e.type;if(t&3)return pr(e,n);if(t&4)return JE(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return qd(n,r);{let i=n[e.index];return _s(i)?JE(-1,i):wi(i)}}else{if(t&128)return qd(n,e.next);if(t&32)return Gw(e,n)()||wi(n[e.index]);{let r=rx(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fa(n[Jr]);return qd(i,r)}else return qd(n,e.next)}}}return null}function rx(n,e){if(e!==null){let r=n[Jr][ei],i=e.projection;return r.projection[i]}return null}function JE(n,e){let t=wn+n+1;if(t<e.length){let r=e[t],i=r[we].firstChild;if(i!==null)return qd(r,i)}return e[Va]}function wU(n,e,t){n.removeChild(null,e,t)}function Qw(n,e,t,r,i,s,a){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(a&&e===0&&(c&&ja(wi(c),r),t.flags|=2),(t.flags&32)!==32)if(l&8)Qw(n,e,t.child,r,i,s,!1),el(e,n,i,c,s);else if(l&32){let h=Gw(t,r),f;for(;f=h();)el(e,n,i,f,s);el(e,n,i,c,s)}else l&16?IU(n,e,r,t,i,s):el(e,n,i,c,s);t=a?t.projectionNext:t.next}}function wm(n,e,t,r,i,s){Qw(t,r,n.firstChild,e,i,s,!1)}function IU(n,e,t,r,i,s){let a=t[Jr],l=a[ei].projection[r.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++){let f=l[h];el(e,n,i,f,s)}else{let h=l,f=a[In];$R(r)&&(h.flags|=128),Qw(n,e,h,f,i,s,!0)}}function bU(n,e,t,r,i){let s=t[Va],a=wi(t);s!==a&&el(e,n,r,s,i);for(let c=wn;c<t.length;c++){let l=t[c];wm(l[we],l,n,e,r,s)}}function TU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:fs.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=fs.Important),n.setStyle(t,r,i,s))}}function CU(n,e,t){n.setAttribute(e,"style",t)}function ix(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function sx(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&ME(n,e,r),i!==null&&ix(n,e,i),s!==null&&CU(n,e,s)}var er={};function k(n=1){ox(cn(),Me(),vs()+n,!1)}function ox(n,e,t,r){if(!r)if((e[he]&3)===3){let s=n.preOrderCheckHooks;s!==null&&kp(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Vp(e,s,0,t)}La(t)}function H(n,e=Te.Default){let t=Me();if(t===null)return ce(n,e);let r=Zn();return OR(r,t,En(n),e)}function ax(n,e,t,r,i,s){let a=De(null);try{let c=null;i&go.SignalBased&&(c=e[r][cs]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&go.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):iR(e,c,r,s)}finally{De(a)}}function DU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)La(~i);else{let s=i,a=t[++r],c=t[++r];g2(a,s);let l=e[s];c(2,l)}}}finally{La(-1)}}function Im(n,e,t,r,i,s,a,c,l,h,f){let g=e.blueprint.slice();return g[ys]=i,g[he]=r|4|128|8|64,(h!==null||n&&n[he]&2048)&&(g[he]|=2048),uR(g),g[In]=g[gl]=n,g[an]=t,g[Ei]=a||n&&n[Ei],g[At]=c||n&&n[At],g[ol]=l||n&&n[ol]||null,g[ei]=s,g[fm]=Q2(),g[Qd]=f,g[tR]=h,g[Jr]=e.type==2?n[Jr]:g,g}function bm(n,e,t,r,i){let s=n.data[e];if(s===null)s=AU(n,e,t,r,i),m2()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let a=h2();s.injectorIndex=a===null?-1:a.injectorIndex}return ah(s,!0),s}function AU(n,e,t,r,i){let s=mR(),a=gR(),c=a?s:s&&s.parent,l=n.data[e]=PU(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),s!==null&&(a?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function cx(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function lx(n,e,t,r,i){let s=vs(),a=r&2;try{La(-1),a&&e.length>bn&&ox(n,e,bn,!1),yi(a?2:0,i),t(r,i)}finally{La(s),yi(a?3:1,i)}}function ux(n,e,t){if(rR(e)){let r=De(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let a=i;a<s;a++){let c=n.data[a];if(c.contentQueries){let l=t[a];c.contentQueries(1,l,a)}}}finally{De(r)}}}function dx(n,e,t){pR()&&(LU(n,e,t,pr(t,e)),(t.flags&64)===64&&gx(n,e,t))}function hx(n,e,t=pr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let a=r[s+1],c=a===-1?t(e,n):n[a];n[i++]=c}}}function fx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Yw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Yw(n,e,t,r,i,s,a,c,l,h,f){let g=bn+r,I=g+i,T=SU(g,I),x=typeof h=="function"?h():h;return T[we]={type:n,blueprint:T,template:t,queries:null,viewQuery:c,declTNode:e,data:T.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:f}}function SU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:er);return t}function RU(n,e,t,r){let s=r.get(nU,KR)||t===vi.ShadowDom,a=n.selectRootElement(e,s);return xU(a),a}function xU(n){NU(n)}var NU=()=>null;function PU(n,e,t,r,i,s){let a=e?e.injectorIndex:-1,c=0;return l2()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _S(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let a=e[s];if(a===void 0)continue;r??={};let c,l=go.None;Array.isArray(a)?(c=a[0],l=a[1]):c=a;let h=s;if(i!==null){if(!i.hasOwnProperty(s))continue;h=i[s]}n===0?vS(r,t,h,c,l):vS(r,t,h,c)}return r}function vS(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function MU(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,a=e.attrs,c=[],l=null,h=null;for(let f=r;f<i;f++){let g=s[f],I=t?t.get(g):null,T=I?I.inputs:null,x=I?I.outputs:null;l=_S(0,g.inputs,f,l,T),h=_S(1,g.outputs,f,h,x);let M=l!==null&&a!==null&&!Iw(e)?QU(l,f,a):null;c.push(M)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=l,e.outputs=h}function OU(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Jw(n,e,t,r,i,s,a,c){let l=pr(e,t),h=e.inputs,f;!c&&h!=null&&(f=h[r])?(Xw(n,t,f,r,i),pm(e)&&kU(t,e.index)):e.type&3?(r=OU(r),i=a!=null?a(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function kU(n,e){let t=Eo(e,n);t[he]&16||(t[he]|=64)}function px(n,e,t,r){if(pR()){let i=r===null?null:{"":-1},s=jU(n,t),a,c;s===null?a=c=null:[a,c]=s,a!==null&&mx(n,e,t,a,i,c),i&&BU(t,r,i)}t.mergedAttrs=Wd(t.mergedAttrs,t.attrs)}function mx(n,e,t,r,i,s){for(let h=0;h<r.length;h++)qE(Yp(t,e),n,r[h].type);qU(t,n.data.length,r.length);for(let h=0;h<r.length;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let a=!1,c=!1,l=cx(n,e,r.length,null);for(let h=0;h<r.length;h++){let f=r[h];t.mergedAttrs=Wd(t.mergedAttrs,f.hostAttrs),zU(n,t,e,l,f),$U(l,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),a=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),l++}MU(n,t,s)}function VU(n,e,t,r,i){let s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let c=~e.index;FU(a)!=c&&a.push(c),a.push(t,r,s)}}function FU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function LU(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;pm(t)&&HU(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Yp(t,e),ja(r,e);let a=t.initialInputs;for(let c=i;c<s;c++){let l=n.data[c],h=ul(e,n,c,t);if(ja(h,e),a!==null&&KU(e,c-i,h,l,t,a),yo(l)){let f=Eo(t.index,e);f[an]=ul(e,n,c,t)}}}function gx(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,a=y2();try{La(s);for(let c=r;c<i;c++){let l=n.data[c],h=e[c];jE(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&UU(l,h)}}finally{La(-1),jE(a)}}function UU(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function jU(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let a=t[s];if(NL(e,a.selectors,!1))if(r||(r=[]),yo(a))if(a.findHostDirectiveDefs!==null){let c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a);let l=c.length;XE(n,e,l)}else r.unshift(a),XE(n,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function XE(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function BU(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ne(-301,!1);r.push(e[i],s)}}}function $U(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;yo(e)&&(t[""]=n)}}function qU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function zU(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Oa(i.type,!0)),a=new Ua(s,yo(i),H);n.blueprint[r]=a,t[r]=a,VU(n,e,r,cx(n,t,i.hostVars,er),i)}function HU(n,e,t){let r=pr(e,n),i=fx(t),s=n[Ei].rendererFactory,a=16;t.signals?a=4096:t.onPush&&(a=64);let c=Tm(n,Im(n,i,null,a,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function GU(n,e,t,r,i,s){let a=pr(n,e);WU(e[At],a,s,n.value,t,r,i)}function WU(n,e,t,r,i,s,a){if(s==null)n.removeAttribute(e,i,t);else{let c=a==null?ds(s):a(s,r||"",i);n.setAttribute(e,i,c,t)}}function KU(n,e,t,r,i,s){let a=s[e];if(a!==null)for(let c=0;c<a.length;){let l=a[c++],h=a[c++],f=a[c++],g=a[c++];ax(r,t,l,h,f,g)}}function QU(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let a=n[s];for(let c=0;c<a.length;c+=3)if(a[c]===e){r.push(s,a[c+1],a[c+2],t[i+1]);break}}i+=2}return r}function yx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function _x(n,e){let t=n.contentQueries;if(t!==null){let r=De(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a!==-1){let c=n.data[a];vR(s),c.contentQueries(2,e[a],a)}}}finally{De(r)}}}function Tm(n,e){return n[Yd]?n[sS][Yr]=e:n[Yd]=e,n[sS]=e,e}function ZE(n,e,t){vR(0);let r=De(null);try{e(n,t)}finally{De(r)}}function YU(n){return n[qp]??=[]}function JU(n){return n.cleanup??=[]}function vx(n,e){let t=n[ol],r=t?t.get(hs,null):null;r&&r.handleError(e)}function Xw(n,e,t,r,i){for(let s=0;s<t.length;){let a=t[s++],c=t[s++],l=t[s++],h=e[a],f=n.data[a];ax(f,h,r,c,l,i)}}function Zw(n,e,t){let r=lR(e,n);cU(n[At],r,t)}function XU(n,e){let t=Eo(e,n),r=t[we];ZU(r,t);let i=t[ys];i!==null&&t[Qd]===null&&(t[Qd]=zw(i,t[ol])),eI(r,t,t[an])}function ZU(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function eI(n,e,t){Nw(e);try{let r=n.viewQuery;r!==null&&ZE(1,r,t);let i=n.template;i!==null&&lx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[cl]?.finishViewCreation(n),n.staticContentQueries&&_x(n,e),n.staticViewQueries&&ZE(2,n.viewQuery,t);let s=n.components;s!==null&&ej(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[he]&=-5,Pw()}}function ej(n,e){for(let t=0;t<e.length;t++)XU(n,e[t])}function tI(n,e,t,r){let i=De(null);try{let s=e.tView,c=n[he]&4096?4096:16,l=Im(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=n[e.index];l[al]=h;let f=n[cl];return f!==null&&(l[cl]=f.createEmbeddedView(s)),eI(s,l,t),l}finally{De(i)}}function Ex(n,e){let t=wn+e;if(t<n.length)return n[t]}function Xd(n,e){return!e||e.firstChild===null||$R(n)}function Cm(n,e,t,r=!0){let i=e[we];if(hU(i,e,n,t),r){let a=JE(t,n),c=e[At],l=nx(c,n[Va]);l!==null&&uU(i,n[ei],c,e,l,a)}let s=e[Qd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function wx(n,e){let t=Jd(n,e);return t!==void 0&&Em(t[we],t),t}function tm(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(wi(s)),_s(s)&&tj(s,r);let a=t.type;if(a&8)tm(n,e,t.child,r);else if(a&32){let c=Gw(t,e),l;for(;l=c();)r.push(l)}else if(a&16){let c=rx(e,t);if(Array.isArray(c))r.push(...c);else{let l=Fa(e[Jr]);tm(l[we],l,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function tj(n,e){for(let t=wn;t<n.length;t++){let r=n[t],i=r[we].firstChild;i!==null&&tm(r[we],r,i,e)}n[Va]!==n[ys]&&e.push(n[Va])}var Ix=[];function nj(n){return n[hr]??rj(n)}function rj(n){let e=Ix.pop()??Object.create(sj);return e.lView=n,e}function ij(n){n.lView[hr]!==n&&(n.lView=null,Ix.push(n))}var sj=ve(q({},Ud),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{gm(n.lView)},consumerOnSignalRead(){this.lView[hr]=this}});function oj(n){let e=n[hr]??Object.create(aj);return e.lView=n,e}var aj=ve(q({},Ud),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Fa(n.lView);for(;e&&!bx(e[we]);)e=Fa(e);e&&dR(e)},consumerOnSignalRead(){this.lView[hr]=this}});function bx(n){return n.type!==2}var cj=100;function Tx(n,e=!0,t=0){let r=n[Ei],i=r.rendererFactory,s=!1;s||i.begin?.();try{lj(n,t)}catch(a){throw e&&vx(n,a),a}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function lj(n,e){let t=yR();try{aS(!0),ew(n,e);let r=0;for(;mm(n);){if(r===cj)throw new ne(103,!1);r++,ew(n,1)}}finally{aS(t)}}function uj(n,e,t,r){let i=e[he];if((i&256)===256)return;let s=!1,a=!1;!s&&e[Ei].inlineEffectRunner?.flush(),Nw(e);let c=!0,l=null,h=null;s||(bx(n)?(h=nj(e),l=np(h)):dA()===null?(c=!1,h=oj(e),l=np(h)):e[hr]&&(Gv(e[hr]),e[hr]=null));try{uR(e),p2(n.bindingStartIndex),t!==null&&lx(n,e,t,2,r);let f=(i&3)===3;if(!s)if(f){let T=n.preOrderCheckHooks;T!==null&&kp(e,T,null)}else{let T=n.preOrderHooks;T!==null&&Vp(e,T,0,null),_E(e,0)}if(a||dj(e),Cx(e,0),n.contentQueries!==null&&_x(n,e),!s)if(f){let T=n.contentCheckHooks;T!==null&&kp(e,T)}else{let T=n.contentHooks;T!==null&&Vp(e,T,1),_E(e,1)}DU(n,e);let g=n.components;g!==null&&Ax(e,g,0);let I=n.viewQuery;if(I!==null&&ZE(2,I,r),!s)if(f){let T=n.viewCheckHooks;T!==null&&kp(e,T)}else{let T=n.viewHooks;T!==null&&Vp(e,T,2),_E(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[yE]){for(let T of e[yE])T();e[yE]=null}s||(e[he]&=-73)}catch(f){throw s||gm(e),f}finally{h!==null&&(zv(h,l),c&&ij(h)),Pw()}}function Cx(n,e){for(let t=zR(n);t!==null;t=HR(t))for(let r=wn;r<t.length;r++){let i=t[r];Dx(i,e)}}function dj(n){for(let e=zR(n);e!==null;e=HR(e)){if(!(e[he]&Gp.HasTransplantedViews))continue;let t=e[Hp];for(let r=0;r<t.length;r++){let i=t[r];dR(i)}}}function hj(n,e,t){let r=Eo(e,n);Dx(r,t)}function Dx(n,e){Sw(n)&&ew(n,e)}function ew(n,e){let r=n[we],i=n[he],s=n[hr],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(s?.dirty&&Hv(s)),a||=!1,s&&(s.dirty=!1),n[he]&=-9217,a)uj(r,n,r.template,n[an]);else if(i&8192){Cx(n,1);let c=r.components;c!==null&&Ax(n,c,1)}}function Ax(n,e,t){for(let r=0;r<e.length;r++)hj(n,e[r],t)}function nI(n,e){let t=yR()?64:1088;for(n[Ei].changeDetectionScheduler?.notify(e);n;){n[he]|=t;let r=Fa(n);if(FE(n)&&!r)return n;n=r}return null}var dl=class{get rootNodes(){let e=this._lView,t=e[we];return tm(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[an]}set context(e){this._lView[an]=e}get destroyed(){return(this._lView[he]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[In];if(_s(e)){let t=e[zp],r=t?t.indexOf(this):-1;r>-1&&(Jd(e,r),Bp(t,r))}this._attachedToViewContainer=!1}Em(this._lView[we],this._lView)}onDestroy(e){hR(this._lView,e)}markForCheck(){nI(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[he]&=-129}reattach(){UE(this._lView),this._lView[he]|=128}detectChanges(){this._lView[he]|=1024,Tx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=FE(this._lView),t=this._lView[al];t!==null&&!e&&Ww(t,this._lView),ZR(this._lView[we],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e;let t=FE(this._lView),r=this._lView[al];r!==null&&!t&&ex(r,this._lView),UE(this._lView)}};var Ese=new RegExp(`^(\\d+)*(${eU}|${Z2})*(.*)`);var fj=()=>null;function Zd(n,e){return fj(n,e)}var hl=class{},Dm=new X("",{providedIn:"root",factory:()=>!1});var Sx=new X(""),Rx=new X(""),tw=class{},nm=class{};function pj(n){let e=Error(`No component factory found for ${On(n)}.`);return e[mj]=n,e}var mj="ngComponent";var nw=class{resolveComponentFactory(e){throw pj(e)}},fl=class{static{this.NULL=new nw}},pl=class{},Es=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>gj()}}return n})();function gj(){let n=Me(),e=Zn(),t=Eo(e.index,n);return(mo(t)?t:n)[At]}var yj=(()=>{class n{static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>null})}}return n})();function rw(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")s=c;else if(s==1)i=QA(i,c);else if(s==2){let l=c,h=e[++a];r=QA(r,l+": "+h+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var rm=class extends fl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ka(e);return new eh(t,this.ngModule)}};function ES(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),a=s?i[0]:i,c=s?i[1]:go.None;e?t.push({propName:a,templateName:r,isSignal:(c&go.SignalBased)!==0}):t.push({propName:a,templateName:r})}return t}function _j(n){let e=n.toLowerCase();return e==="svg"?cR:e==="math"?n2:null}var eh=class extends nm{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=ES(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return ES(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=kL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=De(null);try{i=i||this.ngModule;let a=i instanceof kn?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let c=a?new BE(e,a):e,l=c.get(pl,null);if(l===null)throw new ne(407,!1);let h=c.get(yj,null),f=c.get(hl,null),g={rendererFactory:l,sanitizer:h,inlineEffectRunner:null,changeDetectionScheduler:f},I=l.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",x=r?RU(I,r,this.componentDef.encapsulation,c):XR(I,T,_j(T)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let P=null;x!==null&&(P=zw(x,c,!0));let V=Yw(0,null,null,1,0,null,null,null,null,null,null),L=Im(null,V,null,M,null,null,g,I,c,null,P);Nw(L);let F,$,Y=null;try{let z=this.componentDef,E,m=null;z.findHostDirectiveDefs?(E=[],m=new Map,z.findHostDirectiveDefs(z,E,m),E.push(z)):E=[z];let _=vj(L,x);Y=Ej(_,x,z,E,L,g,I),$=Dw(V,bn),x&&bj(I,z,x,r),t!==void 0&&Tj($,this.ngContentSelectors,t),F=Ij(Y,z,E,m,L,[Cj]),eI(V,L,null)}catch(z){throw Y!==null&&QE(Y),QE(L),z}finally{Pw()}return new iw(this.componentType,F,jw($,L),L,$)}finally{De(s)}}},iw=class extends tw{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new dl(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Xw(s[we],s,i,e,t),this.previousInputValues.set(e,t);let a=Eo(this._tNode.index,s);nI(a,1)}}get injector(){return new Ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vj(n,e){let t=n[we],r=bn;return n[r]=e,bm(t,r,2,"#host",null)}function Ej(n,e,t,r,i,s,a){let c=i[we];wj(r,n,e,a);let l=null;e!==null&&(l=zw(e,i[ol]));let h=s.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let g=Im(i,fx(t),null,f,i[n.index],n,s,h,null,null,l);return c.firstCreatePass&&XE(c,n,r.length-1),Tm(i,g),i[n.index]=g}function wj(n,e,t,r){for(let i of n)e.mergedAttrs=Wd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(rw(e,e.mergedAttrs,!0),t!==null&&sx(r,t,e))}function Ij(n,e,t,r,i,s){let a=Zn(),c=i[we],l=pr(a,i);mx(c,i,a,t,null,r);for(let f=0;f<t.length;f++){let g=a.directiveStart+f,I=ul(i,c,g,a);ja(I,i)}gx(c,i,a),l&&ja(l,i);let h=ul(i,c,a.directiveStart+a.componentOffset,a);if(n[an]=i[an]=h,s!==null)for(let f of s)f(h,e);return ux(c,a,i),h}function bj(n,e,t,r){if(r)ME(n,t,["ng-version","18.2.12"]);else{let{attrs:i,classes:s}=VL(e.selectors[0]);i&&ME(n,t,i),s&&s.length>0&&ix(n,t,s.join(" "))}}function Tj(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function Cj(){let n=Zn();Vw(Me()[we],n)}var Am=(()=>{class n{static{this.__NG_ELEMENT_ID__=Dj}}return n})();function Dj(){let n=Zn();return Sj(n,Me())}var Aj=Am,xx=class extends Aj{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return jw(this._hostTNode,this._hostLView)}get injector(){return new Ma(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fw(this._hostTNode,this._hostLView);if(SR(e)){let t=Kp(e,this._hostLView),r=Wp(e),i=t[we].data[r+8];return new Ma(i,t)}else return new Ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=wS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-wn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let a=Zd(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,a);return this.insertImpl(c,i,Xd(this._hostTNode,a)),c}createComponent(e,t,r,i,s){let a=e&&!XL(e),c;if(a)c=t;else{let x=t||{};c=x.index,r=x.injector,i=x.projectableNodes,s=x.environmentInjector||x.ngModuleRef}let l=a?e:new eh(ka(e)),h=r||this.parentInjector;if(!s&&l.ngModule==null){let M=(a?h:this.parentInjector).get(kn,null);M&&(s=M)}let f=ka(l.componentType??{}),g=Zd(this._lContainer,f?.id??null),I=g?.firstChild??null,T=l.create(h,i,I,s);return this.insertImpl(T.hostView,c,Xd(this._hostTNode,g)),T}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(r2(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[In],h=new xx(l,l[ei],l[In]);h.detach(h.indexOf(e))}}let s=this._adjustIndex(t),a=this._lContainer;return Cm(a,i,s,r),e.attachToViewContainerRef(),jS(bE(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=wS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Jd(this._lContainer,t);r&&(Bp(bE(this._lContainer),t),Em(r[we],r))}detach(e){let t=this._adjustIndex(e,-1),r=Jd(this._lContainer,t);return r&&Bp(bE(this._lContainer),t)!=null?new dl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function wS(n){return n[zp]}function bE(n){return n[zp]||(n[zp]=[])}function Sj(n,e){let t,r=e[n.index];return _s(r)?t=r:(t=yx(r,e,null,n),e[n.index]=t,Tm(e,t)),xj(t,e,n,r),new xx(t,n,e)}function Rj(n,e){let t=n[At],r=t.createComment(""),i=pr(e,n),s=nx(t,i);return em(t,s,r,yU(t,i),!1),r}var xj=Mj,Nj=()=>!1;function Pj(n,e,t){return Nj(n,e,t)}function Mj(n,e,t,r){if(n[Va])return;let i;t.type&8?i=wi(r):i=Rj(e,t),n[Va]=i}var IS=new Set;function Io(n){IS.has(n)||(IS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Oj(n){return typeof n=="function"&&n[cs]!==void 0}function _l(n,e){Io("NgSignals");let t=IA(n),r=t[cs];return e?.equal&&(r.equal=e.equal),t.set=i=>Wv(r,i),t.update=i=>bA(r,i),t.asReadonly=kj.bind(t),t}function kj(){let n=this[cs];if(n.readonlyFn===void 0){let e=()=>this();e[cs]=n,n.readonlyFn=e}return n.readonlyFn}function Nx(n){return Oj(n)&&typeof n.set=="function"}function Vj(n){return Object.getPrototypeOf(n.prototype).constructor}function mr(n){let e=Vj(n.type),t=!0,r=[n];for(;e;){let i;if(yo(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let a=n;a.inputs=Np(n.inputs),a.inputTransforms=Np(n.inputTransforms),a.declaredInputs=Np(n.declaredInputs),a.outputs=Np(n.outputs);let c=i.hostBindings;c&&Bj(n,c);let l=i.viewQuery,h=i.contentQueries;if(l&&Uj(n,l),h&&jj(n,h),Fj(n,i),tL(n.outputs,i.outputs),yo(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let a=0;a<s.length;a++){let c=s[a];c&&c.ngInherit&&c(n),c===mr&&(t=!1)}}e=Object.getPrototypeOf(e)}Lj(r)}function Fj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Lj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wd(i.hostAttrs,t=Wd(t,i.hostAttrs))}}function Np(n){return n===rl?{}:n===dr?[]:n}function Uj(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function jj(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function Bj(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var _o=class{},th=class{};var sw=class extends _o{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rm(this);let s=KS(e);this._bootstrapComponents=JR(s.bootstrap),this._r3Injector=FR(e,t,[{provide:_o,useValue:this},{provide:fl,useValue:this.componentFactoryResolver},...r],On(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ow=class extends th{constructor(e){super(),this.moduleType=e}create(e){return new sw(this.moduleType,e,[])}};var im=class extends _o{constructor(e){super(),this.componentFactoryResolver=new rm(this),this.instance=null;let t=new Kd([...e.providers,{provide:_o,useValue:this},{provide:fl,useValue:this.componentFactoryResolver}],e.parent||Tw(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rI(n,e,t=null){return new im({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function iI(n,e,t){return n[e]=t}function Xr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function nh(n,e,t,r){let i=Xr(n,e,t);return Xr(n,e+1,r)||i}function $j(n,e,t,r,i){let s=nh(n,e,t,r);return Xr(n,e+2,i)||s}function qj(n,e,t,r,i,s){let a=nh(n,e,t,r);return nh(n,e+2,i,s)||a}function zj(n){return(n.flags&32)===32}function Hj(n,e,t,r,i,s,a,c,l){let h=e.consts,f=bm(e,n,4,a||null,c||null);px(e,t,f,ll(h,l)),Vw(e,f);let g=f.tView=Yw(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function aw(n,e,t,r,i,s,a,c,l,h){let f=t+bn,g=e.firstCreatePass?Hj(f,e,n,r,i,s,a,c,l):e.data[f];ah(g,!1);let I=Gj(e,n,g,t);Ow()&&Kw(e,n,I,g),ja(I,n);let T=yx(I,n,I,g);return n[f]=T,Tm(n,T),Pj(T,g,n),Cw(g)&&dx(e,n,g),l!=null&&hx(n,g,h),g}function K(n,e,t,r,i,s,a,c){let l=Me(),h=cn(),f=ll(h.consts,s);return aw(l,h,n,e,t,r,i,f,a,c),K}var Gj=Wj;function Wj(n,e,t,r){return kw(!0),e[At].createComment("")}var zd=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(zd||{}),Kj=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}}return n})(),bS=class n{constructor(){this.ngZone=W(Qe),this.scheduler=W(hl),this.errorHandler=W(hs,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[zd.EarlyRead,zd.Write,zd.MixedReadWrite,zd.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Z({token:n,providedIn:"root",factory:()=>new n})}};function ch(n,e,t,r){let i=Me(),s=yl();if(Xr(i,s,e)){let a=cn(),c=ym();GU(c,i,n,e,t,r)}return ch}function Px(n,e,t,r){return Xr(n,yl(),t)?e+ds(t)+r:er}function Qj(n,e,t,r,i,s){let a=_R(),c=nh(n,a,t,i);return xw(2),c?e+ds(t)+r+ds(i)+s:er}function Yj(n,e,t,r,i,s,a,c){let l=_R(),h=$j(n,l,t,i,a);return xw(3),h?e+ds(t)+r+ds(i)+s+ds(a)+c:er}function Pp(n,e){return n<<17|e<<2}function Ba(n){return n>>17&32767}function Jj(n){return(n&2)==2}function Xj(n,e){return n&131071|e<<17}function cw(n){return n|2}function ml(n){return(n&131068)>>2}function TE(n,e){return n&-131069|e<<2}function Zj(n){return(n&1)===1}function lw(n){return n|1}function eB(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,c=Ba(a),l=ml(a);n[r]=t;let h=!1,f;if(Array.isArray(t)){let g=t;f=g[1],(f===null||sh(g,f)>0)&&(h=!0)}else f=t;if(i)if(l!==0){let I=Ba(n[c+1]);n[r+1]=Pp(I,c),I!==0&&(n[I+1]=TE(n[I+1],r)),n[c+1]=Xj(n[c+1],r)}else n[r+1]=Pp(c,0),c!==0&&(n[c+1]=TE(n[c+1],r)),c=r;else n[r+1]=Pp(l,0),c===0?c=r:n[l+1]=TE(n[l+1],r),l=r;h&&(n[r+1]=cw(n[r+1])),TS(n,f,r,!0),TS(n,f,r,!1),tB(e,f,n,r,s),a=Pp(c,l),s?e.classBindings=a:e.styleBindings=a}function tB(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&sh(s,e)>=0&&(t[r+1]=lw(t[r+1]))}function TS(n,e,t,r){let i=n[t+1],s=e===null,a=r?Ba(i):ml(i),c=!1;for(;a!==0&&(c===!1||s);){let l=n[a],h=n[a+1];nB(l,e)&&(c=!0,n[a+1]=r?lw(h):cw(h)),a=r?Ba(h):ml(h)}c&&(n[t+1]=r?cw(i):lw(i))}function nB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?sh(n,e)>=0:!1}function Fe(n,e,t){let r=Me(),i=yl();if(Xr(r,i,e)){let s=cn(),a=ym();Jw(s,a,r,n,e,r[At],t,!1)}return Fe}function CS(n,e,t,r,i){let s=e.inputs,a=i?"class":"style";Xw(n,t,s[a],a,r)}function vl(n,e){return rB(n,e,null,!0),vl}function rB(n,e,t,r){let i=Me(),s=cn(),a=xw(2);if(s.firstUpdatePass&&sB(s,n,a,r),e!==er&&Xr(i,a,e)){let c=s.data[vs()];uB(s,c,i,i[At],n,i[a+1]=dB(e,t),r,a)}}function iB(n,e){return e>=n.expandoStartIndex}function sB(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[vs()],a=iB(n,t);hB(s,r)&&e===null&&!a&&(e=!1),e=oB(i,s,e,r),eB(i,s,e,t,a,r)}}function oB(n,e,t,r){let i=_2(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=CE(null,n,e,t,r),t=rh(t,e.attrs,r),s=null);else{let a=e.directiveStylingLast;if(a===-1||n[a]!==i)if(t=CE(i,n,e,t,r),s===null){let l=aB(n,e,r);l!==void 0&&Array.isArray(l)&&(l=CE(null,n,e,l[1],r),l=rh(l,e.attrs,r),cB(n,e,r,l))}else s=lB(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function aB(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ml(r)!==0)return n[Ba(r)]}function cB(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ba(i)]=r}function lB(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let a=n[s].hostAttrs;r=rh(r,a,t)}return rh(r,e.attrs,t)}function CE(n,e,t,r,i){let s=null,a=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<a&&(s=e[c],r=rh(r,s.hostAttrs,i),s!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function rh(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];typeof a=="number"?i=a:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),IL(n,a,t?!0:e[++s]))}return n===void 0?null:n}function uB(n,e,t,r,i,s,a,c){if(!(e.type&3))return;let l=n.data,h=l[c+1],f=Zj(h)?DS(l,e,t,i,ml(h),a):void 0;if(!sm(f)){sm(s)||Jj(h)&&(s=DS(l,null,t,i,c,a));let g=lR(vs(),t);TU(r,a,g,i,s)}}function DS(n,e,t,r,i,s){let a=e===null,c;for(;i>0;){let l=n[i],h=Array.isArray(l),f=h?l[1]:l,g=f===null,I=t[i+1];I===er&&(I=g?dr:void 0);let T=g?mE(I,r):f===r?I:void 0;if(h&&!sm(T)&&(T=mE(l,r)),sm(T)&&(c=T,a))return c;let x=n[i+1];i=a?Ba(x):ml(x)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(c=mE(l,r))}return c}function sm(n){return n!==void 0}function dB(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=On(_m(n)))),n}function hB(n,e){return(n.flags&(e?8:16))!==0}var uw=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,s),this.attach(i,a)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function DE(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function fB(n,e,t){let r,i,s=0,a=n.length-1,c=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=a&&s<=l;){let h=n.at(s),f=e[s],g=DE(s,h,s,f,t);if(g!==0){g<0&&n.updateValue(s,f),s++;continue}let I=n.at(a),T=e[l],x=DE(a,I,l,T,t);if(x!==0){x<0&&n.updateValue(a,T),a--,l--;continue}let M=t(s,h),P=t(a,I),V=t(s,f);if(Object.is(V,P)){let L=t(l,T);Object.is(L,M)?(n.swap(s,a),n.updateValue(a,T),l--,a--):n.move(a,s),n.updateValue(s,f),s++;continue}if(r??=new om,i??=SS(n,s,a,t),dw(n,r,s,V))n.updateValue(s,f),s++,a++;else if(i.has(V))r.set(M,n.detach(s)),a--;else{let L=n.create(s,e[s]);n.attach(s,L),s++,a++}}for(;s<=l;)AS(n,r,t,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),h=l.next();for(;!h.done&&s<=a;){let f=n.at(s),g=h.value,I=DE(s,f,s,g,t);if(I!==0)I<0&&n.updateValue(s,g),s++,h=l.next();else{r??=new om,i??=SS(n,s,a,t);let T=t(s,g);if(dw(n,r,s,T))n.updateValue(s,g),s++,a++,h=l.next();else if(!i.has(T))n.attach(s,n.create(s,g)),s++,a++,h=l.next();else{let x=t(s,f);r.set(x,n.detach(s)),a--}}}for(;!h.done;)AS(n,r,t,n.length,h.value),h=l.next()}for(;s<=a;)n.destroy(n.detach(a--));r?.forEach(l=>{n.destroy(l)})}function dw(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function AS(n,e,t,r,i){if(dw(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function SS(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var om=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function G(n,e){Io("NgControlFlow");let t=Me(),r=yl(),i=t[r]!==er?t[r]:-1,s=i!==-1?am(t,bn+i):void 0,a=0;if(Xr(t,r,n)){let c=De(null);try{if(s!==void 0&&wx(s,a),n!==-1){let l=bn+n,h=am(t,l),f=mw(t[we],l),g=Zd(h,f.tView.ssrId),I=tI(t,f,e,{dehydratedView:g});Cm(h,I,a,Xd(f,g))}}finally{De(c)}}else if(s!==void 0){let c=Ex(s,a);c!==void 0&&(c[an]=e)}}var hw=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-wn}};function Tn(n){return n}var fw=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Cn(n,e,t,r,i,s,a,c,l,h,f,g,I){Io("NgControlFlow");let T=Me(),x=cn(),M=l!==void 0,P=Me(),V=c?a.bind(P[Jr][an]):a,L=new fw(M,V);P[bn+n]=L,aw(T,x,n+1,e,t,r,i,ll(x.consts,s)),M&&aw(T,x,n+2,l,h,f,g,ll(x.consts,I))}var pw=class extends uw{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-wn}at(e){return this.getLView(e)[an].$implicit}attach(e,t){let r=t[Qd];this.needsIndexUpdate||=e!==this.length,Cm(this.lContainer,t,e,Xd(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,pB(this.lContainer,e)}create(e,t){let r=Zd(this.lContainer,this.templateTNode.tView.ssrId),i=tI(this.hostLView,this.templateTNode,new hw(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Em(e[we],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[an].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[an].$index=e}getLView(e){return mB(this.lContainer,e)}};function Dn(n){let e=De(null),t=vs();try{let r=Me(),i=r[we],s=r[t],a=t+1,c=am(r,a);if(s.liveCollection===void 0){let h=mw(i,a);s.liveCollection=new pw(c,r,h)}else s.liveCollection.reset();let l=s.liveCollection;if(fB(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let h=yl(),f=l.length===0;if(Xr(r,h,f)){let g=t+2,I=am(r,g);if(f){let T=mw(i,g),x=Zd(I,T.tView.ssrId),M=tI(r,T,void 0,{dehydratedView:x});Cm(I,M,0,Xd(T,x))}else wx(I,0)}}}finally{De(e)}}function am(n,e){return n[e]}function pB(n,e){return Jd(n,e)}function mB(n,e){return Ex(n,e)}function mw(n,e){return Dw(n,e)}function gB(n,e,t,r,i,s){let a=e.consts,c=ll(a,i),l=bm(e,n,2,r,c);return px(e,t,l,ll(a,s)),l.attrs!==null&&rw(l,l.attrs,!1),l.mergedAttrs!==null&&rw(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function S(n,e,t,r){let i=Me(),s=cn(),a=bn+n,c=i[At],l=s.firstCreatePass?gB(a,s,i,e,t,r):s.data[a],h=yB(s,i,l,c,e,n);i[a]=h;let f=Cw(l);return ah(l,!0),sx(c,h,l),!zj(l)&&Ow()&&Kw(s,i,h,l),o2()===0&&ja(h,i),a2(),f&&(dx(s,i,l),ux(s,l,i)),r!==null&&hx(i,l),S}function D(){let n=Zn();gR()?f2():(n=n.parent,ah(n,!1));let e=n;u2(e)&&d2(),c2();let t=cn();return t.firstCreatePass&&(Vw(t,n),rR(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&D2(e)&&CS(t,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&A2(e)&&CS(t,e,Me(),e.stylesWithoutHost,!1),D}function Se(n,e,t,r){return S(n,e,t,r),D(),Se}var yB=(n,e,t,r,i,s)=>(kw(!0),XR(r,i,I2()));function dn(){return Me()}var Pa=void 0;function _B(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var vB=["en",[["a","p"],["AM","PM"],Pa],[["AM","PM"],Pa,Pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pa,"{1} 'at' {0}",Pa],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_B],AE={};function Ln(n){let e=EB(n),t=RS(e);if(t)return t;let r=e.split("-")[0];if(t=RS(r),t)return t;if(r==="en")return vB;throw new ne(701,!1)}function RS(n){return n in AE||(AE[n]=$d.ng&&$d.ng.common&&$d.ng.common.locales&&$d.ng.common.locales[n]),AE[n]}var gt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(gt||{});function EB(n){return n.toLowerCase().replace(/_/g,"-")}var cm="en-US",wB="USD";var IB=cm;function bB(n){typeof n=="string"&&(IB=n.toLowerCase().replace(/_/g,"-"))}var TB=(n,e,t)=>{};function fe(n,e,t,r){let i=Me(),s=cn(),a=Zn();return Mx(s,i,i[At],a,n,e,r),fe}function CB(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===t&&i[s+1]===r){let c=e[qp],l=i[s+2];return c.length>l?c[l]:null}typeof a=="string"&&(s+=2)}return null}function Mx(n,e,t,r,i,s,a){let c=Cw(r),h=n.firstCreatePass&&JU(n),f=e[an],g=YU(e),I=!0;if(r.type&3||a){let M=pr(r,e),P=a?a(M):M,V=g.length,L=a?$=>a(wi($[r.index])):r.index,F=null;if(!a&&c&&(F=CB(n,e,i,r.index)),F!==null){let $=F.__ngLastListenerFn__||F;$.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,I=!1}else{s=NS(r,e,f,s),TB(M,i,s);let $=t.listen(P,i,s);g.push(s,$),h&&h.push(i,L,V,V+1)}}else s=NS(r,e,f,s);let T=r.outputs,x;if(I&&T!==null&&(x=T[i])){let M=x.length;if(M)for(let P=0;P<M;P+=2){let V=x[P],L=x[P+1],Y=e[V][L].subscribe(s),z=g.length;g.push(s,Y),h&&h.push(i,r.index,z,-(z+1))}}}function xS(n,e,t,r){let i=De(null);try{return yi(6,e,t),t(r)!==!1}catch(s){return vx(n,s),!1}finally{yi(7,e,t),De(i)}}function NS(n,e,t,r){return function i(s){if(s===Function)return r;let a=n.componentOffset>-1?Eo(n.index,e):e;nI(a,5);let c=xS(e,t,r,s),l=i.__ngNextListenerFn__;for(;l;)c=xS(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return c}}function re(n=1){return E2(n)}function sI(n,e,t){return Ox(n,"",e,"",t),sI}function Ox(n,e,t,r,i){let s=Me(),a=Px(s,e,t,r);if(a!==er){let c=cn(),l=ym();Jw(c,l,s,n,a,s[At],i,!1)}return Ox}function DB(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function N(n,e=""){let t=Me(),r=cn(),i=n+bn,s=r.firstCreatePass?bm(r,i,1,e,null):r.data[i],a=AB(r,t,s,e,n);t[i]=a,Ow()&&Kw(r,t,a,s),ah(s,!1)}var AB=(n,e,t,r,i)=>(kw(!0),aU(e[At],r));function qe(n){return tr("",n,""),qe}function tr(n,e,t){let r=Me(),i=Px(r,n,e,t);return i!==er&&Zw(r,vs(),i),tr}function qa(n,e,t,r,i){let s=Me(),a=Qj(s,n,e,t,r,i);return a!==er&&Zw(s,vs(),a),qa}function Sm(n,e,t,r,i,s,a){let c=Me(),l=Yj(c,n,e,t,r,i,s,a);return l!==er&&Zw(c,vs(),l),Sm}function Xe(n,e,t){Nx(e)&&(e=e());let r=Me(),i=yl();if(Xr(r,i,e)){let s=cn(),a=ym();Jw(s,a,r,n,e,r[At],t,!1)}return Xe}function tt(n,e){let t=Nx(n);return t&&n.set(e),t}function Ze(n,e){let t=Me(),r=cn(),i=Zn();return Mx(r,t,t[At],i,n,e),Ze}function SB(n,e,t){let r=cn();if(r.firstCreatePass){let i=yo(n);gw(t,r.data,r.blueprint,i,!0),gw(e,r.data,r.blueprint,i,!1)}}function gw(n,e,t,r,i){if(n=En(n),Array.isArray(n))for(let s=0;s<n.length;s++)gw(n[s],e,t,r,i);else{let s=cn(),a=Me(),c=Zn(),l=sl(n)?n:En(n.provide),h=eR(n),f=c.providerIndexes&1048575,g=c.directiveStart,I=c.providerIndexes>>20;if(sl(n)||!n.multi){let T=new Ua(h,i,H),x=RE(l,e,i?f:f+I,g);x===-1?(qE(Yp(c,a),s,l),SE(s,n,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(T),a.push(T)):(t[x]=T,a[x]=T)}else{let T=RE(l,e,f+I,g),x=RE(l,e,f,f+I),M=T>=0&&t[T],P=x>=0&&t[x];if(i&&!P||!i&&!M){qE(Yp(c,a),s,l);let V=NB(i?xB:RB,t.length,i,r,h);!i&&P&&(t[x].providerFactory=V),SE(s,n,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(V),a.push(V)}else{let V=kx(t[i?x:T],h,!i&&r);SE(s,n,T>-1?T:x,V)}!i&&r&&P&&t[x].componentProviders++}}}function SE(n,e,t,r){let i=sl(e),s=zL(e);if(i||s){let l=(s?En(e.useClass):e).prototype.ngOnDestroy;if(l){let h=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=h.indexOf(t);f===-1?h.push(t,[r,l]):h[f+1].push(r,l)}else h.push(t,l)}}}function kx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function RE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function RB(n,e,t,r){return yw(this.multi,[])}function xB(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ul(t,t[we],this.providerFactory.index,r);s=c.slice(0,a),yw(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],yw(i,s);return s}function yw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function NB(n,e,t,r,i){let s=new Ua(n,t,H);return s.multi=[],s.index=e,s.componentProviders=0,kx(s,i,r&&!t),s}function bo(n,e=[]){return t=>{t.providersResolver=(r,i)=>SB(r,i?i(n):n,e)}}var PB=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=JS(!1,t.type),i=r.length>0?rI([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Z({token:n,providedIn:"environment",factory:()=>new n(ce(kn))})}}return n})();function me(n){Io("NgStandalone"),n.getStandaloneInjector=e=>e.get(PB).getOrCreateStandaloneInjector(n)}function oI(n,e){let t=n[e];return t===er?void 0:t}function MB(n,e,t,r,i,s){let a=e+t;return Xr(n,a,i)?iI(n,a+1,s?r.call(s,i):r(i)):oI(n,a+1)}function OB(n,e,t,r,i,s,a){let c=e+t;return nh(n,c,i,s)?iI(n,c+2,a?r.call(a,i,s):r(i,s)):oI(n,c+2)}function kB(n,e,t,r,i,s,a,c,l){let h=e+t;return qj(n,h,i,s,a,c)?iI(n,h+4,l?r.call(l,i,s,a,c):r(i,s,a,c)):oI(n,h+4)}function gr(n,e){let t=cn(),r,i=n+bn;t.firstCreatePass?(r=VB(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=Oa(r.type,!0)),a,c=Mn(H);try{let l=Qp(!1),h=s();return Qp(l),DB(t,Me(),i,h),h}finally{Mn(c)}}function VB(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function To(n,e,t){let r=n+bn,i=Me(),s=Aw(i,r);return aI(i,r)?MB(i,Rw(),e,s.transform,t,s):s.transform(t)}function Rm(n,e,t,r){let i=n+bn,s=Me(),a=Aw(s,i);return aI(s,i)?OB(s,Rw(),e,a.transform,t,r,a):a.transform(t,r)}function Vx(n,e,t,r,i,s){let a=n+bn,c=Me(),l=Aw(c,a);return aI(c,a)?kB(c,Rw(),e,l.transform,t,r,i,s,l):l.transform(t,r,i,s)}function aI(n,e){return n[we].data[e].pure}var ps=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Fx=new ps("18.2.12");var xm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Lx=new X("");function za(n){return!!n&&typeof n.then=="function"}function Ux(n){return!!n&&typeof n.subscribe=="function"}var jx=new X(""),Bx=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=W(jx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(za(s))t.push(s);else if(Ux(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nm=new X("");function FB(){wA(()=>{throw new ne(600,!1)})}function LB(n){return n.isBoundToModule}var UB=10;function jB(n,e,t){try{let r=t();return za(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Co=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(G2),this.afterRenderManager=W(Kj),this.zonelessEnabled=W(Dm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ft,this.afterTick=new Ft,this.componentTypes=[],this.components=[],this.isStable=W(wo).hasPendingTasks.pipe(Ee(t=>!t)),this._injector=W(kn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof nm;if(!this._injector.get(Bx).done){let I=!i&&WS(t),T=!1;throw new ne(405,T)}let a;i?a=t:a=this._injector.get(fl).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=LB(a)?void 0:this._injector.get(_o),l=r||a.selector,h=a.create(Vn.NULL,[],l,c),f=h.location.nativeElement,g=h.injector.get(Lx,null);return g?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),Fp(this.components,h),g?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ne(101,!1);let t=De(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,De(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(pl,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<UB;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)BB(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>mm(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Fp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Nm,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ne(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Fp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function BB(n,e,t,r){if(!t&&!mm(n))return;Tx(n,e,t&&!r?0:1)}var _w=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},cI=(()=>{class n{compileModuleSync(t){return new ow(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=KS(t),s=JR(i.declarations).reduce((a,c)=>{let l=ka(c);return l&&a.push(new eh(l)),a},[]);return new _w(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $B=(()=>{class n{constructor(){this.zone=W(Qe),this.changeDetectionScheduler=W(hl),this.applicationRef=W(Co)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qB=new X("",{factory:()=>!1});function $x({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Qe(ve(q({},zx()),{scheduleInRootZone:t})),[{provide:Qe,useFactory:n},{provide:il,multi:!0,useFactory:()=>{let r=W($B,{optional:!0});return()=>r.initialize()}},{provide:il,multi:!0,useFactory:()=>{let r=W(zB);return()=>{r.initialize()}}},e===!0?{provide:Sx,useValue:!0}:[],{provide:Rx,useValue:t??LR}]}function qx(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=$x({ngZoneFactory:()=>{let i=zx(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Io("NgZone_CoalesceEvent"),new Qe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return fr([{provide:qB,useValue:!0},{provide:Dm,useValue:!1},r])}function zx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var zB=(()=>{class n{constructor(){this.subscription=new _t,this.initialized=!1,this.zone=W(Qe),this.pendingTasks=W(wo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Qe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Qe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var HB=(()=>{class n{constructor(){this.appRef=W(Co),this.taskService=W(wo),this.ngZone=W(Qe),this.zonelessEnabled=W(Dm),this.disableScheduling=W(Sx,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new _t,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(W(Rx,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof KE||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?hS:jR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GB(){return typeof $localize<"u"&&$localize.locale||cm}var lh=new X("",{providedIn:"root",factory:()=>W(lh,Te.Optional|Te.SkipSelf)||GB()}),Hx=new X("",{providedIn:"root",factory:()=>wB});var vw=new X("");function Mp(n){return!n.moduleRef}function WB(n){let e=Mp(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Qe);return t.run(()=>{Mp(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(hs,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Mp(n)){let s=()=>e.destroy(),a=n.platformInjector.get(vw);a.add(s),e.onDestroy(()=>{i.unsubscribe(),a.delete(s)})}else{let s=()=>n.moduleRef.destroy(),a=n.platformInjector.get(vw);a.add(s),n.moduleRef.onDestroy(()=>{Fp(n.allPlatformModules,n.moduleRef),i.unsubscribe(),a.delete(s)})}return jB(r,t,()=>{let s=e.get(Bx);return s.runInitializers(),s.donePromise.then(()=>{let a=e.get(lh,cm);if(bB(a||cm),Mp(n)){let c=e.get(Co);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return KB(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function KB(n,e){let t=n.injector.get(Co);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ne(-403,!1);e.push(n)}var Lp=null;function QB(n=[],e){return Vn.create({name:e,providers:[{provide:hm,useValue:"platform"},{provide:vw,useValue:new Set([()=>Lp=null])},...n]})}function YB(n=[]){if(Lp)return Lp;let e=QB(n);return Lp=e,FB(),JB(e),e}function JB(n){n.get($w,null)?.forEach(t=>t())}var Ha=(()=>{class n{static{this.__NG_ELEMENT_ID__=XB}}return n})();function XB(n){return ZB(Zn(),Me(),(n&16)===16)}function ZB(n,e,t){if(pm(n)&&!t){let r=Eo(n.index,e);return new dl(r,r)}else if(n.type&175){let r=e[Jr];return new dl(r,e)}return null}function Gx(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=YB(r),s=[$x({}),{provide:hl,useExisting:HB},...t||[]],a=new im({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return WB({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Pm(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function El(n,e){Io("NgSignals");let t=_A(n);return e?.equal&&(t[cs].equal=e.equal),t}function Ci(n){let e=De(null);try{return n()}finally{De(e)}}var Zx=null;function Ts(){return Zx}function eN(n){Zx??=n}var Bm=class{};var Un=new X(""),tN=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>W(r$),providedIn:"platform"})}}return n})();var r$=(()=>{class n extends tN{constructor(){super(),this._doc=W(Un),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ts().getBaseHref(this._doc)}onPopState(t){let r=Ts().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ts().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function nN(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Wx(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Ga(n){return n&&n[0]!=="?"?"?"+n:n}var zm=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>W(rN),providedIn:"root"})}}return n})(),i$=new X(""),rN=(()=>{class n extends zm{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??W(Un).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return nN(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ga(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+Ga(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+Ga(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ce(tN),ce(i$,8))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var dh=(()=>{class n{constructor(t){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=a$(Wx(Kx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ga(r))}normalize(t){return n.stripTrailingSlash(o$(this._basePath,Kx(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ga(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ga(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Ga}static{this.joinWithSlash=nN}static{this.stripTrailingSlash=Wx}static{this.\u0275fac=function(r){return new(r||n)(ce(zm))}}static{this.\u0275prov=Z({token:n,factory:()=>s$(),providedIn:"root"})}}return n})();function s$(){return new dh(ce(zm))}function o$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Kx(n){return n.replace(/\/index.html$/,"")}function a$(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var iN={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},sN=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(sN||{});var An=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(An||{}),st=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(st||{}),nr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(nr||{}),rr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function c$(n){return Ln(n)[gt.LocaleId]}function l$(n,e,t){let r=Ln(n),i=[r[gt.DayPeriodsFormat],r[gt.DayPeriodsStandalone]],s=yr(i,e);return yr(s,t)}function u$(n,e,t){let r=Ln(n),i=[r[gt.DaysFormat],r[gt.DaysStandalone]],s=yr(i,e);return yr(s,t)}function d$(n,e,t){let r=Ln(n),i=[r[gt.MonthsFormat],r[gt.MonthsStandalone]],s=yr(i,e);return yr(s,t)}function h$(n,e){let r=Ln(n)[gt.Eras];return yr(r,e)}function Mm(n,e){let t=Ln(n);return yr(t[gt.DateFormat],e)}function Om(n,e){let t=Ln(n);return yr(t[gt.TimeFormat],e)}function km(n,e){let r=Ln(n)[gt.DateTimeFormat];return yr(r,e)}function Is(n,e){let t=Ln(n),r=t[gt.NumberSymbols][e];if(typeof r>"u"){if(e===rr.CurrencyDecimal)return t[gt.NumberSymbols][rr.Decimal];if(e===rr.CurrencyGroup)return t[gt.NumberSymbols][rr.Group]}return r}function f$(n,e){return Ln(n)[gt.NumberFormats][e]}function p$(n){return Ln(n)[gt.Currencies]}function oN(n){if(!n[gt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[gt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function m$(n){let e=Ln(n);return oN(e),(e[gt.ExtraData][2]||[]).map(r=>typeof r=="string"?lI(r):[lI(r[0]),lI(r[1])])}function g$(n,e,t){let r=Ln(n);oN(r);let i=[r[gt.ExtraData][0],r[gt.ExtraData][1]],s=yr(i,e)||[];return yr(s,t)||[]}function yr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function lI(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function y$(n,e,t="en"){let r=p$(t)[n]||iN[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var _$=2;function v$(n){let e,t=iN[n];return t&&(e=t[2]),typeof e=="number"?e:_$}var E$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vm={},w$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,bs=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(bs||{}),We=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(We||{}),Ge=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ge||{});function I$(n,e,t,r){let i=N$(n);e=ws(t,e)||e;let a=[],c;for(;e;)if(c=w$.exec(e),c){a=a.concat(c.slice(1));let f=a.pop();if(!f)break;e=f}else{a.push(e);break}let l=i.getTimezoneOffset();r&&(l=cN(r,l),i=x$(i,r,!0));let h="";return a.forEach(f=>{let g=S$(f);h+=g?g(i,t,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function $m(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ws(n,e){let t=c$(n);if(Vm[t]??={},Vm[t][e])return Vm[t][e];let r="";switch(e){case"shortDate":r=Mm(n,nr.Short);break;case"mediumDate":r=Mm(n,nr.Medium);break;case"longDate":r=Mm(n,nr.Long);break;case"fullDate":r=Mm(n,nr.Full);break;case"shortTime":r=Om(n,nr.Short);break;case"mediumTime":r=Om(n,nr.Medium);break;case"longTime":r=Om(n,nr.Long);break;case"fullTime":r=Om(n,nr.Full);break;case"short":let i=ws(n,"shortTime"),s=ws(n,"shortDate");r=Fm(km(n,nr.Short),[i,s]);break;case"medium":let a=ws(n,"mediumTime"),c=ws(n,"mediumDate");r=Fm(km(n,nr.Medium),[a,c]);break;case"long":let l=ws(n,"longTime"),h=ws(n,"longDate");r=Fm(km(n,nr.Long),[l,h]);break;case"full":let f=ws(n,"fullTime"),g=ws(n,"fullDate");r=Fm(km(n,nr.Full),[f,g]);break}return r&&(Vm[t][e]=r),r}function Fm(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function ti(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let a=String(n);for(;a.length<e;)a="0"+a;return r&&(a=a.slice(a.length-e)),s+a}function b$(n,e){return ti(n,3).substring(0,e)}function St(n,e,t=0,r=!1,i=!1){return function(s,a){let c=T$(n,s);if((t>0||c>-t)&&(c+=t),n===We.Hours)c===0&&t===-12&&(c=12);else if(n===We.FractionalSeconds)return b$(c,e);let l=Is(a,rr.MinusSign);return ti(c,e,l,r,i)}}function T$(n,e){switch(n){case We.FullYear:return e.getFullYear();case We.Month:return e.getMonth();case We.Date:return e.getDate();case We.Hours:return e.getHours();case We.Minutes:return e.getMinutes();case We.Seconds:return e.getSeconds();case We.FractionalSeconds:return e.getMilliseconds();case We.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function ot(n,e,t=An.Format,r=!1){return function(i,s){return C$(i,s,n,e,t,r)}}function C$(n,e,t,r,i,s){switch(t){case Ge.Months:return d$(e,i,r)[n.getMonth()];case Ge.Days:return u$(e,i,r)[n.getDay()];case Ge.DayPeriods:let a=n.getHours(),c=n.getMinutes();if(s){let h=m$(e),f=g$(e,i,r),g=h.findIndex(I=>{if(Array.isArray(I)){let[T,x]=I,M=a>=T.hours&&c>=T.minutes,P=a<x.hours||a===x.hours&&c<x.minutes;if(T.hours<x.hours){if(M&&P)return!0}else if(M||P)return!0}else if(I.hours===a&&I.minutes===c)return!0;return!1});if(g!==-1)return f[g]}return l$(e,i,r)[a<12?0:1];case Ge.Eras:return h$(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Lm(n){return function(e,t,r){let i=-1*r,s=Is(t,rr.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case bs.Short:return(i>=0?"+":"")+ti(a,2,s)+ti(Math.abs(i%60),2,s);case bs.ShortGMT:return"GMT"+(i>=0?"+":"")+ti(a,1,s);case bs.Long:return"GMT"+(i>=0?"+":"")+ti(a,2,s)+":"+ti(Math.abs(i%60),2,s);case bs.Extended:return r===0?"Z":(i>=0?"+":"")+ti(a,2,s)+":"+ti(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var D$=0,jm=4;function A$(n){let e=$m(n,D$,1).getDay();return $m(n,0,1+(e<=jm?jm:jm+7)-e)}function aN(n){let e=n.getDay(),t=e===0?-3:jm-e;return $m(n.getFullYear(),n.getMonth(),n.getDate()+t)}function uI(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();i=1+Math.floor((a+s)/7)}else{let s=aN(t),a=A$(s.getFullYear()),c=s.getTime()-a.getTime();i=1+Math.round(c/6048e5)}return ti(i,n,Is(r,rr.MinusSign))}}function Um(n,e=!1){return function(t,r){let s=aN(t).getFullYear();return ti(s,n,Is(r,rr.MinusSign),e)}}var dI={};function S$(n){if(dI[n])return dI[n];let e;switch(n){case"G":case"GG":case"GGG":e=ot(Ge.Eras,st.Abbreviated);break;case"GGGG":e=ot(Ge.Eras,st.Wide);break;case"GGGGG":e=ot(Ge.Eras,st.Narrow);break;case"y":e=St(We.FullYear,1,0,!1,!0);break;case"yy":e=St(We.FullYear,2,0,!0,!0);break;case"yyy":e=St(We.FullYear,3,0,!1,!0);break;case"yyyy":e=St(We.FullYear,4,0,!1,!0);break;case"Y":e=Um(1);break;case"YY":e=Um(2,!0);break;case"YYY":e=Um(3);break;case"YYYY":e=Um(4);break;case"M":case"L":e=St(We.Month,1,1);break;case"MM":case"LL":e=St(We.Month,2,1);break;case"MMM":e=ot(Ge.Months,st.Abbreviated);break;case"MMMM":e=ot(Ge.Months,st.Wide);break;case"MMMMM":e=ot(Ge.Months,st.Narrow);break;case"LLL":e=ot(Ge.Months,st.Abbreviated,An.Standalone);break;case"LLLL":e=ot(Ge.Months,st.Wide,An.Standalone);break;case"LLLLL":e=ot(Ge.Months,st.Narrow,An.Standalone);break;case"w":e=uI(1);break;case"ww":e=uI(2);break;case"W":e=uI(1,!0);break;case"d":e=St(We.Date,1);break;case"dd":e=St(We.Date,2);break;case"c":case"cc":e=St(We.Day,1);break;case"ccc":e=ot(Ge.Days,st.Abbreviated,An.Standalone);break;case"cccc":e=ot(Ge.Days,st.Wide,An.Standalone);break;case"ccccc":e=ot(Ge.Days,st.Narrow,An.Standalone);break;case"cccccc":e=ot(Ge.Days,st.Short,An.Standalone);break;case"E":case"EE":case"EEE":e=ot(Ge.Days,st.Abbreviated);break;case"EEEE":e=ot(Ge.Days,st.Wide);break;case"EEEEE":e=ot(Ge.Days,st.Narrow);break;case"EEEEEE":e=ot(Ge.Days,st.Short);break;case"a":case"aa":case"aaa":e=ot(Ge.DayPeriods,st.Abbreviated);break;case"aaaa":e=ot(Ge.DayPeriods,st.Wide);break;case"aaaaa":e=ot(Ge.DayPeriods,st.Narrow);break;case"b":case"bb":case"bbb":e=ot(Ge.DayPeriods,st.Abbreviated,An.Standalone,!0);break;case"bbbb":e=ot(Ge.DayPeriods,st.Wide,An.Standalone,!0);break;case"bbbbb":e=ot(Ge.DayPeriods,st.Narrow,An.Standalone,!0);break;case"B":case"BB":case"BBB":e=ot(Ge.DayPeriods,st.Abbreviated,An.Format,!0);break;case"BBBB":e=ot(Ge.DayPeriods,st.Wide,An.Format,!0);break;case"BBBBB":e=ot(Ge.DayPeriods,st.Narrow,An.Format,!0);break;case"h":e=St(We.Hours,1,-12);break;case"hh":e=St(We.Hours,2,-12);break;case"H":e=St(We.Hours,1);break;case"HH":e=St(We.Hours,2);break;case"m":e=St(We.Minutes,1);break;case"mm":e=St(We.Minutes,2);break;case"s":e=St(We.Seconds,1);break;case"ss":e=St(We.Seconds,2);break;case"S":e=St(We.FractionalSeconds,1);break;case"SS":e=St(We.FractionalSeconds,2);break;case"SSS":e=St(We.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Lm(bs.Short);break;case"ZZZZZ":e=Lm(bs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Lm(bs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Lm(bs.Long);break;default:return null}return dI[n]=e,e}function cN(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function R$(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function x$(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),s=cN(e,i);return R$(n,r*(s-i))}function N$(n){if(Qx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,a=1]=n.split("-").map(c=>+c);return $m(i,s-1,a)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(E$))return P$(r)}let e=new Date(n);if(!Qx(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function P$(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-t,c=Number(n[5]||0)-r,l=Number(n[6]||0),h=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,a,c,l,h),e}function Qx(n){return n instanceof Date&&!isNaN(n.valueOf())}var M$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Yx=22,qm=".",uh="0",O$=";",k$=",",hI="#",Jx="\xA4";function V$(n,e,t,r,i,s,a=!1){let c="",l=!1;if(!isFinite(n))c=Is(t,rr.Infinity);else{let h=j$(n);a&&(h=U$(h));let f=e.minInt,g=e.minFrac,I=e.maxFrac;if(s){let L=s.match(M$);if(L===null)throw new Error(`${s} is not a valid digit info`);let F=L[1],$=L[3],Y=L[5];F!=null&&(f=fI(F)),$!=null&&(g=fI($)),Y!=null?I=fI(Y):$!=null&&g>I&&(I=g)}B$(h,g,I);let T=h.digits,x=h.integerLen,M=h.exponent,P=[];for(l=T.every(L=>!L);x<f;x++)T.unshift(0);for(;x<0;x++)T.unshift(0);x>0?P=T.splice(x,T.length):(P=T,T=[0]);let V=[];for(T.length>=e.lgSize&&V.unshift(T.splice(-e.lgSize,T.length).join(""));T.length>e.gSize;)V.unshift(T.splice(-e.gSize,T.length).join(""));T.length&&V.unshift(T.join("")),c=V.join(Is(t,r)),P.length&&(c+=Is(t,i)+P.join("")),M&&(c+=Is(t,rr.Exponential)+"+"+M)}return n<0&&!l?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function F$(n,e,t,r,i){let s=f$(e,sN.Currency),a=L$(s,Is(e,rr.MinusSign));return a.minFrac=v$(r),a.maxFrac=a.minFrac,V$(n,a,e,rr.CurrencyGroup,rr.CurrencyDecimal,i).replace(Jx,t).replace(Jx,"").trim()}function L$(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(O$),i=r[0],s=r[1],a=i.indexOf(qm)!==-1?i.split(qm):[i.substring(0,i.lastIndexOf(uh)+1),i.substring(i.lastIndexOf(uh)+1)],c=a[0],l=a[1]||"";t.posPre=c.substring(0,c.indexOf(hI));for(let f=0;f<l.length;f++){let g=l.charAt(f);g===uh?t.minFrac=t.maxFrac=f+1:g===hI?t.maxFrac=f+1:t.posSuf+=g}let h=c.split(k$);if(t.gSize=h[1]?h[1].length:0,t.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,s){let f=i.length-t.posPre.length-t.posSuf.length,g=s.indexOf(hI);t.negPre=s.substring(0,g).replace(/'/g,""),t.negSuf=s.slice(g+f).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function U$(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function j$(n){let e=Math.abs(n)+"",t=0,r,i,s,a,c;for((i=e.indexOf(qm))>-1&&(e=e.replace(qm,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===uh;s++);if(s===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===uh;)c--;for(i-=s,r=[],a=0;s<=c;s++,a++)r[a]=Number(e.charAt(s))}return i>Yx&&(r=r.splice(0,Yx-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function B$(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,s=Math.min(Math.max(e,i),t),a=s+n.integerLen,c=r[a];if(a>0){r.splice(Math.max(n.integerLen,a));for(let g=a;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let g=1;g<a;g++)r[g]=0}if(c>=5)if(a-1<0){for(let g=0;g>a;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[a-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=s!==0,h=e+n.integerLen,f=r.reduceRight(function(g,I,T,x){return I=I+g,x[T]=I<10?I:I-10,l&&(x[T]===0&&T>=h?x.pop():l=!1),I>=10?1:0},0);f&&(r.unshift(f),n.integerLen++)}function fI(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Hm(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var pI=/\s+/,Xx=[],Gm=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=Xx,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(pI):Xx}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(pI):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(pI).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(H(bi),H(Es))}}static{this.\u0275dir=Ut({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();function lN(n,e){return new ne(2100,!1)}var $$="mediumDate",q$=new X(""),z$=new X(""),Wm=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let a=r??this.defaultOptions?.dateFormat??$$,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return I$(t,a,s||this.locale,c)}catch(a){throw lN(n,a.message)}}static{this.\u0275fac=function(r){return new(r||n)(H(lh,16),H(q$,24),H(z$,24))}}static{this.\u0275pipe=oh({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Il=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,a){if(!H$(t))return null;a||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let c=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?c=y$(c,i==="symbol"?"wide":"narrow",a):c=i);try{let l=G$(t);return F$(l,a,c,r,s)}catch(l){throw lN(n,l.message)}}static{this.\u0275fac=function(r){return new(r||n)(H(lh,16),H(Hx,16))}}static{this.\u0275pipe=oh({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();function H$(n){return!(n==null||n===""||n!==n)}function G$(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Cs=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=gs({type:n})}static{this.\u0275inj=ms({})}}return n})(),uN="browser",W$="server";function Km(n){return n===W$}var wl=class{};var ph=class{},Ym=class{},Ds=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(c=>s.indexOf(c)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var gI=class{encodeKey(e){return dN(e)}encodeValue(e){return dN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function K$(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(a)||[];l.push(c),t.set(a,l)}),t}var Q$=/%(\d[a-f0-9])/gi,Y$={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dN(n){return encodeURIComponent(n).replace(Q$,(e,t)=>Y$[t]??e)}function Qm(n){return`${n}`}var Ao=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new gI,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=K$(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Qm):[Qm(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Qm(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Qm(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var yI=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function J$(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function fN(n){return typeof Blob<"u"&&n instanceof Blob}function pN(n){return typeof FormData<"u"&&n instanceof FormData}function X$(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var fh=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(J$(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ds,this.context??=new yI,!this.params)this.params=new Ao,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hN(this.body)||fN(this.body)||pN(this.body)||X$(this.body)?this.body:this.body instanceof Ao?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||pN(this.body)?null:fN(this.body)?this.body.type||null:hN(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ao?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,f=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((I,T)=>I.set(T,e.setHeaders[T]),h)),e.setParams&&(f=Object.keys(e.setParams).reduce((I,T)=>I.set(T,e.setParams[T]),f)),new n(t,r,a,{params:f,headers:h,context:g,reportProgress:l,responseType:i,withCredentials:c,transferCache:s})}},So=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(So||{}),mh=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ds,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Jm=class n extends mh{constructor(e={}){super(e),this.type=So.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gh=class n extends mh{constructor(e={}){super(e),this.type=So.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Do=class extends mh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},_N=200,Z$=204;function mI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var e4=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof fh)s=t;else{let l;i.headers instanceof Ds?l=i.headers:l=new Ds(i.headers);let h;i.params&&(i.params instanceof Ao?h=i.params:h=new Ao({fromObject:i.params})),s=new fh(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=de(s).pipe(uo(l=>this.handler.handle(l)));if(t instanceof fh||i.observe==="events")return a;let c=a.pipe(Jn(l=>l instanceof gh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Ee(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ee(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ee(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(Ee(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Ao().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,mI(i,r))}post(t,r,i={}){return this.request("POST",t,mI(i,r))}put(t,r,i={}){return this.request("PUT",t,mI(i,r))}static{this.\u0275fac=function(r){return new(r||n)(ce(ph))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),t4=/^\)\]\}',?\n/,n4="X-Request-URL";function mN(n){if(n.url)return n.url;let e=n4.toLocaleLowerCase();return n.headers.get(e)}var r4=(()=>{class n{constructor(){this.fetchImpl=W(_I,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=W(Qe)}handle(t){return new Ae(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(vI,s=>r.error(new Do({error:s}))),()=>i.abort()})}doRequest(t,r,i){return R(this,null,function*(){let s=this.createRequestInit(t),a;try{let T=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,q({signal:r},s)));i4(T),i.next({type:So.Sent}),a=yield T}catch(T){i.error(new Do({error:T,status:T.status??0,statusText:T.statusText,url:t.urlWithParams,headers:T.headers}));return}let c=new Ds(a.headers),l=a.statusText,h=mN(a)??t.urlWithParams,f=a.status,g=null;if(t.reportProgress&&i.next(new Jm({headers:c,status:f,statusText:l,url:h})),a.body){let T=a.headers.get("content-length"),x=[],M=a.body.getReader(),P=0,V,L,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>R(this,null,function*(){for(;;){let{done:Y,value:z}=yield M.read();if(Y)break;if(x.push(z),P+=z.length,t.reportProgress){L=t.responseType==="text"?(L??"")+(V??=new TextDecoder).decode(z,{stream:!0}):void 0;let E=()=>i.next({type:So.DownloadProgress,total:T?+T:void 0,loaded:P,partialText:L});F?F.run(E):E()}}}));let $=this.concatChunks(x,P);try{let Y=a.headers.get("Content-Type")??"";g=this.parseBody(t,$,Y)}catch(Y){i.error(new Do({error:Y,headers:new Ds(a.headers),status:a.status,statusText:a.statusText,url:mN(a)??t.urlWithParams}));return}}f===0&&(f=g?_N:0),f>=200&&f<300?(i.next(new gh({body:g,headers:c,status:f,statusText:l,url:h})),i.complete()):i.error(new Do({error:g,headers:c,status:f,statusText:l,url:h}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(t4,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,a)=>r[s]=a.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let a of t)i.set(a,s),s+=a.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),_I=class{};function vI(){}function i4(n){n.then(vI,vI)}function s4(n,e){return e(n)}function o4(n,e,t){return(r,i)=>Zr(t,()=>e(r,s=>n(s,i)))}var vN=new X(""),a4=new X(""),c4=new X("",{providedIn:"root",factory:()=>!0});var gN=(()=>{class n extends ph{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=W(wo),this.contributeToStability=W(c4)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(vN),...this.injector.get(a4,[])]));this.chain=r.reduceRight((i,s)=>o4(i,s,this.injector),s4)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Na(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(ce(Ym),ce(kn))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();var l4=/^\)\]\}',?\n/;function u4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var yN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ne(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?mt(r.\u0275loadImpl()):de(null)).pipe(Xn(()=>new Ae(s=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((M,P)=>a.setRequestHeader(M,P.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&a.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();a.responseType=M!=="json"?M:"text"}let c=t.serializeBody(),l=null,h=()=>{if(l!==null)return l;let M=a.statusText||"OK",P=new Ds(a.getAllResponseHeaders()),V=u4(a)||t.url;return l=new Jm({headers:P,status:a.status,statusText:M,url:V}),l},f=()=>{let{headers:M,status:P,statusText:V,url:L}=h(),F=null;P!==Z$&&(F=typeof a.response>"u"?a.responseText:a.response),P===0&&(P=F?_N:0);let $=P>=200&&P<300;if(t.responseType==="json"&&typeof F=="string"){let Y=F;F=F.replace(l4,"");try{F=F!==""?JSON.parse(F):null}catch(z){F=Y,$&&($=!1,F={error:z,text:F})}}$?(s.next(new gh({body:F,headers:M,status:P,statusText:V,url:L||void 0})),s.complete()):s.error(new Do({error:F,headers:M,status:P,statusText:V,url:L||void 0}))},g=M=>{let{url:P}=h(),V=new Do({error:M,status:a.status||0,statusText:a.statusText||"Unknown Error",url:P||void 0});s.error(V)},I=!1,T=M=>{I||(s.next(h()),I=!0);let P={type:So.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(P.total=M.total),t.responseType==="text"&&a.responseText&&(P.partialText=a.responseText),s.next(P)},x=M=>{let P={type:So.UploadProgress,loaded:M.loaded};M.lengthComputable&&(P.total=M.total),s.next(P)};return a.addEventListener("load",f),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),t.reportProgress&&(a.addEventListener("progress",T),c!==null&&a.upload&&a.upload.addEventListener("progress",x)),a.send(c),s.next({type:So.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",f),a.removeEventListener("timeout",g),t.reportProgress&&(a.removeEventListener("progress",T),c!==null&&a.upload&&a.upload.removeEventListener("progress",x)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(ce(wl))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),EN=new X(""),d4="XSRF-TOKEN",h4=new X("",{providedIn:"root",factory:()=>d4}),f4="X-XSRF-TOKEN",p4=new X("",{providedIn:"root",factory:()=>f4}),Xm=class{},m4=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hm(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(ce(Un),ce(Ti),ce(h4))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function g4(n,e){let t=n.url.toLowerCase();if(!W(EN)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=W(Xm).getToken(),i=W(p4);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function wN(...n){let e=[e4,yN,gN,{provide:ph,useExisting:gN},{provide:Ym,useFactory:()=>W(r4,{optional:!0})??W(yN)},{provide:vN,useValue:g4,multi:!0},{provide:EN,useValue:!0},{provide:Xm,useClass:m4}];for(let t of n)e.push(...t.\u0275providers);return fr(e)}var II=class extends Bm{constructor(){super(...arguments),this.supportsDOMEvents=!0}},bI=class n extends II{static makeCurrent(){eN(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=y4();return t==null?null:_4(t)}resetBaseElement(){yh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hm(document.cookie,e)}},yh=null;function y4(){return yh=yh||document.querySelector("base"),yh?yh.getAttribute("href"):null}function _4(n){return new URL(n,document.baseURI).pathname}var v4=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),TI=new X(""),CN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ne(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ce(TI),ce(Qe))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),Zm=class{constructor(e){this._doc=e}},EI="ng-app-id",DN=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Km(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${EI}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(EI),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(EI,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ce(Un),ce(Bw),ce(qw,8),ce(Ti))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),wI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},DI=/%COMP%/g,AN="%COMP%",E4=`_nghost-${AN}`,w4=`_ngcontent-${AN}`,I4=!0,b4=new X("",{providedIn:"root",factory:()=>I4});function T4(n){return w4.replace(DI,n)}function C4(n){return E4.replace(DI,n)}function SN(n,e){return e.map(t=>t.replace(DI,n))}var IN=(()=>{class n{constructor(t,r,i,s,a,c,l,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Km(c),this.defaultRenderer=new _h(t,a,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vi.ShadowDom&&(r=ve(q({},r),{encapsulation:vi.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof eg?i.applyToHost(t):i instanceof vh&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case vi.Emulated:s=new eg(l,h,r,this.appId,f,a,c,g);break;case vi.ShadowDom:return new CI(l,h,t,r,a,c,this.nonce,g);default:s=new vh(l,h,r,f,a,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ce(CN),ce(DN),ce(Bw),ce(b4),ce(Un),ce(Ti),ce(Qe),ce(qw))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),_h=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(wI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(bN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(bN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=wI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=wI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fs.DashCase|fs.Important)?e.style.setProperty(t,r,i&fs.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ts().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function bN(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var CI=class extends _h{constructor(e,t,r,i,s,a,c,l){super(e,s,a,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=SN(i.id,i.styles);for(let f of h){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vh=class extends _h{constructor(e,t,r,i,s,a,c,l){super(e,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?SN(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},eg=class extends vh{constructor(e,t,r,i,s,a,c,l){let h=i+"-"+r.id;super(e,t,r,s,a,c,l,h),this.contentAttr=T4(h),this.hostAttr=C4(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},D4=(()=>{class n extends Zm{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ce(Un))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})(),TN=["alt","control","meta","shift"],A4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},R4=(()=>{class n extends Zm{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ts().onAndCancel(t,s.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),TN.forEach(h=>{let f=r.indexOf(h);f>-1&&(r.splice(f,1),a+=h+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(t,r){let i=A4[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),TN.forEach(a=>{if(a!==i){let c=S4[a];c(t)&&(s+=a+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ce(Un))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac})}}return n})();function RN(n,e){return Gx(q({rootComponent:n},x4(e)))}function x4(n){return{appProviders:[...k4,...n?.providers??[]],platformProviders:O4}}function N4(){bI.makeCurrent()}function P4(){return new hs}function M4(){return WR(document),document}var O4=[{provide:Ti,useValue:uN},{provide:$w,useValue:N4,multi:!0},{provide:Un,useFactory:M4,deps:[]}];var k4=[{provide:hm,useValue:"root"},{provide:hs,useFactory:P4,deps:[]},{provide:TI,useClass:D4,multi:!0,deps:[Un,Qe,Ti]},{provide:TI,useClass:R4,multi:!0,deps:[Un]},IN,DN,CN,{provide:pl,useExisting:IN},{provide:wl,useClass:v4,deps:[]},[]];var xN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ce(Un))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ie="primary",Vh=Symbol("RouteTitle"),NI=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Sl(n){return new NI(n)}function F4(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],c=n[s];if(a[0]===":")i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function L4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Di(n[t],e[t]))return!1;return!0}function Di(n,e){let t=n?PI(n):void 0,r=e?PI(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!LN(n[i],e[i]))return!1;return!0}function PI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function LN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function UN(n){return n.length>0?n[n.length-1]:null}function Ro(n){return aE(n)?n:za(n)?mt(Promise.resolve(n)):de(n)}var U4={exact:BN,subset:$N},jN={exact:j4,subset:B4,ignored:()=>!0};function NN(n,e,t){return U4[t.paths](n.root,e.root,t.matrixParams)&&jN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function j4(n,e){return Di(n,e)}function BN(n,e,t){if(!Ka(n.segments,e.segments)||!rg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!BN(n.children[r],e.children[r],t))return!1;return!0}function B4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>LN(n[t],e[t]))}function $N(n,e,t){return qN(n,e,e.segments,t)}function qN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ka(i,t)||e.hasChildren()||!rg(i,t,r))}else if(n.segments.length===t.length){if(!Ka(n.segments,t)||!rg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!$N(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Ka(n.segments,i)||!rg(n.segments,i,r)||!n.children[Ie]?!1:qN(n.children[Ie],e,s,r)}}function rg(n,e,t){return e.every((r,i)=>jN[t](n[i].parameters,r.parameters))}var Ss=class{constructor(e=new Ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Sl(this.queryParams),this._queryParamMap}toString(){return z4.serialize(this)}},Ye=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ig(this)}},Wa=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Sl(this.parameters),this._parameterMap}toString(){return HN(this)}};function $4(n,e){return Ka(n,e)&&n.every((t,r)=>Di(t.parameters,e[r].parameters))}function Ka(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function q4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ie&&(t=t.concat(e(i,r)))}),t}var i0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>new Dh,providedIn:"root"})}}return n})(),Dh=class{parse(e){let t=new OI(e);return new Ss(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Eh(e.root,!0)}`,r=W4(e.queryParams),i=typeof e.fragment=="string"?`#${H4(e.fragment)}`:"";return`${t}${r}${i}`}},z4=new Dh;function ig(n){return n.segments.map(e=>HN(e)).join("/")}function Eh(n,e){if(!n.hasChildren())return ig(n);if(e){let t=n.children[Ie]?Eh(n.children[Ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ie&&r.push(`${i}:${Eh(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=q4(n,(r,i)=>i===Ie?[Eh(n.children[Ie],!1)]:[`${i}:${Eh(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ie]!=null?`${ig(n)}/${t[0]}`:`${ig(n)}/(${t.join("//")})`}}function zN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tg(n){return zN(n).replace(/%3B/gi,";")}function H4(n){return encodeURI(n)}function MI(n){return zN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sg(n){return decodeURIComponent(n)}function PN(n){return sg(n.replace(/\+/g,"%20"))}function HN(n){return`${MI(n.path)}${G4(n.parameters)}`}function G4(n){return Object.entries(n).map(([e,t])=>`;${MI(e)}=${MI(t)}`).join("")}function W4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${tg(t)}=${tg(i)}`).join("&"):`${tg(t)}=${tg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var K4=/^[^\/()?;#]+/;function AI(n){let e=n.match(K4);return e?e[0]:""}var Q4=/^[^\/()?;=#]+/;function Y4(n){let e=n.match(Q4);return e?e[0]:""}var J4=/^[^=?&#]+/;function X4(n){let e=n.match(J4);return e?e[0]:""}var Z4=/^[^&#]+/;function eq(n){let e=n.match(Z4);return e?e[0]:""}var OI=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ie]=new Ye(e,t)),r}parseSegment(){let e=AI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ne(4009,!1);return this.capture(e),new Wa(sg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Y4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=AI(this.remaining);i&&(r=i,this.capture(r))}e[sg(t)]=sg(r)}parseQueryParam(e){let t=X4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=eq(this.remaining);a&&(r=a,this.capture(r))}let i=PN(t),s=PN(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=AI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ne(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ie);let a=this.parseChildren();t[s]=Object.keys(a).length===1?a[Ie]:new Ye([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ne(4011,!1)}};function GN(n){return n.segments.length>0?new Ye([],{[Ie]:n}):n}function WN(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=WN(i);if(r===Ie&&s.segments.length===0&&s.hasChildren())for(let[a,c]of Object.entries(s.children))e[a]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ye(n.segments,e);return tq(t)}function tq(n){if(n.numberOfChildren===1&&n.children[Ie]){let e=n.children[Ie];return new Ye(n.segments.concat(e.segments),e.children)}return n}function Ah(n){return n instanceof Ss}function nq(n,e,t=null,r=null){let i=KN(n);return QN(i,e,t,r)}function KN(n){let e;function t(s){let a={};for(let l of s.children){let h=t(l);a[l.outlet]=h}let c=new Ye(s.url,a);return s===n&&(e=c),c}let r=t(n.root),i=GN(r);return e??i}function QN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return SI(i,i,i,t,r);let s=rq(e);if(s.toRoot())return SI(i,i,new Ye([],{}),t,r);let a=iq(s,i,n),c=a.processChildren?bh(a.segmentGroup,a.index,s.commands):JN(a.segmentGroup,a.index,s.commands);return SI(i,a.segmentGroup,c,t,r)}function og(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Sh(n){return typeof n=="object"&&n!=null&&n.outlets}function SI(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,h])=>{s[l]=Array.isArray(h)?h.map(f=>`${f}`):`${h}`});let a;n===e?a=t:a=YN(n,e,t);let c=GN(WN(a));return new Ss(c,s,i)}function YN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=YN(s,e,t)}),new Ye(n.segments,r)}var ag=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&og(r[0]))throw new ne(4003,!1);let i=r.find(Sh);if(i&&i!==UN(r))throw new ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new ag(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,h])=>{c[l]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new ag(t,e,r)}var Cl=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function iq(n,e,t){if(n.isAbsolute)return new Cl(e,!0,0);if(!t)return new Cl(e,!1,NaN);if(t.parent===null)return new Cl(t,!0,0);let r=og(n.commands[0])?0:1,i=t.segments.length-1+r;return sq(t,i,n.numberOfDoubleDots)}function sq(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ne(4005,!1);i=r.segments.length}return new Cl(r,!1,i-s)}function oq(n){return Sh(n[0])?n[0].outlets:{[Ie]:n}}function JN(n,e,t){if(n??=new Ye([],{}),n.segments.length===0&&n.hasChildren())return bh(n,e,t);let r=aq(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ye(n.segments.slice(0,r.pathIndex),{});return s.children[Ie]=new Ye(n.segments.slice(r.pathIndex),n.children),bh(s,0,i)}else return r.match&&i.length===0?new Ye(n.segments,{}):r.match&&!n.hasChildren()?kI(n,e,t):r.match?bh(n,0,i):kI(n,e,t)}function bh(n,e,t){if(t.length===0)return new Ye(n.segments,{});{let r=oq(t),i={};if(Object.keys(r).some(s=>s!==Ie)&&n.children[Ie]&&n.numberOfChildren===1&&n.children[Ie].segments.length===0){let s=bh(n.children[Ie],e,t);return new Ye(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=JN(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new Ye(n.segments,i)}}function aq(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let a=n.segments[i],c=t[r];if(Sh(c))break;let l=`${c}`,h=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!ON(l,h,a))return s;r+=2}else{if(!ON(l,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function kI(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Sh(s)){let l=cq(s.outlets);return new Ye(r,l)}if(i===0&&og(t[0])){let l=n.segments[e];r.push(new Wa(l.path,MN(t[0]))),i++;continue}let a=Sh(s)?s.outlets[Ie]:`${s}`,c=i<t.length-1?t[i+1]:null;a&&c&&og(c)?(r.push(new Wa(a,MN(c))),i+=2):(r.push(new Wa(a,{})),i++)}return new Ye(r,{})}function cq(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=kI(new Ye([],{}),0,r))}),e}function MN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ON(n,e,t){return n==t.path&&Di(e,t.parameters)}var Th="imperative",Jt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Jt||{}),_r=class{constructor(e,t){this.id=e,this.url=t}},Rh=class extends _r{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Jt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qa=class extends _r{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Jt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(sr||{}),VI=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(VI||{}),As=class extends _r{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Jt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ya=class extends _r{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Jt.NavigationSkipped}},xh=class extends _r{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Jt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cg=class extends _r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Jt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FI=class extends _r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Jt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},LI=class extends _r{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Jt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},UI=class extends _r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Jt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jI=class extends _r{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Jt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},BI=class{constructor(e){this.route=e,this.type=Jt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$I=class{constructor(e){this.route=e,this.type=Jt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qI=class{constructor(e){this.snapshot=e,this.type=Jt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zI=class{constructor(e){this.snapshot=e,this.type=Jt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},HI=class{constructor(e){this.snapshot=e,this.type=Jt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},GI=class{constructor(e){this.snapshot=e,this.type=Jt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Nh=class{},Rl=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function lq(n,e){return n.providers&&!n._injector&&(n._injector=rI(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ni(n){return n.outlet||Ie}function uq(n,e){let t=n.filter(r=>ni(r)===e);return t.push(...n.filter(r=>ni(r)!==e)),t}function Fh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var WI=class{get injector(){return Fh(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new mg(this.rootInjector),this.attachRef=null}},mg=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new WI(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(ce(kn))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lg=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=KI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=KI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=QI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return QI(e,this._root).map(t=>t.value)}};function KI(n,e){if(n===e.value)return e;for(let t of e.children){let r=KI(n,t);if(r)return r}return null}function QI(n,e){if(n===e.value)return[e];for(let t of e.children){let r=QI(n,t);if(r.length)return r.unshift(e),r}return[]}var ir=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Tl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ug=class extends lg{constructor(e,t){super(e),this.snapshot=t,s0(this,e)}toString(){return this.snapshot.toString()}};function XN(n){let e=dq(n),t=new It([new Wa("",{})]),r=new It({}),i=new It({}),s=new It({}),a=new It(""),c=new vr(t,r,s,a,i,Ie,n,e.root);return c.snapshot=e.root,new ug(new ir(c,[]),e)}function dq(n){let e={},t={},r={},i="",s=new Dl([],e,r,i,t,Ie,n,null,{});return new hg("",new ir(s,[]))}var vr=class{constructor(e,t,r,i,s,a,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ee(h=>h[Vh]))??de(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ee(e=>Sl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ee(e=>Sl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:q(q({},e.params),n.params),data:q(q({},e.data),n.data),resolve:q(q(q(q({},n.data),e.data),i?.data),n._resolvedData)}:r={params:q({},n.params),data:q({},n.data),resolve:q(q({},n.data),n._resolvedData??{})},i&&eP(i)&&(r.resolve[Vh]=i.title),r}var Dl=class{get title(){return this.data?.[Vh]}constructor(e,t,r,i,s,a,c,l,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},hg=class extends lg{constructor(e,t){super(t),this.url=e,s0(this,t)}toString(){return ZN(this._root)}};function s0(n,e){e.value._routerState=n,e.children.forEach(t=>s0(n,t))}function ZN(n){let e=n.children.length>0?` { ${n.children.map(ZN).join(", ")} } `:"";return`${n.value}${e}`}function RI(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Di(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Di(e.params,t.params)||n.paramsSubject.next(t.params),L4(e.url,t.url)||n.urlSubject.next(t.url),Di(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function YI(n,e){let t=Di(n.params,e.params)&&$4(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||YI(n.parent,e.parent))}function eP(n){return typeof n.title=="string"||n.title===null}var o0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=W(mg),this.location=W(Am),this.changeDetector=W(Ha),this.inputBinder=W(a0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ne(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ne(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new JI(t,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ut({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vo]})}}return n})(),JI=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vr?this.route:e===mg?this.childContexts:this.parent.get(e,t)}},a0=new X("");function hq(n,e,t){let r=Ph(n,e._root,t?t._root:void 0);return new ug(r,e)}function Ph(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=fq(n,e,t);return new ir(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>Ph(n,c)),a}}let r=pq(e.value),i=e.children.map(s=>Ph(n,s));return new ir(r,i)}}function fq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ph(n,r,i);return Ph(n,r)})}function pq(n){return new vr(new It(n.url),new It(n.params),new It(n.queryParams),new It(n.fragment),new It(n.data),n.outlet,n.component,n)}var Mh=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},tP="ngNavigationCancelingError";function fg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ah(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nP(!1,sr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function nP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[tP]=!0,t.cancellationCode=e,t}function mq(n){return rP(n)&&Ah(n.url)}function rP(n){return!!n&&n[tP]}var gq=(n,e,t,r)=>Ee(i=>(new XI(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),XI=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),RI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Tl(t);e.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Tl(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Tl(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Tl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new GI(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zI(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(RI(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),RI(c.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},pg=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Al=class{constructor(e,t){this.component=e,this.route=t}};function yq(n,e,t){let r=n._root,i=e?e._root:null;return wh(r,i,t,[r.value])}function _q(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Nl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!OS(n)?n:e.get(n):r}function wh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Tl(e);return n.children.forEach(a=>{vq(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>Ch(c,t.getContext(a),i)),i}function vq(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let l=Eq(a,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pg(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?wh(n,e,c?c.children:null,r,i):wh(n,e,t,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Al(c.outlet.component,a))}else a&&Ch(e,c,i),i.canActivateChecks.push(new pg(r)),s.component?wh(n,null,c?c.children:null,r,i):wh(n,null,t,r,i);return i}function Eq(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ka(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ka(n.url,e.url)||!Di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YI(n,e)||!Di(n.queryParams,e.queryParams);case"paramsChange":default:return!YI(n,e)}}function Ch(n,e,t){let r=Tl(n),i=n.value;Object.entries(r).forEach(([s,a])=>{i.component?e?Ch(a,e.children.getContext(s),t):Ch(a,null,t):Ch(a,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Al(e.outlet.component,i)):t.canDeactivateChecks.push(new Al(null,i)):t.canDeactivateChecks.push(new Al(null,i))}function Lh(n){return typeof n=="function"}function wq(n){return typeof n=="boolean"}function Iq(n){return n&&Lh(n.canLoad)}function bq(n){return n&&Lh(n.canActivate)}function Tq(n){return n&&Lh(n.canActivateChild)}function Cq(n){return n&&Lh(n.canDeactivate)}function Dq(n){return n&&Lh(n.canMatch)}function iP(n){return n instanceof ls||n?.name==="EmptyError"}var ng=Symbol("INITIAL_VALUE");function xl(){return Xn(n=>Ap(n.map(e=>e.pipe(us(1),fE(ng)))).pipe(Ee(e=>{for(let t of e)if(t!==!0){if(t===ng)return ng;if(t===!1||Aq(t))return t}return!0}),Jn(e=>e!==ng),us(1)))}function Aq(n){return Ah(n)||n instanceof Mh}function Sq(n,e){return Lt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return a.length===0&&s.length===0?de(ve(q({},t),{guardsResult:!0})):Rq(a,r,i,n).pipe(Lt(c=>c&&wq(c)?xq(r,s,n,e):de(c)),Ee(c=>ve(q({},t),{guardsResult:c})))})}function Rq(n,e,t,r){return mt(n).pipe(Lt(i=>kq(i.component,i.route,t,e,r)),gi(i=>i!==!0,!0))}function xq(n,e,t,r){return mt(e).pipe(uo(i=>Yc(Pq(i.route.parent,r),Nq(i.route,r),Oq(n,i.path,t),Mq(n,i.route,t))),gi(i=>i!==!0,!0))}function Nq(n,e){return n!==null&&e&&e(new HI(n)),de(!0)}function Pq(n,e){return n!==null&&e&&e(new qI(n)),de(!0)}function Mq(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return de(!0);let i=r.map(s=>Sp(()=>{let a=Fh(e)??t,c=Nl(s,a),l=bq(c)?c.canActivate(e,n):Zr(a,()=>c(e,n));return Ro(l).pipe(gi())}));return de(i).pipe(xl())}function Oq(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>_q(a)).filter(a=>a!==null).map(a=>Sp(()=>{let c=a.guards.map(l=>{let h=Fh(a.node)??t,f=Nl(l,h),g=Tq(f)?f.canActivateChild(r,n):Zr(h,()=>f(r,n));return Ro(g).pipe(gi())});return de(c).pipe(xl())}));return de(s).pipe(xl())}function kq(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return de(!0);let a=s.map(c=>{let l=Fh(e)??i,h=Nl(c,l),f=Cq(h)?h.canDeactivate(n,e,t,r):Zr(l,()=>h(n,e,t,r));return Ro(f).pipe(gi())});return de(a).pipe(xl())}function Vq(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return de(!0);let s=i.map(a=>{let c=Nl(a,n),l=Iq(c)?c.canLoad(e,t):Zr(n,()=>c(e,t));return Ro(l)});return de(s).pipe(xl(),sP(r))}function sP(n){return Zv(Dt(e=>{if(typeof e!="boolean")throw fg(n,e)}),Ee(e=>e===!0))}function Fq(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return de(!0);let s=i.map(a=>{let c=Nl(a,n),l=Dq(c)?c.canMatch(e,t):Zr(n,()=>c(e,t));return Ro(l)});return de(s).pipe(xl(),sP(r))}var Oh=class{constructor(e){this.segmentGroup=e||null}},kh=class extends Error{constructor(e){super(),this.urlTree=e}};function bl(n){return Qc(new Oh(n))}function Lq(n){return Qc(new ne(4e3,!1))}function Uq(n){return Qc(nP(!1,sr.GuardRejected))}var ZI=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return de(r);if(i.numberOfChildren>1||!i.children[Ie])return Lq(`${e.redirectTo}`);i=i.children[Ie]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:l,fragment:h,routeConfig:f,url:g,outlet:I,params:T,data:x,title:M}=i,P=Zr(s,()=>c({params:T,data:x,queryParams:l,fragment:h,routeConfig:f,url:g,outlet:I,title:M}));if(P instanceof Ss)throw new kh(P);t=P}let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new kh(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Ss(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),a={};return Object.entries(t.children).forEach(([c,l])=>{a[c]=this.createSegmentGroup(e,l,r,i)}),new Ye(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ne(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},e0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jq(n,e,t,r,i){let s=oP(n,e,t);return s.matched?(r=lq(e,r),Fq(r,e,t,i).pipe(Ee(a=>a===!0?s:q({},e0)))):de(s)}function oP(n,e,t){if(e.path==="**")return Bq(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?q({},e0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||F4)(t,n,e);if(!i)return q({},e0);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let a=i.consumed.length>0?q(q({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function Bq(n){return{matched:!0,parameters:n.length>0?UN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function kN(n,e,t,r){return t.length>0&&zq(n,t,r)?{segmentGroup:new Ye(e,qq(r,new Ye(t,n.children))),slicedSegments:[]}:t.length===0&&Hq(n,t,r)?{segmentGroup:new Ye(n.segments,$q(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ye(n.segments,n.children),slicedSegments:t}}function $q(n,e,t,r){let i={};for(let s of t)if(gg(n,e,s)&&!r[ni(s)]){let a=new Ye([],{});i[ni(s)]=a}return q(q({},r),i)}function qq(n,e){let t={};t[Ie]=e;for(let r of n)if(r.path===""&&ni(r)!==Ie){let i=new Ye([],{});t[ni(r)]=i}return t}function zq(n,e,t){return t.some(r=>gg(n,e,r)&&ni(r)!==Ie)}function Hq(n,e,t){return t.some(r=>gg(n,e,r))}function gg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Gq(n,e,t){return e.length===0&&!n.children[t]}var t0=class{};function Wq(n,e,t,r,i,s,a="emptyOnly"){return new n0(n,e,t,r,i,a,s).recognize()}var Kq=31,n0=class{constructor(e,t,r,i,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new ZI(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=kN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ee(({children:t,rootSnapshot:r})=>{let i=new ir(r,t),s=new hg("",i),a=nq(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(e){let t=new Dl([],Object.freeze({}),Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ie,t).pipe(Ee(r=>({children:r,rootSnapshot:t})),lo(r=>{if(r instanceof kh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Oh?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Ee(a=>a instanceof ir?[a]:[]))}processChildren(e,t,r,i){let s=[];for(let a of Object.keys(r.children))a==="primary"?s.unshift(a):s.push(a);return mt(s).pipe(uo(a=>{let c=r.children[a],l=uq(t,a);return this.processSegmentGroup(e,l,c,a,i)}),hE((a,c)=>(a.push(...c),a)),ho(null),dE(),Lt(a=>{if(a===null)return bl(r);let c=aP(a);return Qq(c),de(c)}))}processSegment(e,t,r,i,s,a,c){return mt(t).pipe(uo(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,a,c).pipe(lo(h=>{if(h instanceof Oh)return de(null);throw h}))),gi(l=>!!l),lo(l=>{if(iP(l))return Gq(r,i,s)?de(new t0):bl(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,a,c,l){return ni(r)!==a&&(a===Ie||!gg(i,s,r))?bl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,a,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a,l):bl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a,c){let{matched:l,parameters:h,consumedSegments:f,positionalParamSegments:g,remainingSegments:I}=oP(t,i,s);if(!l)return bl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kq&&(this.allowRedirects=!1));let T=new Dl(s,h,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,VN(i),ni(i),i.component??i._loadedComponent??null,i,FN(i)),x=dg(T,c,this.paramsInheritanceStrategy);T.params=Object.freeze(x.params),T.data=Object.freeze(x.data);let M=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,T,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(Lt(P=>this.processSegment(e,r,t,P.concat(I),a,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,a){let c=jq(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Xn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xn(({routes:h})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:I,remainingSegments:T}=l,x=new Dl(I,g,Object.freeze(q({},this.urlTree.queryParams)),this.urlTree.fragment,VN(r),ni(r),r.component??r._loadedComponent??null,r,FN(r)),M=dg(x,a,this.paramsInheritanceStrategy);x.params=Object.freeze(M.params),x.data=Object.freeze(M.data);let{segmentGroup:P,slicedSegments:V}=kN(t,I,T,h);if(V.length===0&&P.hasChildren())return this.processChildren(f,h,P,x).pipe(Ee(F=>new ir(x,F)));if(h.length===0&&V.length===0)return de(new ir(x,[]));let L=ni(r)===s;return this.processSegment(f,h,P,V,L?Ie:s,!0,x).pipe(Ee(F=>new ir(x,F instanceof ir?[F]:[])))}))):bl(t)))}getChildConfig(e,t,r){return t.children?de({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?de({routes:t._loadedRoutes,injector:t._loadedInjector}):Vq(e,t,r,this.urlSerializer).pipe(Lt(i=>i?this.configLoader.loadChildren(e,t).pipe(Dt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Uq(t))):de({routes:[],injector:e})}};function Qq(n){n.sort((e,t)=>e.value.outlet===Ie?-1:t.value.outlet===Ie?1:e.value.outlet.localeCompare(t.value.outlet))}function Yq(n){let e=n.value.routeConfig;return e&&e.path===""}function aP(n){let e=[],t=new Set;for(let r of n){if(!Yq(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=aP(r.children);e.push(new ir(r.value,i))}return e.filter(r=>!t.has(r))}function VN(n){return n.data||{}}function FN(n){return n.resolve||{}}function Jq(n,e,t,r,i,s){return Lt(a=>Wq(n,e,t,r,a.extractedUrl,i,s).pipe(Ee(({state:c,tree:l})=>ve(q({},a),{targetSnapshot:c,urlAfterRedirects:l}))))}function Xq(n,e){return Lt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return de(t);let s=new Set(i.map(l=>l.route)),a=new Set;for(let l of s)if(!a.has(l))for(let h of cP(l))a.add(h);let c=0;return mt(a).pipe(uo(l=>s.has(l)?Zq(l,r,n,e):(l.data=dg(l,l.parent,n).resolve,de(void 0))),Dt(()=>c++),Jc(1),Lt(l=>c===a.size?de(t):Yn))})}function cP(n){let e=n.children.map(t=>cP(t)).flat();return[n,...e]}function Zq(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!eP(i)&&(s[Vh]=i.title),ez(s,n,e,r).pipe(Ee(a=>(n._resolvedData=a,n.data=dg(n,n.parent,t).resolve,null)))}function ez(n,e,t,r){let i=PI(n);if(i.length===0)return de({});let s={};return mt(i).pipe(Lt(a=>tz(n[a],e,t,r).pipe(gi(),Dt(c=>{if(c instanceof Mh)throw fg(new Dh,c);s[a]=c}))),Jc(1),uE(s),lo(a=>iP(a)?Yn:Qc(a)))}function tz(n,e,t,r){let i=Fh(e)??r,s=Nl(n,i),a=s.resolve?s.resolve(e,t):Zr(i,()=>s(e,t));return Ro(a)}function xI(n){return Xn(e=>{let t=n(e);return t?mt(t).pipe(Ee(()=>e)):de(e)})}var lP=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ie);return r}getResolvedTitleForRoute(t){return t.data[Vh]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>W(nz),providedIn:"root"})}}return n})(),nz=(()=>{class n extends lP{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ce(xN))}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),c0=new X("",{providedIn:"root",factory:()=>({})}),rz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=pe({type:n,selectors:[["ng-component"]],standalone:!0,features:[me],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[o0],encapsulation:2})}}return n})();function l0(n){let e=n.children&&n.children.map(l0),t=e?ve(q({},n),{children:e}):q({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ie&&(t.component=rz),t}var u0=new X(""),iz=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=W(cI)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return de(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ro(t.loadComponent()).pipe(Ee(uP),Dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Na(()=>{this.componentLoaders.delete(t)})),i=new Hc(r,()=>new Ft).pipe(zc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=sz(r,this.compiler,t,this.onLoadEndListener).pipe(Na(()=>{this.childrenLoaders.delete(r)})),a=new Hc(s,()=>new Ft).pipe(zc());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sz(n,e,t,r){return Ro(n.loadChildren()).pipe(Ee(uP),Lt(i=>i instanceof th||Array.isArray(i)?de(i):mt(e.compileModuleAsync(i))),Ee(i=>{r&&r(n);let s,a,c=!1;return Array.isArray(i)?(a=i,c=!0):(s=i.create(t).injector,a=s.get(u0,[],{optional:!0,self:!0}).flat()),{routes:a.map(l0),injector:s}}))}function oz(n){return n&&typeof n=="object"&&"default"in n}function uP(n){return oz(n)?n.default:n}var d0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>W(az),providedIn:"root"})}}return n})(),az=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cz=new X("");var lz=new X(""),uz=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ft,this.transitionAbortSubject=new Ft,this.configLoader=W(iz),this.environmentInjector=W(kn),this.urlSerializer=W(i0),this.rootContexts=W(mg),this.location=W(dh),this.inputBindingEnabled=W(a0,{optional:!0})!==null,this.titleStrategy=W(lP),this.options=W(c0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=W(d0),this.createViewTransition=W(cz,{optional:!0}),this.navigationErrorHandler=W(lz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>de(void 0),this.rootComponentType=null;let t=i=>this.events.next(new BI(i)),r=i=>this.events.next(new $I(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ve(q(q({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new It({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Th,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jn(s=>s.id!==0),Ee(s=>ve(q({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Xn(s=>{let a=!1,c=!1;return de(s).pipe(Xn(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",sr.SupersededByNewNavigation),Yn;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ve(q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&f!=="reload"){let g="";return this.events.next(new Ya(l.id,this.urlSerializer.serialize(l.rawUrl),g,VI.IgnoredSameUrlNavigation)),l.resolve(!1),Yn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return de(l).pipe(Xn(g=>{let I=this.transitions?.getValue();return this.events.next(new Rh(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),I!==this.transitions?.getValue()?Yn:Promise.resolve(g)}),Jq(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Dt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ve(q({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let I=new cg(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:I,source:T,restoredState:x,extras:M}=l,P=new Rh(g,this.urlSerializer.serialize(I),T,x);this.events.next(P);let V=XN(this.rootComponentType).snapshot;return this.currentTransition=s=ve(q({},l),{targetSnapshot:V,urlAfterRedirects:I,extras:ve(q({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,de(s)}else{let g="";return this.events.next(new Ya(l.id,this.urlSerializer.serialize(l.extractedUrl),g,VI.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Yn}}),Dt(l=>{let h=new FI(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Ee(l=>(this.currentTransition=s=ve(q({},l),{guards:yq(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Sq(this.environmentInjector,l=>this.events.next(l)),Dt(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw fg(this.urlSerializer,l.guardsResult);let h=new LI(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Jn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",sr.GuardRejected),!1)),xI(l=>{if(l.guards.canActivateChecks.length)return de(l).pipe(Dt(h=>{let f=new UI(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Xn(h=>{let f=!1;return de(h).pipe(Xq(this.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",sr.NoDataFromResolver)}}))}),Dt(h=>{let f=new jI(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),xI(l=>{let h=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Dt(I=>{f.component=I}),Ee(()=>{})));for(let I of f.children)g.push(...h(I));return g};return Ap(h(l.targetSnapshot.root)).pipe(ho(null),us(1))}),xI(()=>this.afterPreactivation()),Xn(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return f?mt(f).pipe(Ee(()=>s)):de(s)}),Ee(l=>{let h=hq(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ve(q({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Dt(()=>{this.events.next(new Nh)}),gq(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),us(1),Dt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qa(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),pE(this.transitionAbortSubject.pipe(Dt(l=>{throw l}))),Na(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",sr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),lo(l=>{if(c=!0,rP(l))this.events.next(new As(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),mq(l)?this.events.next(new Rl(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new xh(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let f=Zr(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(f instanceof Mh){let{message:g,cancellationCode:I}=fg(this.urlSerializer,f);this.events.next(new As(s.id,this.urlSerializer.serialize(s.extractedUrl),g,I)),this.events.next(new Rl(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(h);let g=t.errorHandler(l);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Yn}))}))}cancelNavigationTransition(t,r,i){let s=new As(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dz(n){return n!==Th}var hz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>W(fz),providedIn:"root"})}}return n})(),r0=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},fz=(()=>{class n extends r0{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=$a(n)))(i||n)}})()}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:()=>W(pz),providedIn:"root"})}}return n})(),pz=(()=>{class n extends dP{constructor(){super(...arguments),this.location=W(dh),this.urlSerializer=W(i0),this.options=W(c0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=W(d0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ss,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=XN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Rh)this.stateMemento=this.createStateMemento();else if(t instanceof Ya)this.rawUrlTree=r.initialUrl;else if(t instanceof cg){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Nh?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof As&&(t.code===sr.GuardRejected||t.code===sr.NoDataFromResolver)?this.restoreHistory(r):t instanceof xh?this.restoreHistory(r,!0):t instanceof Qa&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ss?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,a=q(q({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",a)}else{let s=q(q({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=$a(n)))(i||n)}})()}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ih=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ih||{});function mz(n,e){n.events.pipe(Jn(t=>t instanceof Qa||t instanceof As||t instanceof xh||t instanceof Ya),Ee(t=>t instanceof Qa||t instanceof Ya?Ih.COMPLETE:(t instanceof As?t.code===sr.Redirect||t.code===sr.SupersededByNewNavigation:!1)?Ih.REDIRECTING:Ih.FAILED),Jn(t=>t!==Ih.REDIRECTING),us(1)).subscribe(()=>{e()})}function gz(n){throw n}var yz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_z={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=W(xm),this.stateManager=W(dP),this.options=W(c0,{optional:!0})||{},this.pendingTasks=W(wo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=W(uz),this.urlSerializer=W(i0),this.location=W(dh),this.urlHandlingStrategy=W(d0),this._events=new Ft,this.errorHandler=this.options.errorHandler||gz,this.navigated=!1,this.routeReuseStrategy=W(hz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=W(u0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!W(a0,{optional:!0}),this.eventsSubscription=new _t,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof As&&r.code!==sr.Redirect&&r.code!==sr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qa)this.navigated=!0;else if(r instanceof Rl){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=q({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dz(i.source)},a);this.scheduleNavigation(c,Th,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ez(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Th,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let l=q({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(l0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,h=l?this.currentUrlTree.fragment:a,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=q(q({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let I=i?i.snapshot:this.routerState.snapshot.root;g=KN(I)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return QN(g,t,f,h??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ah(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Th,null,r)}navigate(t,r={skipLocationChange:!1}){return vz(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=q({},yz):r===!1?i=q({},_z):i=r,Ah(t))return NN(this.currentUrlTree,t,i);let s=this.parseUrl(t);return NN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((g,I)=>{c=g,l=I});let f=this.pendingTasks.add();return mz(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ne(4008,!1)}function Ez(n){return!(n instanceof Nh)&&!(n instanceof Rl)}var wz=new X("");function hP(n,...e){return fr([{provide:u0,multi:!0,useValue:n},[],{provide:vr,useFactory:Iz,deps:[hn]},{provide:Nm,multi:!0,useFactory:bz},e.map(t=>t.\u0275providers)])}function Iz(n){return n.routerState.root}function bz(){let n=W(Vn);return e=>{let t=n.get(Co);if(e!==t.components[0])return;let r=n.get(hn),i=n.get(Tz);n.get(Cz)===1&&r.initialNavigation(),n.get(Dz,null,Te.Optional)?.setUpPreloading(),n.get(wz,null,Te.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Tz=new X("",{factory:()=>new Ft}),Cz=new X("",{providedIn:"root",factory:()=>1});var Dz=new X("");var yg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["not-found"]],standalone:!0,features:[me],decls:2,vars:0,template:function(t,r){t&1&&(S(0,"h1"),N(1,"Page Not Found"),D())}})};function Az(n,e){n&1&&(S(0,"li",6),N(1,"P-Bandai Exclusive: Yes"),D())}function Sz(n,e){n&1&&(S(0,"li",6),N(1,"P-Bandai Exclusive: No"),D())}var _g=class n{item;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["product-card"]],inputs:{item:"item"},standalone:!0,features:[me],decls:17,vars:7,consts:[[1,"card"],[1,"image-container"],["alt","Card image cap",1,"img-fluid",3,"src"],[1,"card-body","d-flex","align-items-center"],[1,"card-title","m-0"],[1,"list-group","list-group-flush"],[1,"list-group-item"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1),Se(2,"img",2),D(),S(3,"div",3)(4,"div",4),N(5),D()(),S(6,"ul",5)(7,"li",6),N(8),D(),S(9,"li",6),N(10),D(),K(11,Az,2,0,"li",6)(12,Sz,2,0,"li",6),S(13,"li",6),N(14),D(),S(15,"li",6),N(16),D()()()),t&2&&(k(2),sI("src",r.item.thumbnail,vm),k(3),qe(r.item.name),k(3),tr("Grade: ",r.item.grade,""),k(2),tr("Size: ",r.item.size,""),k(),G(r.item.pbandai?11:12),k(3),tr("Relase Date: ",r.item.release,""),k(2),tr("Price: ",r.item.price,""))},styles:["ul[_ngcontent-%COMP%]{padding:0}li[_ngcontent-%COMP%]{list-style:none}.image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-top:56.25%;overflow:hidden;display:flex;justify-content:center;align-items:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain}.card-body[_ngcontent-%COMP%]{height:80px}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}"]})};function Rz(n,e){n&1&&(S(0,"div"),N(1,"No Products Found"),D())}function xz(n,e){if(n&1){let t=dn();S(0,"div",2)(1,"a",3),fe("click",function(i){let s=ln(t).$implicit,a=re(2);return i.preventDefault(),un(a.toDetailsPage(s))}),Se(2,"product-card",4),D()()}if(n&2){let t=e.$implicit;k(2),Fe("item",t)}}function Nz(n,e){if(n&1&&(S(0,"div",1),Cn(1,xz,3,1,"div",2,Tn),D()),n&2){let t=re();k(),Dn(t.displayProducts)}}var vg=class n{constructor(e){this.router=e}displayProducts=[];toDetailsPage(e){this.router.navigate(["details/",e.id])}static \u0275fac=function(t){return new(t||n)(H(hn))};static \u0275cmp=pe({type:n,selectors:[["product-list"]],inputs:{displayProducts:"displayProducts"},standalone:!0,features:[me],decls:3,vars:1,consts:[[1,"container-fluid","px-0","m-0"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-3","mb-4"],["href","#",3,"click"],[3,"item"]],template:function(t,r){t&1&&(S(0,"div",0),K(1,Rz,2,0,"div")(2,Nz,3,0,"div",1),D()),t&2&&(k(),G(r.displayProducts.length===0?1:2))},dependencies:[_g],styles:["a[_ngcontent-%COMP%]{text-decoration:none}"]})};var wP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(H(Es),H(bi))}}static{this.\u0275dir=Ut({type:n})}}return n})(),m0=(()=>{class n extends wP{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=$a(n)))(i||n)}})()}static{this.\u0275dir=Ut({type:n,features:[mr]})}}return n})(),zh=new X("");var Pz={provide:zh,useExisting:Ii(()=>Ai),multi:!0};function Mz(){let n=Ts()?Ts().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Oz=new X(""),Ai=(()=>{class n extends wP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Mz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(H(Es),H(bi),H(Oz,8))}}static{this.\u0275dir=Ut({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&fe("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[bo([Pz]),mr]})}}return n})();function xo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function IP(n){return n!=null&&typeof n.length=="number"}var Rg=new X(""),xg=new X(""),kz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,et=class{static min(e){return Vz(e)}static max(e){return Fz(e)}static required(e){return Lz(e)}static requiredTrue(e){return Uz(e)}static email(e){return jz(e)}static minLength(e){return Bz(e)}static maxLength(e){return $z(e)}static pattern(e){return qz(e)}static nullValidator(e){return bP(e)}static compose(e){return RP(e)}static composeAsync(e){return xP(e)}};function Vz(n){return e=>{if(xo(e.value)||xo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Fz(n){return e=>{if(xo(e.value)||xo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Lz(n){return xo(n.value)?{required:!0}:null}function Uz(n){return n.value===!0?null:{required:!0}}function jz(n){return xo(n.value)||kz.test(n.value)?null:{email:!0}}function Bz(n){return e=>xo(e.value)||!IP(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function $z(n){return e=>IP(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function qz(n){if(!n)return bP;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function bP(n){return null}function TP(n){return n!=null}function CP(n){return za(n)?mt(n):n}function DP(n){let e={};return n.forEach(t=>{e=t!=null?q(q({},e),t):e}),Object.keys(e).length===0?null:e}function AP(n,e){return e.map(t=>t(n))}function zz(n){return!n.validate}function SP(n){return n.map(e=>zz(e)?e:t=>e.validate(t))}function RP(n){if(!n)return null;let e=n.filter(TP);return e.length==0?null:function(t){return DP(AP(t,e))}}function g0(n){return n!=null?RP(SP(n)):null}function xP(n){if(!n)return null;let e=n.filter(TP);return e.length==0?null:function(t){let r=AP(t,e).map(CP);return lE(r).pipe(Ee(DP))}}function y0(n){return n!=null?xP(SP(n)):null}function fP(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function NP(n){return n._rawValidators}function PP(n){return n._rawAsyncValidators}function h0(n){return n?Array.isArray(n)?n:[n]:[]}function wg(n,e){return Array.isArray(n)?n.includes(e):n===e}function pP(n,e){let t=h0(e);return h0(n).forEach(i=>{wg(t,i)||t.push(i)}),t}function mP(n,e){return h0(e).filter(t=>!wg(n,t))}var Ig=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=g0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=y0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},xs=class extends Ig{get formDirective(){return null}get path(){return null}},Ja=class extends Ig{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Hz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bae=ve(q({},Hz),{"[class.ng-submitted]":"isSubmitted"}),Si=(()=>{class n extends bg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(H(Ja,2))}}static{this.\u0275dir=Ut({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[mr]})}}return n})(),Po=(()=>{class n extends bg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(H(xs,10))}}static{this.\u0275dir=Ut({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&vl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[mr]})}}return n})();var Uh="VALID",Eg="INVALID",Pl="PENDING",jh="DISABLED",No=class{},Tg=class extends No{constructor(e,t){super(),this.value=e,this.source=t}},$h=class extends No{constructor(e,t){super(),this.pristine=e,this.source=t}},qh=class extends No{constructor(e,t){super(),this.touched=e,this.source=t}},Ml=class extends No{constructor(e,t){super(),this.status=e,this.source=t}},f0=class extends No{constructor(e){super(),this.source=e}},p0=class extends No{constructor(e){super(),this.source=e}};function MP(n){return(Ng(n)?n.validators:n)||null}function Gz(n){return Array.isArray(n)?g0(n):n||null}function OP(n,e){return(Ng(e)?e.asyncValidators:n)||null}function Wz(n){return Array.isArray(n)?y0(n):n||null}function Ng(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Kz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ne(1e3,"");if(!r[t])throw new ne(1001,"")}function Qz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ne(1002,"")})}var Cg=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=El(()=>this.statusReactive()),this.statusReactive=_l(void 0),this._pristine=El(()=>this.pristineReactive()),this.pristineReactive=_l(!0),this._touched=El(()=>this.touchedReactive()),this.touchedReactive=_l(!1),this._events=new Ft,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ci(this.statusReactive)}set status(e){Ci(()=>this.statusReactive.set(e))}get valid(){return this.status===Uh}get invalid(){return this.status===Eg}get pending(){return this.status==Pl}get disabled(){return this.status===jh}get enabled(){return this.status!==jh}get pristine(){return Ci(this.pristineReactive)}set pristine(e){Ci(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ci(this.touchedReactive)}set touched(e){Ci(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pP(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pP(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mP(e,this._rawAsyncValidators))}hasValidator(e){return wg(this._rawValidators,e)}hasAsyncValidator(e){return wg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qh(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new qh(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(q({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $h(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new $h(!0,r))}markAsPending(e={}){this.status=Pl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ml(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(q({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=jh,this.errors=null,this._forEachChild(i=>{i.disable(ve(q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tg(this.value,r)),this._events.next(new Ml(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uh,this._forEachChild(r=>{r.enable(ve(q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(q({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uh||this.status===Pl)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Tg(this.value,t)),this._events.next(new Ml(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(q({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jh:Uh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Pl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=CP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ml(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?jh:this.errors?Eg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pl)?Pl:this._anyControlsHaveStatus(Eg)?Eg:Uh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new $h(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new qh(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ng(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Gz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Wz(this._rawAsyncValidators)}},ri=class extends Cg{constructor(e,t,r){super(MP(t),OP(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Qz(this,!0,e),Object.keys(e).forEach(r=>{Kz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Hh=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Pg}),Pg="always";function kP(n,e){return[...e.path,n]}function Dg(n,e,t=Pg){_0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Jz(n,e),Zz(n,e),Xz(n,e),Yz(n,e)}function gP(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Sg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ag(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function _0(n,e){let t=NP(n);e.validator!==null?n.setValidators(fP(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=PP(n);e.asyncValidator!==null?n.setAsyncValidators(fP(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Ag(e._rawValidators,i),Ag(e._rawAsyncValidators,i)}function Sg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=NP(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=PP(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Ag(e._rawValidators,r),Ag(e._rawAsyncValidators,r),t}function Jz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&VP(n,e)})}function Xz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&VP(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function VP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function FP(n,e){n==null,_0(n,e)}function e3(n,e){return Sg(n,e)}function LP(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function t3(n){return Object.getPrototypeOf(n.constructor)===m0}function UP(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jP(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Ai?t=s:t3(s)?r=s:i=s}),i||r||t||null}function n3(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var r3={provide:xs,useExisting:Ii(()=>v0)},Bh=Promise.resolve(),v0=(()=>{class n extends xs{get submitted(){return Ci(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=El(()=>this.submittedReactive()),this.submittedReactive=_l(!1),this._directives=new Set,this.ngSubmit=new ct,this.form=new ri({},g0(t),y0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bh.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Dg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bh.then(()=>{let r=this._findContainer(t.path),i=new ri({});FP(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bh.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Bh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),UP(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(H(Rg,10),H(xg,10),H(Hh,8))}}static{this.\u0275dir=Ut({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&fe("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bo([r3]),mr]})}}return n})();function yP(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function _P(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var at=class extends Cg{constructor(e=null,t,r){super(MP(t),OP(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ng(t)&&(t.nonNullable||t.initialValueIsDefault)&&(_P(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){_P(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var i3=n=>n instanceof at;var s3={provide:Ja,useExisting:Ii(()=>Gh)},vP=Promise.resolve(),Gh=(()=>{class n extends Ja{constructor(t,r,i,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new at,this._registered=!1,this.name="",this.update=new ct,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=jP(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),LP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Dg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){vP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Pm(r);vP.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?kP(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(H(xs,9),H(Rg,10),H(xg,10),H(zh,10),H(Ha,8),H(Hh,8))}}static{this.\u0275dir=Ut({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bo([s3]),mr,vo]})}}return n})(),Mo=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ut({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var BP=new X("");var o3={provide:xs,useExisting:Ii(()=>Xa)},Xa=(()=>{class n extends xs{get submitted(){return Ci(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=El(()=>this._submittedReactive()),this._submittedReactive=_l(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ct,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Dg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){gP(t.control||null,t,!1),n3(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),UP(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new f0(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new p0(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(gP(r||null,t),i3(i)&&(Dg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);FP(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&e3(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_0(this.form,this),this._oldForm&&Sg(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(H(Rg,10),H(xg,10),H(Hh,8))}}static{this.\u0275dir=Ut({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&fe("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bo([o3]),mr,vo]})}}return n})();var a3={provide:Ja,useExisting:Ii(()=>Za)},Za=(()=>{class n extends Ja{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ct,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=jP(this,s)}ngOnChanges(t){this._added||this._setUpControl(),LP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return kP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(H(xs,13),H(Rg,10),H(xg,10),H(zh,10),H(BP,8))}}static{this.\u0275dir=Ut({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[bo([a3]),mr,vo]})}}return n})(),c3={provide:zh,useExisting:Ii(()=>Ol),multi:!0};function $P(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function l3(n){return n.split(":")[0]}var Ol=(()=>{class n extends m0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=$P(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=l3(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=$a(n)))(i||n)}})()}static{this.\u0275dir=Ut({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&fe("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[bo([c3]),mr]})}}return n})(),Mg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue($P(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(H(bi),H(Es),H(Ol,9))}}static{this.\u0275dir=Ut({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),u3={provide:zh,useExisting:Ii(()=>qP),multi:!0};function EP(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function d3(n){return n.split(":")[0]}var qP=(()=>{class n extends m0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],h=this._getOptionValue(l.value);i.push(h)}}else{let a=r.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let h=this._getOptionValue(l.value);i.push(h)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=d3(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=$a(n)))(i||n)}})()}static{this.\u0275dir=Ut({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&fe("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[bo([u3]),mr]})}}return n})(),Og=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(EP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(EP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(H(bi),H(Es),H(qP,9))}}static{this.\u0275dir=Ut({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var zP=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=gs({type:n})}static{this.\u0275inj=ms({})}}return n})();var Er=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Hh,useValue:t.callSetDisabledState??Pg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=gs({type:n})}static{this.\u0275inj=ms({imports:[zP]})}}return n})(),kl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:BP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Hh,useValue:t.callSetDisabledState??Pg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=gs({type:n})}static{this.\u0275inj=ms({imports:[zP]})}}return n})();var lt=class n{subject=new Ft;emit(e,t){this.subject.next({eventName:e,payload:t})}listen(e,t){this.subject.asObservable().subscribe(r=>{e===r.eventName&&t(r.payload)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var kg=class n{constructor(e){this.eventService=e;e.listen("resetSort",t=>{this.sorterChanged(this.listSorter)})}sorters=[0,(e,t)=>e.price>t.price?1:-1,(e,t)=>e.price<t.price?1:-1,(e,t)=>e.name>t.name?1:-1,(e,t)=>e.name<t.name?1:-1,(e,t)=>{let r=new Date(e.release),i=new Date(t.release);return r>i?1:-1},(e,t)=>{let r=new Date(e.release),i=new Date(t.release);return r<i?1:-1}];listSorter=0;sorterChanged(e){this.eventService.emit("sort",this.sorters[e])}static \u0275fac=function(t){return new(t||n)(H(lt))};static \u0275cmp=pe({type:n,selectors:[["sorter"]],standalone:!0,features:[me],decls:16,vars:1,consts:[[1,"col"],[1,"form-select",3,"ngModelChange","ngModel"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"select",1),Ze("ngModelChange",function(s){return tt(r.listSorter,s)||(r.listSorter=s),s}),fe("ngModelChange",function(s){return r.sorterChanged(s)}),S(2,"option",2),N(3,"-"),D(),S(4,"option",3),N(5,"price \u2191"),D(),S(6,"option",4),N(7,"price \u2193"),D(),S(8,"option",5),N(9,"alphabetical \u2191"),D(),S(10,"option",6),N(11,"alphabetical \u2193"),D(),S(12,"option",7),N(13,"release \u2191"),D(),S(14,"option",8),N(15,"release \u2193"),D()()()),t&2&&(k(),Xe("ngModel",r.listSorter))},dependencies:[Er,Mg,Og,Ol,Si,Gh],styles:[".form-select[_ngcontent-%COMP%]{width:100%}"]})};function h3(n,e){if(n&1){let t=dn();S(0,"li")(1,"div",4)(2,"label",5)(3,"input",6),fe("click",function(){let i=ln(t).$implicit,s=re();return un(s.toggleFilter(i,s.filters.gradeFilters))}),D(),N(4),D()()()}if(n&2){let t=e.$implicit;k(2),Fe("ngClass",t.isActive?"text-primary":""),k(),Fe("checked",t.isActive),k(),tr(" ",t.filter," ")}}function f3(n,e){if(n&1){let t=dn();S(0,"li")(1,"div",4)(2,"label",5)(3,"input",6),fe("click",function(){let i=ln(t).$implicit,s=re();return un(s.toggleFilter(i,s.filters.sizeFilters))}),D(),N(4),D()()()}if(n&2){let t=e.$implicit;k(2),Fe("ngClass",t.isActive?"text-primary":""),k(),Fe("checked",t.isActive),k(),tr(" ",t.filter," ")}}function p3(n,e){if(n&1){let t=dn();S(0,"li")(1,"div",4)(2,"label",5)(3,"input",6),fe("click",function(){let i=ln(t).$implicit,s=re();return un(s.toggleFilter(i,s.filters.premiumFilters))}),D(),N(4),D()()()}if(n&2){let t=e.$implicit;k(2),Fe("ngClass",t.isActive?"text-primary":""),k(),Fe("checked",t.isActive),k(),tr(" ",t.filter," ")}}var Vg=class n{constructor(e){this.eventService=e}gradeFilters=[{filter:"Entry Grade",isActive:!1},{filter:"High Grade",isActive:!1},{filter:"Real Grade",isActive:!1},{filter:"Master Grade",isActive:!1},{filter:"Perfect Grade",isActive:!1},{filter:"Super Deformed",isActive:!1},{filter:"Reborn 100",isActive:!1}];sizeFilters=[{filter:"1/144",isActive:!1},{filter:"1/100",isActive:!1},{filter:"1/72",isActive:!1},{filter:"1/60",isActive:!1},{filter:"1/48",isActive:!1},{filter:"Super Deformed",isActive:!1}];premiumFilters=[{filter:"Yes",isActive:!1},{filter:"No",isActive:!1}];filters={gradeFilters:[],sizeFilters:[],premiumFilters:[]};toggleFilter(e,t){if(e.isActive=!e.isActive,e.isActive)t.push(e.filter);else{let r=t.indexOf(e.filter);t.splice(r,1)}this.eventService.emit("filterChanged",this.filters)}static \u0275fac=function(t){return new(t||n)(H(lt))};static \u0275cmp=pe({type:n,selectors:[["filter"]],standalone:!0,features:[me],decls:19,vars:0,consts:[[1,"d-flex-column"],[1,"border","border-dark","rounded","mb-2"],[1,"p-0","m-0"],[1,"border","border-dark","rounded"],[1,"form-check"],[1,"form-check-label",3,"ngClass"],["type","checkbox",1,"checkbox",3,"click","checked"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"h5"),N(2,"Grade Filters:"),D(),S(3,"div",1)(4,"ul",2),Cn(5,h3,5,3,"li",null,Tn),D()(),S(7,"h5"),N(8,"Size Filters:"),D(),S(9,"div",1)(10,"ul",2),Cn(11,f3,5,3,"li",null,Tn),D()(),S(13,"h5"),N(14,"Premium Filters:"),D(),S(15,"div",3)(16,"ul",2),Cn(17,p3,5,3,"li",null,Tn),D()()()),t&2&&(k(5),Dn(r.gradeFilters),k(6),Dn(r.sizeFilters),k(6),Dn(r.premiumFilters))},dependencies:[Cs,Gm],styles:[".container[_ngcontent-%COMP%]{justify-content:end}li[_ngcontent-%COMP%]{list-style:none}"]})};function m3(n,e){if(n&1){let t=dn();S(0,"button",8),fe("click",function(){ln(t);let i=re();return un(i.clearSearch())}),D()}}var Fg=class n{constructor(e){this.eventService=e}searchText="";searchItem(){this.eventService.emit("searchProduct",this.searchText),this.eventService.emit("resetSort",0)}clearSearch(){this.searchText="",this.eventService.emit("searchProduct",this.searchText),this.eventService.emit("resetSort",0)}static \u0275fac=function(t){return new(t||n)(H(lt))};static \u0275cmp=pe({type:n,selectors:[["search-bar"]],standalone:!0,features:[me],decls:9,vars:2,consts:[[1,"form-inline"],[1,"d-flex"],[1,"col-sm-9","col-md-9","col-lg-10"],[1,"input-group"],["type","search","name","searchBar","placeholder","Search","aria-label","Search",1,"form-control","mr-sm-2",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close"],[1,"col-sm-3","col-md-3","col-lg-2","mb-3"],["type","submit",1,"searchButton","btn","btn-outline-dark","my-2","my-sm-0","rounded-right",3,"click"],["type","button","aria-label","Close",1,"btn-close",3,"click"]],template:function(t,r){t&1&&(S(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),Ze("ngModelChange",function(s){return tt(r.searchText,s)||(r.searchText=s),s}),D(),K(5,m3,1,0,"button",5),D()(),S(6,"div",6)(7,"button",7),fe("click",function(s){return s.preventDefault(),r.searchItem()}),N(8," Search "),D()()()()),t&2&&(k(4),Xe("ngModel",r.searchText),k(),G(r.searchText!=""?5:-1))},dependencies:[Er,Mo,Ai,Si,Po,Gh,v0],styles:[".searchButton[_ngcontent-%COMP%]{width:100%}.input-group[_ngcontent-%COMP%]{position:relative}.btn-close[_ngcontent-%COMP%]{position:absolute;right:1%;top:25%}"]})};var GP=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},g3=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],c=n[t++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},WP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,c=a?n[i+1]:0,l=i+2<n.length,h=l?n[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,I=(c&15)<<2|h>>6,T=h&63;l||(T=64,a||(I=64)),r.push(t[f],t[g],t[I],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(GP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):g3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let h=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||h==null||g==null)throw new E0;let I=s<<2|c>>4;if(r.push(I),h!==64){let T=c<<4&240|h>>2;if(r.push(T),g!==64){let x=h<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},E0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},y3=function(n){let e=GP(n);return WP.encodeByteArray(e,!0)},Kh=function(n){return y3(n).replace(/\./g,"")},_3=function(n){try{return WP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function v3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var E3=()=>v3().__FIREBASE_DEFAULTS__,w3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},I3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&_3(n[1]);return e&&JSON.parse(e)},w0=()=>{try{return E3()||w3()||I3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},b3=n=>{var e,t;return(t=(e=w0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KP=n=>{let e=b3(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},I0=()=>{var n;return(n=w0())===null||n===void 0?void 0:n.config};var Lg=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function QP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kh(JSON.stringify(t)),Kh(JSON.stringify(a)),""].join(".")}function YP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T3(){var n;let e=(n=w0())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JP(){return!T3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b0(){try{return typeof indexedDB=="object"}catch{return!1}}function XP(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var C3="FirebaseError",Ns=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=C3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qh.prototype.create)}},Qh=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?D3(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new Ns(i,c,r)}};function D3(n,e){return n.replace(A3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var A3=/\{\$([^}]+)}/g;function Yh(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(HP(s)&&HP(a)){if(!Yh(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function HP(n){return n!==null&&typeof n=="object"}var Mae=4*60*60*1e3;function Ps(n){return n&&n._delegate?n._delegate:n}var Ms=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ec="[DEFAULT]";var T0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Lg;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R3(e))try{this.getOrInitializeService({instanceIdentifier:ec})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ec){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ec){return this.instances.has(e)}getOptions(e=ec){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ec){return this.component?this.component.multipleInstances?e:ec:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function S3(n){return n===ec?void 0:n}function R3(n){return n.instantiationMode==="EAGER"}var Ug=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new T0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var x3=[],Le=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Le||{}),N3={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},P3=Le.INFO,M3={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},O3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=M3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Vl=class{constructor(e){this.name=e,this._logLevel=P3,this._logHandler=O3,this._userLogHandler=null,x3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}};var k3=(n,e)=>e.some(t=>n instanceof t),ZP,e1;function V3(){return ZP||(ZP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F3(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var t1=new WeakMap,D0=new WeakMap,n1=new WeakMap,C0=new WeakMap,S0=new WeakMap;function L3(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Ri(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&t1.set(t,n)}).catch(()=>{}),S0.set(e,n),e}function U3(n){if(D0.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});D0.set(n,e)}var A0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return D0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||n1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ri(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function r1(n){A0=n(A0)}function j3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(jg(this),e,...t);return n1.set(r,e.sort?e.sort():[e]),Ri(r)}:F3().includes(n)?function(...e){return n.apply(jg(this),e),Ri(t1.get(this))}:function(...e){return Ri(n.apply(jg(this),e))}}function B3(n){return typeof n=="function"?j3(n):(n instanceof IDBTransaction&&U3(n),k3(n,V3())?new Proxy(n,A0):n)}function Ri(n){if(n instanceof IDBRequest)return L3(n);if(C0.has(n))return C0.get(n);let e=B3(n);return e!==n&&(C0.set(n,e),S0.set(e,n)),e}var jg=n=>S0.get(n);function Bg(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(n,e),c=Ri(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ri(a.result),l.oldVersion,l.newVersion,Ri(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var $3=["get","getKey","getAll","getAllKeys","count"],q3=["put","add","delete","clear"],R0=new Map;function i1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(R0.get(e))return R0.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=q3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$3.includes(t)))return;let s=function(a,...c){return R(this,null,function*(){let l=this.transaction(a,i?"readwrite":"readonly"),h=l.store;return r&&(h=h.index(c.shift())),(yield Promise.all([h[t](...c),i&&l.done]))[0]})};return R0.set(e,s),s}r1(n=>ve(q({},n),{get:(e,t,r)=>i1(e,t)||n.get(e,t,r),has:(e,t)=>!!i1(e,t)||n.has(e,t)}));var N0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(z3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function z3(n){let e=n.getComponent();return e?.type==="VERSION"}var P0="@firebase/app",s1="0.10.17";var Os=new Vl("@firebase/app"),H3="@firebase/app-compat",G3="@firebase/analytics-compat",W3="@firebase/analytics",K3="@firebase/app-check-compat",Q3="@firebase/app-check",Y3="@firebase/auth",J3="@firebase/auth-compat",X3="@firebase/database",Z3="@firebase/data-connect",eH="@firebase/database-compat",tH="@firebase/functions",nH="@firebase/functions-compat",rH="@firebase/installations",iH="@firebase/installations-compat",sH="@firebase/messaging",oH="@firebase/messaging-compat",aH="@firebase/performance",cH="@firebase/performance-compat",lH="@firebase/remote-config",uH="@firebase/remote-config-compat",dH="@firebase/storage",hH="@firebase/storage-compat",fH="@firebase/firestore",pH="@firebase/vertexai",mH="@firebase/firestore-compat",gH="firebase",yH="11.1.0";var M0="[DEFAULT]",_H={[P0]:"fire-core",[H3]:"fire-core-compat",[W3]:"fire-analytics",[G3]:"fire-analytics-compat",[Q3]:"fire-app-check",[K3]:"fire-app-check-compat",[Y3]:"fire-auth",[J3]:"fire-auth-compat",[X3]:"fire-rtdb",[Z3]:"fire-data-connect",[eH]:"fire-rtdb-compat",[tH]:"fire-fn",[nH]:"fire-fn-compat",[rH]:"fire-iid",[iH]:"fire-iid-compat",[sH]:"fire-fcm",[oH]:"fire-fcm-compat",[aH]:"fire-perf",[cH]:"fire-perf-compat",[lH]:"fire-rc",[uH]:"fire-rc-compat",[dH]:"fire-gcs",[hH]:"fire-gcs-compat",[fH]:"fire-fst",[mH]:"fire-fst-compat",[pH]:"fire-vertex","fire-js":"fire-js",[gH]:"fire-js-all"};var $g=new Map,vH=new Map,O0=new Map;function o1(n,e){try{n.container.addComponent(e)}catch(t){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jh(n){let e=n.name;if(O0.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;O0.set(e,n);for(let t of $g.values())o1(t,n);for(let t of vH.values())o1(t,n);return!0}function u1(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}var EH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oo=new Qh("app","Firebase",EH);var k0=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oo.create("app-deleted",{appName:this._name})}};var d1=yH;function L0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:M0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oo.create("bad-app-name",{appName:String(i)});if(t||(t=I0()),!t)throw Oo.create("no-options");let s=$g.get(i);if(s){if(Yh(t,s.options)&&Yh(r,s.config))return s;throw Oo.create("duplicate-app",{appName:i})}let a=new Ug(i);for(let l of O0.values())a.addComponent(l);let c=new k0(t,r,a);return $g.set(i,c),c}function h1(n=M0){let e=$g.get(n);if(!e&&n===M0&&I0())return L0();if(!e)throw Oo.create("no-app",{appName:n});return e}function ko(n,e,t){var r;let i=(r=_H[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(c.join(" "));return}Jh(new Ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var wH="firebase-heartbeat-database",IH=1,Xh="firebase-heartbeat-store",x0=null;function f1(){return x0||(x0=Bg(wH,IH,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oo.create("idb-open",{originalErrorMessage:n.message})})),x0}function bH(n){return R(this,null,function*(){try{let t=(yield f1()).transaction(Xh),r=yield t.objectStore(Xh).get(p1(n));return yield t.done,r}catch(e){if(e instanceof Ns)Os.warn(e.message);else{let t=Oo.create("idb-get",{originalErrorMessage:e?.message});Os.warn(t.message)}}})}function a1(n,e){return R(this,null,function*(){try{let r=(yield f1()).transaction(Xh,"readwrite");yield r.objectStore(Xh).put(e,p1(n)),yield r.done}catch(t){if(t instanceof Ns)Os.warn(t.message);else{let r=Oo.create("idb-set",{originalErrorMessage:t?.message});Os.warn(r.message)}}})}function p1(n){return`${n.name}!${n.options.appId}`}var TH=1024,CH=30*24*60*60*1e3,V0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new F0(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return R(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=c1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=CH}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Os.warn(r)}})}getHeartbeatsHeader(){return R(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=c1(),{heartbeatsToSend:r,unsentEntries:i}=DH(this._heartbeatsCache.heartbeats),s=Kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Os.warn(t),""}})}};function c1(){return new Date().toISOString().substring(0,10)}function DH(n,e=TH){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),l1(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),l1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var F0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return b0()?XP().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield bH(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return a1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return a1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function l1(n){return Kh(JSON.stringify({version:2,heartbeats:n})).length}function AH(n){Jh(new Ms("platform-logger",e=>new N0(e),"PRIVATE")),Jh(new Ms("heartbeat",e=>new V0(e),"PRIVATE")),ko(P0,s1,n),ko(P0,s1,"esm2017"),ko("fire-js","")}AH("");var m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g1={};var Vo,U0;(function(){var n;function e(E,m){function _(){}_.prototype=m.prototype,E.D=m.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(v,w,C){for(var y=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)y[nt-2]=arguments[nt];return m.prototype[w].apply(v,y)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,_){_||(_=0);var v=Array(16);if(typeof m=="string")for(var w=0;16>w;++w)v[w]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(w=0;16>w;++w)v[w]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=E.g[0],_=E.g[1],w=E.g[2];var C=E.g[3],y=m+(C^_&(w^C))+v[0]+3614090360&4294967295;m=_+(y<<7&4294967295|y>>>25),y=C+(w^m&(_^w))+v[1]+3905402710&4294967295,C=m+(y<<12&4294967295|y>>>20),y=w+(_^C&(m^_))+v[2]+606105819&4294967295,w=C+(y<<17&4294967295|y>>>15),y=_+(m^w&(C^m))+v[3]+3250441966&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(C^_&(w^C))+v[4]+4118548399&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(w^m&(_^w))+v[5]+1200080426&4294967295,C=m+(y<<12&4294967295|y>>>20),y=w+(_^C&(m^_))+v[6]+2821735955&4294967295,w=C+(y<<17&4294967295|y>>>15),y=_+(m^w&(C^m))+v[7]+4249261313&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(C^_&(w^C))+v[8]+1770035416&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(w^m&(_^w))+v[9]+2336552879&4294967295,C=m+(y<<12&4294967295|y>>>20),y=w+(_^C&(m^_))+v[10]+4294925233&4294967295,w=C+(y<<17&4294967295|y>>>15),y=_+(m^w&(C^m))+v[11]+2304563134&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(C^_&(w^C))+v[12]+1804603682&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(w^m&(_^w))+v[13]+4254626195&4294967295,C=m+(y<<12&4294967295|y>>>20),y=w+(_^C&(m^_))+v[14]+2792965006&4294967295,w=C+(y<<17&4294967295|y>>>15),y=_+(m^w&(C^m))+v[15]+1236535329&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(w^C&(_^w))+v[1]+4129170786&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^w&(m^_))+v[6]+3225465664&4294967295,C=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(C^m))+v[11]+643717713&4294967295,w=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(w^C))+v[0]+3921069994&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^C&(_^w))+v[5]+3593408605&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^w&(m^_))+v[10]+38016083&4294967295,C=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(C^m))+v[15]+3634488961&4294967295,w=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(w^C))+v[4]+3889429448&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^C&(_^w))+v[9]+568446438&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^w&(m^_))+v[14]+3275163606&4294967295,C=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(C^m))+v[3]+4107603335&4294967295,w=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(w^C))+v[8]+1163531501&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^C&(_^w))+v[13]+2850285829&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^w&(m^_))+v[2]+4243563512&4294967295,C=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(C^m))+v[7]+1735328473&4294967295,w=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(w^C))+v[12]+2368359562&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(_^w^C)+v[5]+4294588738&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^w)+v[8]+2272392833&4294967295,C=m+(y<<11&4294967295|y>>>21),y=w+(C^m^_)+v[11]+1839030562&4294967295,w=C+(y<<16&4294967295|y>>>16),y=_+(w^C^m)+v[14]+4259657740&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^C)+v[1]+2763975236&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^w)+v[4]+1272893353&4294967295,C=m+(y<<11&4294967295|y>>>21),y=w+(C^m^_)+v[7]+4139469664&4294967295,w=C+(y<<16&4294967295|y>>>16),y=_+(w^C^m)+v[10]+3200236656&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^C)+v[13]+681279174&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^w)+v[0]+3936430074&4294967295,C=m+(y<<11&4294967295|y>>>21),y=w+(C^m^_)+v[3]+3572445317&4294967295,w=C+(y<<16&4294967295|y>>>16),y=_+(w^C^m)+v[6]+76029189&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^C)+v[9]+3654602809&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^w)+v[12]+3873151461&4294967295,C=m+(y<<11&4294967295|y>>>21),y=w+(C^m^_)+v[15]+530742520&4294967295,w=C+(y<<16&4294967295|y>>>16),y=_+(w^C^m)+v[2]+3299628645&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(w^(_|~C))+v[0]+4096336452&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~w))+v[7]+1126891415&4294967295,C=m+(y<<10&4294967295|y>>>22),y=w+(m^(C|~_))+v[14]+2878612391&4294967295,w=C+(y<<15&4294967295|y>>>17),y=_+(C^(w|~m))+v[5]+4237533241&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~C))+v[12]+1700485571&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~w))+v[3]+2399980690&4294967295,C=m+(y<<10&4294967295|y>>>22),y=w+(m^(C|~_))+v[10]+4293915773&4294967295,w=C+(y<<15&4294967295|y>>>17),y=_+(C^(w|~m))+v[1]+2240044497&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~C))+v[8]+1873313359&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~w))+v[15]+4264355552&4294967295,C=m+(y<<10&4294967295|y>>>22),y=w+(m^(C|~_))+v[6]+2734768916&4294967295,w=C+(y<<15&4294967295|y>>>17),y=_+(C^(w|~m))+v[13]+1309151649&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~C))+v[4]+4149444226&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~w))+v[11]+3174756917&4294967295,C=m+(y<<10&4294967295|y>>>22),y=w+(m^(C|~_))+v[2]+718787259&4294967295,w=C+(y<<15&4294967295|y>>>17),y=_+(C^(w|~m))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(w+(y<<21&4294967295|y>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var _=m-this.blockSize,v=this.B,w=this.h,C=0;C<m;){if(w==0)for(;C<=_;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<m;)if(v[w++]=E.charCodeAt(C++),w==this.blockSize){i(this,v),w=0;break}}else for(;C<m;)if(v[w++]=E[C++],w==this.blockSize){i(this,v),w=0;break}}this.h=w,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var _=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=_&255,_/=256;for(this.u(E),E=Array(16),m=_=0;4>m;++m)for(var v=0;32>v;v+=8)E[_++]=this.g[m]>>>v&255;return E};function s(E,m){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=m(E)}function a(E,m){this.h=m;for(var _=[],v=!0,w=E.length-1;0<=w;w--){var C=E[w]|0;v&&C==m||(_[w]=C,v=!1)}this.g=_}var c={};function l(E){return-128<=E&&128>E?s(E,function(m){return new a([m|0],0>m?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return P(h(-E));for(var m=[],_=1,v=0;E>=_;v++)m[v]=E/_|0,_*=4294967296;return new a(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return P(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(m,8)),v=g,w=0;w<E.length;w+=8){var C=Math.min(8,E.length-w),y=parseInt(E.substring(w,w+C),m);8>C?(C=h(Math.pow(m,C)),v=v.j(C).add(h(y))):(v=v.j(_),v=v.add(h(y)))}return v}var g=l(0),I=l(1),T=l(16777216);n=a.prototype,n.m=function(){if(M(this))return-P(this).m();for(var E=0,m=1,_=0;_<this.g.length;_++){var v=this.i(_);E+=(0<=v?v:4294967296+v)*m,m*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(M(this))return"-"+P(this).toString(E);for(var m=h(Math.pow(E,6)),_=this,v="";;){var w=$(_,m).g;_=V(_,w.j(m));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=w,x(_))return C+v;for(;6>C.length;)C="0"+C;v=C+v}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=V(this,E),M(E)?-1:x(E)?0:1};function P(E){for(var m=E.g.length,_=[],v=0;v<m;v++)_[v]=~E.g[v];return new a(_,~E.h).add(I)}n.abs=function(){return M(this)?P(this):this},n.add=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0,w=0;w<=m;w++){var C=v+(this.i(w)&65535)+(E.i(w)&65535),y=(C>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);v=y>>>16,C&=65535,y&=65535,_[w]=y<<16|C}return new a(_,_[_.length-1]&-2147483648?-1:0)};function V(E,m){return E.add(P(m))}n.j=function(E){if(x(this)||x(E))return g;if(M(this))return M(E)?P(this).j(P(E)):P(P(this).j(E));if(M(E))return P(this.j(P(E)));if(0>this.l(T)&&0>E.l(T))return h(this.m()*E.m());for(var m=this.g.length+E.g.length,_=[],v=0;v<2*m;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var w=0;w<E.g.length;w++){var C=this.i(v)>>>16,y=this.i(v)&65535,nt=E.i(w)>>>16,Mt=E.i(w)&65535;_[2*v+2*w]+=y*Mt,L(_,2*v+2*w),_[2*v+2*w+1]+=C*Mt,L(_,2*v+2*w+1),_[2*v+2*w+1]+=y*nt,L(_,2*v+2*w+1),_[2*v+2*w+2]+=C*nt,L(_,2*v+2*w+2)}for(v=0;v<m;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=m;v<2*m;v++)_[v]=0;return new a(_,0)};function L(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function F(E,m){this.g=E,this.h=m}function $(E,m){if(x(m))throw Error("division by zero");if(x(E))return new F(g,g);if(M(E))return m=$(P(E),m),new F(P(m.g),P(m.h));if(M(m))return m=$(E,P(m)),new F(P(m.g),m.h);if(30<E.g.length){if(M(E)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var _=I,v=m;0>=v.l(E);)_=Y(_),v=Y(v);var w=z(_,1),C=z(v,1);for(v=z(v,2),_=z(_,2);!x(v);){var y=C.add(v);0>=y.l(E)&&(w=w.add(_),C=y),v=z(v,1),_=z(_,1)}return m=V(E,w.j(m)),new F(w,m)}for(w=g;0<=E.l(m);){for(_=Math.max(1,Math.floor(E.m()/m.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),C=h(_),y=C.j(m);M(y)||0<y.l(E);)_-=v,C=h(_),y=C.j(m);x(C)&&(C=I),w=w.add(C),E=V(E,y)}return new F(w,E)}n.A=function(E){return $(this,E).h},n.and=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)&E.i(v);return new a(_,this.h&E.h)},n.or=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)|E.i(v);return new a(_,this.h|E.h)},n.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)^E.i(v);return new a(_,this.h^E.h)};function Y(E){for(var m=E.g.length+1,_=[],v=0;v<m;v++)_[v]=E.i(v)<<1|E.i(v-1)>>>31;return new a(_,E.h)}function z(E,m){var _=m>>5;m%=32;for(var v=E.g.length-_,w=[],C=0;C<v;C++)w[C]=0<m?E.i(C+_)>>>m|E.i(C+_+1)<<32-m:E.i(C+_);return new a(w,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,U0=g1.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Vo=g1.Integer=a}).apply(typeof m1<"u"?m1:typeof self<"u"?self:typeof window<"u"?window:{});var qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ks={};var j0,SH,Fl,B0,Zh,zg,$0,q0,z0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,d){return o==Array.prototype||o==Object.prototype||(o[u]=d.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof qg=="object"&&qg];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=t(this);function i(o,u){if(u)e:{var d=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var b=o[p];if(!(b in d))break e;d=d[b]}o=o[o.length-1],p=d[o],u=u(p),u!=p&&u!=null&&e(d,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var d=0,p=!1,b={next:function(){if(!p&&d<o.length){var A=d++;return{value:u(A,o[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,d){return d})}});var a=a||{},c=this||self;function l(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function h(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function f(o,u,d){return o.call.apply(o.bind,arguments)}function g(o,u,d){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),o.apply(u,b)}}return function(){return o.apply(u,arguments)}}function I(o,u,d){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,I.apply(null,arguments)}function T(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function x(o,u){function d(){}d.prototype=u.prototype,o.aa=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(p,b,A){for(var O=Array(arguments.length-2),te=2;te<arguments.length;te++)O[te-2]=arguments[te];return u.prototype[b].apply(p,O)}}function M(o){let u=o.length;if(0<u){let d=Array(u);for(let p=0;p<u;p++)d[p]=o[p];return d}return[]}function P(o,u){for(let d=1;d<arguments.length;d++){let p=arguments[d];if(l(p)){let b=o.length||0,A=p.length||0;o.length=b+A;for(let O=0;O<A;O++)o[b+O]=p[O]}else o.push(p)}}class V{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function L(o){return/^[\s\xa0]*$/.test(o)}function F(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function $(o){return $[" "](o),o}$[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function z(o,u,d){for(let p in o)u.call(d,o[p],p,o)}function E(o,u){for(let d in o)u.call(void 0,o[d],d,o)}function m(o){let u={};for(let d in o)u[d]=o[d];return u}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(o,u){let d,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(d in p)o[d]=p[d];for(let A=0;A<_.length;A++)d=_[A],Object.prototype.hasOwnProperty.call(p,d)&&(o[d]=p[d])}}function w(o){var u=1;o=o.split(":");let d=[];for(;0<u&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function C(o){c.setTimeout(()=>{throw o},0)}function y(){var o=mn;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class nt{constructor(){this.h=this.g=null}add(u,d){let p=Mt.get();p.set(u,d),this.h?this.h.next=p:this.g=p,this.h=p}}var Mt=new V(()=>new Wt,o=>o.reset());class Wt{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,sn=!1,mn=new nt,di=()=>{let o=c.Promise.resolve(void 0);ht=()=>{o.then(ca)}};var ca=()=>{for(var o;o=y();){try{o.h.call(o.g)}catch(d){C(d)}var u=Mt;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}sn=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var hi=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let d=()=>{};c.addEventListener("test",d,u),c.removeEventListener("test",d,u)}catch{}return o}();function Tt(o,u){if(Ce.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(Y){e:{try{$(u.nodeName);var b=!0;break e}catch{}b=!1}b||(u=null)}}else d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:$i[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Tt.aa.h.call(this)}}x(Tt,Ce);var $i={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),Nr=0;function la(o,u,d,p,b){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!p,this.ha=b,this.key=++Nr,this.da=this.fa=!1}function Pr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function qn(o){this.src=o,this.g={},this.h=0}qn.prototype.add=function(o,u,d,p,b){var A=o.toString();o=this.g[A],o||(o=this.g[A]=[],this.h++);var O=fi(o,u,p,b);return-1<O?(u=o[O],d||(u.fa=!1)):(u=new la(u,this.src,A,!!p,b),u.fa=d,o.push(u)),u};function qi(o,u){var d=u.type;if(d in o.g){var p=o.g[d],b=Array.prototype.indexOf.call(p,u,void 0),A;(A=0<=b)&&Array.prototype.splice.call(p,b,1),A&&(Pr(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function fi(o,u,d,p){for(var b=0;b<o.length;++b){var A=o[b];if(!A.da&&A.listener==u&&A.capture==!!d&&A.ha==p)return b}return-1}var zi="closure_lm_"+(1e6*Math.random()|0),Hi={};function ro(o,u,d,p,b){if(p&&p.once)return ua(o,u,d,p,b);if(Array.isArray(u)){for(var A=0;A<u.length;A++)ro(o,u[A],d,p,b);return null}return d=mi(d),o&&o[on]?o.K(u,d,h(p)?!!p.capture:!!p,b):io(o,u,d,!1,p,b)}function io(o,u,d,p,b,A){if(!u)throw Error("Invalid event type");var O=h(b)?!!b.capture:!!b,te=Mr(o);if(te||(o[zi]=te=new qn(o)),d=te.add(u,d,p,O,A),d.proxy)return d;if(p=$u(),d.proxy=p,p.src=o,p.listener=d,o.addEventListener)hi||(b=O),b===void 0&&(b=!1),o.addEventListener(u.toString(),p,b);else if(o.attachEvent)o.attachEvent(so(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function $u(){function o(d){return u.call(o.src,o.listener,d)}let u=Lc;return o}function ua(o,u,d,p,b){if(Array.isArray(u)){for(var A=0;A<u.length;A++)ua(o,u[A],d,p,b);return null}return d=mi(d),o&&o[on]?o.L(u,d,h(p)?!!p.capture:!!p,b):io(o,u,d,!0,p,b)}function zn(o,u,d,p,b){if(Array.isArray(u))for(var A=0;A<u.length;A++)zn(o,u[A],d,p,b);else p=h(p)?!!p.capture:!!p,d=mi(d),o&&o[on]?(o=o.i,u=String(u).toString(),u in o.g&&(A=o.g[u],d=fi(A,d,p,b),-1<d&&(Pr(A[d]),Array.prototype.splice.call(A,d,1),A.length==0&&(delete o.g[u],o.h--)))):o&&(o=Mr(o))&&(u=o.g[u.toString()],o=-1,u&&(o=fi(u,d,p,b)),(d=-1<o?u[o]:null)&&ur(d))}function ur(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[on])qi(u.i,o);else{var d=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(d,p,o.capture):u.detachEvent?u.detachEvent(so(d),p):u.addListener&&u.removeListener&&u.removeListener(p),(d=Mr(u))?(qi(d,o),d.h==0&&(d.src=null,u[zi]=null)):Pr(o)}}}function so(o){return o in Hi?Hi[o]:Hi[o]="on"+o}function Lc(o,u){if(o.da)o=!0;else{u=new Tt(u,this);var d=o.listener,p=o.ha||o.src;o.fa&&ur(o),o=d.call(p,u)}return o}function Mr(o){return o=o[zi],o instanceof qn?o:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function mi(o){return typeof o=="function"?o:(o[pi]||(o[pi]=function(u){return o.handleEvent(u)}),o[pi])}function Re(){ft.call(this),this.i=new qn(this),this.M=this,this.F=null}x(Re,ft),Re.prototype[on]=!0,Re.prototype.removeEventListener=function(o,u,d,p){zn(this,o,u,d,p)};function ke(o,u){var d,p=o.F;if(p)for(d=[];p;p=p.F)d.push(p);if(o=o.M,p=u.type||u,typeof u=="string")u=new Ce(u,o);else if(u instanceof Ce)u.target=u.target||o;else{var b=u;u=new Ce(p,o),v(u,b)}if(b=!0,d)for(var A=d.length-1;0<=A;A--){var O=u.g=d[A];b=Gi(O,p,!0,u)&&b}if(O=u.g=o,b=Gi(O,p,!0,u)&&b,b=Gi(O,p,!1,u)&&b,d)for(A=0;A<d.length;A++)O=u.g=d[A],b=Gi(O,p,!1,u)&&b}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var d=o.g[u],p=0;p<d.length;p++)Pr(d[p]);delete o.g[u],o.h--}}this.F=null},Re.prototype.K=function(o,u,d,p){return this.i.add(String(o),u,!1,d,p)},Re.prototype.L=function(o,u,d,p){return this.i.add(String(o),u,!0,d,p)};function Gi(o,u,d,p){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var b=!0,A=0;A<u.length;++A){var O=u[A];if(O&&!O.da&&O.capture==d){var te=O.listener,Pe=O.ha||O.src;O.fa&&qi(o.i,O),b=te.call(Pe,p)!==!1&&b}}return b&&!p.defaultPrevented}function qu(o,u,d){if(typeof o=="function")d&&(o=I(o,d));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function zu(o){o.g=qu(()=>{o.g=null,o.i&&(o.i=!1,zu(o))},o.l);let u=o.h;o.h=null,o.m.apply(null,u)}class mv extends ft{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(o){ft.call(this),this.h=o,this.g={}}x(Or,ft);var Hu=[];function Gu(o){z(o.g,function(u,d){this.g.hasOwnProperty(d)&&ur(u)},o),o.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Gu(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var da=c.JSON.stringify,gv=c.JSON.parse,yv=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function ha(){}ha.prototype.h=null;function Wu(o){return o.h||(o.h=o.i())}function Ku(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fa(){Ce.call(this,"d")}x(fa,Ce);function pa(){Ce.call(this,"c")}x(pa,Ce);var gn={},Qu=null;function Wi(){return Qu=Qu||new Re}gn.La="serverreachability";function Yu(o){Ce.call(this,gn.La,o)}x(Yu,Ce);function Vr(o){let u=Wi();ke(u,new Yu(u))}gn.STAT_EVENT="statevent";function Ju(o,u){Ce.call(this,gn.STAT_EVENT,o),this.stat=u}x(Ju,Ce);function He(o){let u=Wi();ke(u,new Ju(u,o))}gn.Ma="timingevent";function Xu(o,u){Ce.call(this,gn.Ma,o),this.size=u}x(Xu,Ce);function Fr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},u)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function _v(o,u,d,p,b,A){o.info(function(){if(o.g)if(A)for(var O="",te=A.split("&"),Pe=0;Pe<te.length;Pe++){var J=te[Pe].split("=");if(1<J.length){var Be=J[0];J=J[1];var $e=Be.split("_");O=2<=$e.length&&$e[1]=="type"?O+(Be+"="+J+"&"):O+(Be+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+u+`
`+d+`
`+O})}function vv(o,u,d,p,b,A,O){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+u+`
`+d+`
`+A+" "+O})}function Hn(o,u,d,p){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+wv(o,d)+(p?" "+p:"")})}function Ev(o,u){o.info(function(){return"TIMEOUT: "+u})}Lr.prototype.info=function(){};function wv(o,u){if(!o.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var p=d[o];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return da(d)}catch{return u}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ma;function Qi(){}x(Qi,ha),Qi.prototype.g=function(){return new XMLHttpRequest},Qi.prototype.i=function(){return{}},ma=new Qi;function Kt(o,u,d,p){this.j=o,this.i=u,this.l=d,this.R=p||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ed}function ed(){this.i=null,this.g="",this.h=!1}var td={},ga={};function ya(o,u,d){o.L=1,o.v=Zi(Ot(u)),o.m=d,o.P=!0,nd(o,null)}function nd(o,u){o.F=Date.now(),Yi(o),o.A=Ot(o.v);var d=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),gd(d.i,"t",p),o.C=0,d=o.j.J,o.h=new ed,o.g=Od(o.j,d?u:null,!o.m),0<o.O&&(o.M=new mv(I(o.Y,o,o.g),o.O)),u=o.U,d=o.g,p=o.ca;var b="readystatechange";Array.isArray(b)||(b&&(Hu[0]=b.toString()),b=Hu);for(var A=0;A<b.length;A++){var O=ro(d,b[A],p||u.handleEvent,!1,u.h||u);if(!O)break;u.g[O.key]=O}u=o.H?m(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Vr(),_v(o.i,o.u,o.A,o.l,o.R,o.m)}Kt.prototype.ca=function(o){o=o.target;let u=this.M;u&&kt(o)==3?u.j():this.Y(o)},Kt.prototype.Y=function(o){try{if(o==this.g)e:{let $e=kt(this.g);var u=this.g.Ba();let Kn=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||bd(this.g)))){this.J||$e!=4||u==7||(u==8||0>=Kn?Vr(3):Vr(2)),_a(this);var d=this.g.Z();this.X=d;t:if(rd(this)){var p=bd(this.g);o="";var b=p.length,A=kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Ur(this);var O="";break t}this.h.i=new c.TextDecoder}for(u=0;u<b;u++)this.h.h=!0,o+=this.h.i.decode(p[u],{stream:!(A&&u==b-1)});p.length=0,this.h.g+=o,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=d==200,vv(this.i,this.u,this.A,this.l,this.R,$e,d),this.o){if(this.T&&!this.K){t:{if(this.g){var te,Pe=this.g;if((te=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(te)){var J=te;break t}}J=null}if(d=J)Hn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,d);else{this.o=!1,this.s=3,He(12),yn(this),Ur(this);break e}}if(this.P){d=!0;let pt;for(;!this.J&&this.C<O.length;)if(pt=Iv(this,O),pt==ga){$e==4&&(this.s=4,He(14),d=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==td){this.s=4,He(15),Hn(this.i,this.l,O,"[Invalid Chunk]"),d=!1;break}else Hn(this.i,this.l,pt,null),va(this,pt);if(rd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||O.length!=0||this.h.h||(this.s=1,He(16),d=!1),this.o=this.o&&d,!d)Hn(this.i,this.l,O,"[Invalid Chunked Response]"),yn(this),Ur(this);else if(0<O.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ca(Be),Be.M=!0,He(11))}}else Hn(this.i,this.l,O,null),va(this,O);$e==4&&yn(this),this.o&&!this.J&&($e==4?xd(this.j,this):(this.o=!1,Yi(this)))}else Uv(this.g),d==400&&0<O.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),yn(this),Ur(this)}}}catch{}finally{}};function rd(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Iv(o,u){var d=o.C,p=u.indexOf(`
`,d);return p==-1?ga:(d=Number(u.substring(d,p)),isNaN(d)?td:(p+=1,p+d>u.length?ga:(u=u.slice(p,p+d),o.C=p+d,u)))}Kt.prototype.cancel=function(){this.J=!0,yn(this)};function Yi(o){o.S=Date.now()+o.I,id(o,o.I)}function id(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Fr(I(o.ba,o),u)}function _a(o){o.B&&(c.clearTimeout(o.B),o.B=null)}Kt.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(Ev(this.i,this.A),this.L!=2&&(Vr(),He(17)),yn(this),this.s=2,Ur(this)):id(this,this.S-o)};function Ur(o){o.j.G==0||o.J||xd(o.j,o)}function yn(o){_a(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Gu(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function va(o,u){try{var d=o.j;if(d.G!=0&&(d.g==o||Ea(d.h,o))){if(!o.K&&Ea(d.h,o)&&d.G==3){try{var p=d.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)is(d),ns(d);else break e;Ta(d),He(18)}}else d.za=b[1],0<d.za-d.T&&37500>b[2]&&d.F&&d.v==0&&!d.C&&(d.C=Fr(I(d.Za,d),6e3));if(1>=ad(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else vn(d,11)}else if((o.K||d.g==o)&&is(d),!L(u))for(b=d.Da.g.parse(u),u=0;u<b.length;u++){let J=b[u];if(d.T=J[0],J=J[1],d.G==2)if(J[0]=="c"){d.K=J[1],d.ia=J[2];let Be=J[3];Be!=null&&(d.la=Be,d.j.info("VER="+d.la));let $e=J[4];$e!=null&&(d.Aa=$e,d.j.info("SVER="+d.Aa));let Kn=J[5];Kn!=null&&typeof Kn=="number"&&0<Kn&&(p=1.5*Kn,d.L=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;let pt=o.g;if(pt){let os=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var A=p.h;A.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(wa(A,A.h),A.h=null))}if(p.D){let Da=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(p.ya=Da,se(p.I,p.D,Da))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),p=d;var O=o;if(p.qa=Md(p,p.J?p.ia:null,p.W),O.K){cd(p.h,O);var te=O,Pe=p.L;Pe&&(te.I=Pe),te.B&&(_a(te),Yi(te)),p.g=O}else Sd(p);0<d.i.length&&rs(d)}else J[0]!="stop"&&J[0]!="close"||vn(d,7);else d.G==3&&(J[0]=="stop"||J[0]=="close"?J[0]=="stop"?vn(d,7):ba(d):J[0]!="noop"&&d.l&&d.l.ta(J),d.v=0)}}Vr(4)}catch{}}var bv=class{constructor(o,u){this.g=o,this.map=u}};function sd(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function od(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ad(o){return o.h?1:o.g?o.g.size:0}function Ea(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function wa(o,u){o.g?o.g.add(u):o.h=u}function cd(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}sd.prototype.cancel=function(){if(this.i=ld(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function ld(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(let d of o.g.values())u=u.concat(d.D);return u}return M(o.i)}function Tv(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(l(o)){for(var u=[],d=o.length,p=0;p<d;p++)u.push(o[p]);return u}u=[],d=0;for(p in o)u[d++]=o[p];return u}function Cv(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(l(o)||typeof o=="string"){var u=[];o=o.length;for(var d=0;d<o;d++)u.push(d);return u}u=[],d=0;for(let p in o)u[d++]=p;return u}}}function ud(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(l(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var d=Cv(o),p=Tv(o),b=p.length,A=0;A<b;A++)u.call(void 0,p[A],d&&d[A],o)}var dd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dv(o,u){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var p=o[d].indexOf("="),b=null;if(0<=p){var A=o[d].substring(0,p);b=o[d].substring(p+1)}else A=o[d];u(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function _n(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof _n){this.h=o.h,Ji(this,o.j),this.o=o.o,this.g=o.g,Xi(this,o.s),this.l=o.l;var u=o.i,d=new $r;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),hd(this,d),this.m=o.m}else o&&(u=String(o).match(dd))?(this.h=!1,Ji(this,u[1]||"",!0),this.o=jr(u[2]||""),this.g=jr(u[3]||"",!0),Xi(this,u[4]),this.l=jr(u[5]||"",!0),hd(this,u[6]||"",!0),this.m=jr(u[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}_n.prototype.toString=function(){var o=[],u=this.j;u&&o.push(Br(u,fd,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Br(u,fd,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Br(d,d.charAt(0)=="/"?Rv:Sv,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Br(d,Nv)),o.join("")};function Ot(o){return new _n(o)}function Ji(o,u,d){o.j=d?jr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Xi(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function hd(o,u,d){u instanceof $r?(o.i=u,Pv(o.i,o.h)):(d||(u=Br(u,xv)),o.i=new $r(u,o.h))}function se(o,u,d){o.i.set(u,d)}function Zi(o){return se(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function jr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Br(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,Av),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Av(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var fd=/[#\/\?@]/g,Sv=/[#\?:]/g,Rv=/[#\?]/g,xv=/[#\?@]/g,Nv=/#/g;function $r(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function Qt(o){o.g||(o.g=new Map,o.h=0,o.i&&Dv(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}n=$r.prototype,n.add=function(o,u){Qt(this),this.i=null,o=Gn(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function pd(o,u){Qt(o),u=Gn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function md(o,u){return Qt(o),u=Gn(o,u),o.g.has(u)}n.forEach=function(o,u){Qt(this),this.g.forEach(function(d,p){d.forEach(function(b){o.call(u,b,p,this)},this)},this)},n.na=function(){Qt(this);let o=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let p=0;p<u.length;p++){let b=o[p];for(let A=0;A<b.length;A++)d.push(u[p])}return d},n.V=function(o){Qt(this);let u=[];if(typeof o=="string")md(this,o)&&(u=u.concat(this.g.get(Gn(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)u=u.concat(o[d])}return u},n.set=function(o,u){return Qt(this),this.i=null,o=Gn(this,o),md(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},n.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function gd(o,u,d){pd(o,u),0<d.length&&(o.i=null,o.g.set(Gn(o,u),M(d)),o.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var p=u[d];let A=encodeURIComponent(String(p)),O=this.V(p);for(p=0;p<O.length;p++){var b=A;O[p]!==""&&(b+="="+encodeURIComponent(String(O[p]))),o.push(b)}}return this.i=o.join("&")};function Gn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Pv(o,u){u&&!o.j&&(Qt(o),o.i=null,o.g.forEach(function(d,p){var b=p.toLowerCase();p!=b&&(pd(this,p),gd(this,b,d))},o)),o.j=u}function Mv(o,u){let d=new Lr;if(c.Image){let p=new Image;p.onload=T(Yt,d,"TestLoadImage: loaded",!0,u,p),p.onerror=T(Yt,d,"TestLoadImage: error",!1,u,p),p.onabort=T(Yt,d,"TestLoadImage: abort",!1,u,p),p.ontimeout=T(Yt,d,"TestLoadImage: timeout",!1,u,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else u(!1)}function Ov(o,u){let d=new Lr,p=new AbortController,b=setTimeout(()=>{p.abort(),Yt(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:p.signal}).then(A=>{clearTimeout(b),A.ok?Yt(d,"TestPingServer: ok",!0,u):Yt(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(b),Yt(d,"TestPingServer: error",!1,u)})}function Yt(o,u,d,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(d)}catch{}}function kv(){this.g=new yv}function Vv(o,u,d){let p=d||"";try{ud(o,function(b,A){let O=b;h(b)&&(O=da(b)),u.push(p+A+"="+encodeURIComponent(O))})}catch(b){throw u.push(p+"type="+encodeURIComponent("_badmap")),b}}function qr(o){this.l=o.Ub||null,this.j=o.eb||!1}x(qr,ha),qr.prototype.g=function(){return new es(this.l,this.j)},qr.prototype.i=function(o){return function(){return o}}({});function es(o,u){Re.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(es,Re),n=es.prototype,n.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Hr(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yd(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function yd(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?zr(this):Hr(this),this.readyState==3&&yd(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,zr(this))},n.Qa=function(o){this.g&&(this.response=o,zr(this))},n.ga=function(){this.g&&zr(this)};function zr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hr(o)}n.setRequestHeader=function(o,u){this.u.append(o,u)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function Hr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function _d(o){let u="";return z(o,function(d,p){u+=p,u+=":",u+=d,u+=`\r
`}),u}function Ia(o,u,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=_d(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):se(o,u,d))}function ue(o){Re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ue,Re);var Fv=/^https?$/i,Lv=["POST","PUT"];n=ue.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,u,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ma.g(),this.v=this.o?Wu(this.o):Wu(ma),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(A){vd(this,A);return}if(o=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)d.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())d.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Lv,u,void 0))||p||b||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of d)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Id(this),this.u=!0,this.g.send(o),this.u=!1}catch(A){vd(this,A)}};function vd(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,Ed(o),ts(o)}function Ed(o){o.A||(o.A=!0,ke(o,"complete"),ke(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ke(this,"complete"),ke(this,"abort"),ts(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ue.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wd(this):this.bb())},n.bb=function(){wd(this)};function wd(o){if(o.h&&typeof a<"u"&&(!o.v[1]||kt(o)!=4||o.Z()!=2)){if(o.u&&kt(o)==4)qu(o.Ea,0,o);else if(ke(o,"readystatechange"),kt(o)==4){o.h=!1;try{let O=o.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var p;if(p=O===0){var b=String(o.D).match(dd)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!Fv.test(b?b.toLowerCase():"")}d=p}if(d)ke(o,"complete"),ke(o,"success");else{o.m=6;try{var A=2<kt(o)?o.g.statusText:""}catch{A=""}o.l=A+" ["+o.Z()+"]",Ed(o)}}finally{ts(o)}}}}function ts(o,u){if(o.g){Id(o);let d=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||ke(o,"ready");try{d.onreadystatechange=p}catch{}}}function Id(o){o.I&&(c.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function kt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<kt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),gv(u)}};function bd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uv(o){let u={};o=(o.g&&2<=kt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(L(o[p]))continue;var d=w(o[p]);let b=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let A=u[b]||[];u[b]=A,A.push(d)}E(u,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function Td(o){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new sd(o&&o.concurrentRequestLimit),this.Da=new kv,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Td.prototype,n.la=8,n.G=1,n.connect=function(o,u,d,p){He(0),this.W=o,this.H=u||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.I=Md(this,null,this.W),rs(this)};function ba(o){if(Cd(o),o.G==3){var u=o.U++,d=Ot(o.I);if(se(d,"SID",o.K),se(d,"RID",u),se(d,"TYPE","terminate"),Wr(o,d),u=new Kt(o,o.j,u),u.L=2,u.v=Zi(Ot(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=u.v,d=!0),d||(u.g=Od(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Yi(u)}Pd(o)}function ns(o){o.g&&(Ca(o),o.g.cancel(),o.g=null)}function Cd(o){ns(o),o.u&&(c.clearTimeout(o.u),o.u=null),is(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function rs(o){if(!od(o.h)&&!o.s){o.s=!0;var u=o.Ga;ht||di(),sn||(ht(),sn=!0),mn.add(u,o),o.B=0}}function jv(o,u){return ad(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Fr(I(o.Ga,o,u),Nd(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let b=new Kt(this,this.j,o),A=this.o;if(this.S&&(A?(A=m(A),v(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=Ad(this,b,u),d=Ot(this.I),se(d,"RID",o),se(d,"CVER",22),this.D&&se(d,"X-HTTP-Session-Id",this.D),Wr(this,d),A&&(this.O?u="headers="+encodeURIComponent(String(_d(A)))+"&"+u:this.m&&Ia(d,this.m,A)),wa(this.h,b),this.Ua&&se(d,"TYPE","init"),this.P?(se(d,"$req",u),se(d,"SID","null"),b.T=!0,ya(b,d,null)):ya(b,d,u),this.G=2}}else this.G==3&&(o?Dd(this,o):this.i.length==0||od(this.h)||Dd(this))};function Dd(o,u){var d;u?d=u.l:d=o.U++;let p=Ot(o.I);se(p,"SID",o.K),se(p,"RID",d),se(p,"AID",o.T),Wr(o,p),o.m&&o.o&&Ia(p,o.m,o.o),d=new Kt(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),u&&(o.i=u.D.concat(o.i)),u=Ad(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),wa(o.h,d),ya(d,p,u)}function Wr(o,u){o.H&&z(o.H,function(d,p){se(u,p,d)}),o.l&&ud({},function(d,p){se(u,p,d)})}function Ad(o,u,d){d=Math.min(o.i.length,d);var p=o.l?I(o.l.Na,o.l,o):null;e:{var b=o.i;let A=-1;for(;;){let O=["count="+d];A==-1?0<d?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let te=!0;for(let Pe=0;Pe<d;Pe++){let J=b[Pe].g,Be=b[Pe].map;if(J-=A,0>J)A=Math.max(0,b[Pe].g-100),te=!1;else try{Vv(Be,O,"req"+J+"_")}catch{p&&p(Be)}}if(te){p=O.join("&");break e}}}return o=o.i.splice(0,d),u.D=o,p}function Sd(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;ht||di(),sn||(ht(),sn=!0),mn.add(u,o),o.v=0}}function Ta(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Fr(I(o.Fa,o),Nd(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,Rd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Fr(I(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),ns(this),Rd(this))};function Ca(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function Rd(o){o.g=new Kt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=Ot(o.qa);se(u,"RID","rpc"),se(u,"SID",o.K),se(u,"AID",o.T),se(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&se(u,"TO",o.ja),se(u,"TYPE","xmlhttp"),Wr(o,u),o.m&&o.o&&Ia(u,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Zi(Ot(u)),d.m=null,d.P=!0,nd(d,o)}n.Za=function(){this.C!=null&&(this.C=null,ns(this),Ta(this),He(19))};function is(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function xd(o,u){var d=null;if(o.g==u){is(o),Ca(o),o.g=null;var p=2}else if(Ea(o.h,u))d=u.D,cd(o.h,u),p=1;else return;if(o.G!=0){if(u.o)if(p==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var b=o.B;p=Wi(),ke(p,new Xu(p,d)),rs(o)}else Sd(o);else if(b=u.s,b==3||b==0&&0<u.X||!(p==1&&jv(o,u)||p==2&&Ta(o)))switch(d&&0<d.length&&(u=o.h,u.i=u.i.concat(d)),b){case 1:vn(o,5);break;case 4:vn(o,10);break;case 3:vn(o,6);break;default:vn(o,2)}}}function Nd(o,u){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*u}function vn(o,u){if(o.j.info("Error code "+u),u==2){var d=I(o.fb,o),p=o.Xa;let b=!p;p=new _n(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ji(p,"https"),Zi(p),b?Mv(p.toString(),d):Ov(p.toString(),d)}else He(2);o.G=0,o.l&&o.l.sa(u),Pd(o),Cd(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function Pd(o){if(o.G=0,o.ka=[],o.l){let u=ld(o.h);(u.length!=0||o.i.length!=0)&&(P(o.ka,u),P(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function Md(o,u,d){var p=d instanceof _n?Ot(d):new _n(d);if(p.g!="")u&&(p.g=u+"."+p.g),Xi(p,p.s);else{var b=c.location;p=b.protocol,u=u?u+"."+b.hostname:b.hostname,b=+b.port;var A=new _n(null);p&&Ji(A,p),u&&(A.g=u),b&&Xi(A,b),d&&(A.l=d),p=A}return d=o.D,u=o.ya,d&&u&&se(p,d,u),se(p,"VER",o.la),Wr(o,p),p}function Od(o,u,d){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new ue(new qr({eb:d})):new ue(o.pa),u.Ha(o.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kd(){}n=kd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ss(){}ss.prototype.g=function(o,u){return new rt(o,u)};function rt(o,u){Re.call(this),this.g=new Td(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!L(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!L(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Wn(this)}x(rt,Re),rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rt.prototype.close=function(){ba(this.g)},rt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=da(o),o=d);u.i.push(new bv(u.Ya++,o)),u.G==3&&rs(u)},rt.prototype.N=function(){this.g.l=null,delete this.j,ba(this.g),delete this.g,rt.aa.N.call(this)};function Vd(o){fa.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(let d in u){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}x(Vd,fa);function Fd(){pa.call(this),this.status=1}x(Fd,pa);function Wn(o){this.g=o}x(Wn,kd),Wn.prototype.ua=function(){ke(this.g,"a")},Wn.prototype.ta=function(o){ke(this.g,new Vd(o))},Wn.prototype.sa=function(o){ke(this.g,new Fd)},Wn.prototype.ra=function(){ke(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,rt.prototype.send=rt.prototype.o,rt.prototype.open=rt.prototype.m,rt.prototype.close=rt.prototype.close,z0=ks.createWebChannelTransport=function(){return new ss},q0=ks.getStatEventTarget=function(){return Wi()},$0=ks.Event=gn,zg=ks.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,Zh=ks.ErrorCode=Ki,Zu.COMPLETE="complete",B0=ks.EventType=Zu,Ku.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Fl=ks.WebChannel=Ku,SH=ks.FetchXmlHttpFactory=qr,ue.prototype.listenOnce=ue.prototype.L,ue.prototype.getLastError=ue.prototype.Ka,ue.prototype.getLastErrorCode=ue.prototype.Ba,ue.prototype.getStatus=ue.prototype.Z,ue.prototype.getResponseJson=ue.prototype.Oa,ue.prototype.getResponseText=ue.prototype.oa,ue.prototype.send=ue.prototype.ea,ue.prototype.setWithCredentials=ue.prototype.Ha,j0=ks.XhrIo=ue}).apply(typeof qg<"u"?qg:typeof self<"u"?self:typeof window<"u"?window:{});var y1="@firebase/firestore";var qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");var su="11.0.2";var ic=new Vl("@firebase/firestore");function Ll(){return ic.logLevel}function Q(n,...e){if(ic.logLevel<=Le.DEBUG){let t=e.map(AT);ic.debug(`Firestore (${su}): ${n}`,...t)}}function Fs(n,...e){if(ic.logLevel<=Le.ERROR){let t=e.map(AT);ic.error(`Firestore (${su}): ${n}`,...t)}}function Hl(n,...e){if(ic.logLevel<=Le.WARN){let t=e.map(AT);ic.warn(`Firestore (${su}): ${n}`,...t)}}function AT(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ae(n="Unexpected state"){let e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+n;throw Fs(e),new Error(e)}function Je(n,e){n||ae()}function ge(n,e){return n}var U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=class extends Ns{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var si=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Jg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Q0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}},Y0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},J0=class{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new si;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new si,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let l=s;e.enqueueRetryable(()=>R(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new si)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new Jg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new qt(e)}},X0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},Z0=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new X0(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eb=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},tb=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Je(this.o===void 0);let r=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new eb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function RH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Xg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=RH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Oe(n,e){return n<e?-1:n>e?1:0}function Gl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Xt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var _e=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Xt(0,0))}static max(){return new n(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zg=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ae(),r===void 0?r=e.length-t:r>e.length-t&&ae(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},vt=class n extends Zg{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ee(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},xH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ar=class n extends Zg{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return xH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new ee(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new ee(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new ee(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var oe=class n{constructor(e){this.path=e}static fromPath(e){return new n(vt.fromString(e))}static fromName(e){return new n(vt.fromString(e).popFirst(5))}static empty(){return new n(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new vt(e.slice()))}};var nb=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};nb.UNKNOWN_ID=-1;function NH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Xt(t+1,0):new Xt(t,r));return new sc(i,oe.empty(),e)}function PH(n){return new sc(n.readTime,n.key,-1)}var sc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(_e.min(),oe.empty(),-1)}static max(){return new n(_e.max(),oe.empty(),-1)}};function MH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=oe.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}var OH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ou(n){return R(this,null,function*(){if(n.code!==U.FAILED_PRECONDITION||n.message!==OH)throw n;Q("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&t()},l=>r(l))}),a=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,a=new Array(s),c=0;for(let l=0;l<s;l++){let h=l;t(e[h]).next(f=>{a[h]=f,++c,c===s&&r(a)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function kH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function au(n){return n.name==="IndexedDbTransactionError"}var ST=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function My(n){return n==null}function of(n){return n===0&&1/n==-1/0}function VH(n){return typeof n=="number"&&Number.isInteger(n)&&!of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function FH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_1(e)),e=LH(n.get(t),e);return _1(e)}function LH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function _1(n){return n+""}var UH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],hce=[...UH,"documentOverlays"],jH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BH=jH,$H=[...BH,"indexConfiguration","indexState","indexEntries"];var fce=[...$H,"globals"];function v1(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Q1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Et=class n{constructor(e,t){this.comparator=e,this.root=t||xi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}},$l=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},xi=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();let e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}};xi.EMPTY=null,xi.RED=!0,xi.BLACK=!1;xi.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,t,r,i,s){return this}insert(e,t,r){return new xi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var zt=class n{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ey(this.data.getIterator())}getIteratorFrom(e){return new ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ey=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ir=class n{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new n([])}unionWith(e){let t=new zt(ar.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ty=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ty("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pn.EMPTY_BYTE_STRING=new pn("");var qH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(n){if(Je(!!n),typeof n=="string"){let e=0,t=qH.exec(n);if(Je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Us(n){return typeof n=="string"?pn.fromBase64String(n):pn.fromUint8Array(n)}function RT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Oy(n){let e=n.mapValue.fields.__previous_value__;return RT(e)?Oy(e):e}function af(n){let e=Ls(n.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}var ib=class{constructor(e,t,r,i,s,a,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h}},ny=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Hg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RT(n)?4:J1(n)?9007199254740991:Y1(n)?10:11:ae()}function Mi(n,e){if(n===e)return!0;let t=Lo(n);if(t!==Lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return af(n).isEqual(af(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let a=Ls(i.timestampValue),c=Ls(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Us(i.bytesValue).isEqual(Us(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ut(i.geoPointValue.latitude)===ut(s.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ut(i.integerValue)===ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let a=ut(i.doubleValue),c=ut(s.doubleValue);return a===c?of(a)===of(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Gl(n.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(i,s){let a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(v1(a)!==v1(c))return!1;for(let l in a)if(a.hasOwnProperty(l)&&(c[l]===void 0||!Mi(a[l],c[l])))return!1;return!0}(n,e);default:return ae()}}function cf(n,e){return(n.values||[]).find(t=>Mi(t,e))!==void 0}function Wl(n,e){if(n===e)return 0;let t=Lo(n),r=Lo(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(s,a){let c=ut(s.integerValue||s.doubleValue),l=ut(a.integerValue||a.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return E1(n.timestampValue,e.timestampValue);case 4:return E1(af(n),af(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(s,a){let c=Us(s),l=Us(a);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){let c=s.split("/"),l=a.split("/");for(let h=0;h<c.length&&h<l.length;h++){let f=Oe(c[h],l[h]);if(f!==0)return f}return Oe(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){let c=Oe(ut(s.latitude),ut(a.latitude));return c!==0?c:Oe(ut(s.longitude),ut(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return w1(n.arrayValue,e.arrayValue);case 10:return function(s,a){var c,l,h,f;let g=s.fields||{},I=a.fields||{},T=(c=g.value)===null||c===void 0?void 0:c.arrayValue,x=(l=I.value)===null||l===void 0?void 0:l.arrayValue,M=Oe(((h=T?.values)===null||h===void 0?void 0:h.length)||0,((f=x?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:w1(T,x)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Hg.mapValue&&a===Hg.mapValue)return 0;if(s===Hg.mapValue)return 1;if(a===Hg.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),h=a.fields||{},f=Object.keys(h);l.sort(),f.sort();for(let g=0;g<l.length&&g<f.length;++g){let I=Oe(l[g],f[g]);if(I!==0)return I;let T=Wl(c[l[g]],h[f[g]]);if(T!==0)return T}return Oe(l.length,f.length)}(n.mapValue,e.mapValue);default:throw ae()}}function E1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);let t=Ls(n),r=Ls(e),i=Oe(t.seconds,r.seconds);return i!==0?i:Oe(t.nanos,r.nanos)}function w1(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Wl(t[i],r[i]);if(s)return s}return Oe(t.length,r.length)}function Kl(n){return sb(n)}function sb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Ls(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Us(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=sb(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let a of r)s?s=!1:i+=",",i+=`${a}:${sb(t.fields[a])}`;return i+"}"}(n.mapValue):ae()}function Kg(n){switch(Lo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Oy(n);return e?16+Kg(e):16;case 5:return 2*n.stringValue.length;case 6:return Us(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Kg(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Bo(r.fields,(s,a)=>{i+=s.length+Kg(a)}),i}(n.mapValue);default:throw ae()}}function ob(n){return!!n&&"integerValue"in n}function xT(n){return!!n&&"arrayValue"in n}function I1(n){return!!n&&"nullValue"in n}function b1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qg(n){return!!n&&"mapValue"in n}function Y1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function tf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Bo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=tf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function J1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var or=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(t)}setAll(e){let t=ar.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=c.popLast()}a?r[c.lastSegment()]=tf(a):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Qg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bo(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(tf(this.value))}};function X1(n){let e=[];return Bo(n.fields,(t,r)=>{let i=new ar([t]);if(Qg(r)){let s=X1(r.mapValue).fields;if(s.length===0)e.push(i);else for(let a of s)e.push(i.child(a))}else e.push(i)}),new Ir(e)}var oi=class n{constructor(e,t,r,i,s,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new n(e,0,_e.min(),_e.min(),_e.min(),or.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,_e.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,_e.min(),_e.min(),or.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,_e.min(),_e.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ql=class{constructor(e,t){this.position=e,this.inclusive=t}};function T1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],a=n.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(a.referenceValue),t.key):r=Wl(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function C1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mi(n.position[t],e.position[t]))return!1;return!0}var Yl=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function zH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ry=class{},jt=class n extends ry{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cb(e,t,r):t==="array-contains"?new db(e,r):t==="in"?new hb(e,r):t==="not-in"?new fb(e,r):t==="array-contains-any"?new pb(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lb(e,r):new ub(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wl(t,this.value)):t!==null&&Lo(this.value)===Lo(t)&&this.matchesComparison(Wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Oi=class n extends ry{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Z1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Z1(n){return n.op==="and"}function eM(n){return HH(n)&&Z1(n)}function HH(n){for(let e of n.filters)if(e instanceof Oi)return!1;return!0}function ab(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+Kl(n.value);if(eM(n))return n.filters.map(e=>ab(e)).join(",");{let e=n.filters.map(t=>ab(t)).join(",");return`${n.op}(${e})`}}function tM(n,e){return n instanceof jt?function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&Mi(r.value,i.value)}(n,e):n instanceof Oi?function(r,i){return i instanceof Oi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&tM(a,i.filters[c]),!0):!1}(n,e):void ae()}function nM(n){return n instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Kl(t.value)}`}(n):n instanceof Oi?function(t){return t.op.toString()+" {"+t.getFilters().map(nM).join(" ,")+"}"}(n):"Filter"}var cb=class extends jt{constructor(e,t,r){super(e,t,r),this.key=oe.fromName(r.referenceValue)}matches(e){let t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}},lb=class extends jt{constructor(e,t){super(e,"in",t),this.keys=rM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ub=class extends jt{constructor(e,t){super(e,"not-in",t),this.keys=rM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function rM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>oe.fromName(r.referenceValue))}var db=class extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return xT(t)&&cf(t.arrayValue,this.value)}},hb=class extends jt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&cf(this.value.arrayValue,t)}},fb=class extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!cf(this.value.arrayValue,t)}},pb=class extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!xT(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cf(this.value.arrayValue,r))}};var mb=class{constructor(e,t=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}};function D1(n,e=null,t=[],r=[],i=null,s=null,a=null){return new mb(n,e,t,r,i,s,a)}function NT(n){let e=ge(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ab(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),My(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kl(r)).join(",")),e.ue=t}return e.ue}function PT(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!C1(n.startAt,e.startAt)&&C1(n.endAt,e.endAt)}function gb(n){return oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Jl=class{constructor(e,t=null,r=[],i=[],s=null,a="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function GH(n,e,t,r,i,s,a,c){return new Jl(n,e,t,r,i,s,a,c)}function MT(n){return new Jl(n)}function A1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WH(n){return n.collectionGroup!==null}function nf(n){let e=ge(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new zt(ar.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yl(s,r))}),t.has(ar.keyField().canonicalString())||e.ce.push(new Yl(ar.keyField(),r))}return e.ce}function Ni(n){let e=ge(n);return e.le||(e.le=KH(e,nf(n))),e.le}function KH(n,e){if(n.limitType==="F")return D1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Yl(i.field,s)});let t=n.endAt?new Ql(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ql(n.startAt.position,n.startAt.inclusive):null;return D1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function yb(n,e,t){return new Jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ky(n,e){return PT(Ni(n),Ni(e))&&n.limitType===e.limitType}function iM(n){return`${NT(Ni(n))}|lt:${n.limitType}`}function Ul(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nM(i)).join(", ")}]`),My(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Kl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Kl(i)).join(",")),`Target(${r})`}(Ni(n))}; limitType=${n.limitType})`}function Vy(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of nf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,c,l){let h=T1(a,c,l);return a.inclusive?h<=0:h<0}(r.startAt,nf(r),i)||r.endAt&&!function(a,c,l){let h=T1(a,c,l);return a.inclusive?h>=0:h>0}(r.endAt,nf(r),i))}(n,e)}function QH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sM(n){return(e,t)=>{let r=!1;for(let i of nf(n)){let s=YH(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function YH(n,e,t){let r=n.field.isKeyField()?oe.comparator(e.key,t.key):function(s,a,c){let l=a.data.field(s),h=c.data.field(s);return l!==null&&h!==null?Wl(l,h):ae()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}var js=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bo(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Q1(this.inner)}size(){return this.innerSize}};var JH=new Et(oe.comparator);function Bs(){return JH}var oM=new Et(oe.comparator);function ef(...n){let e=oM;for(let t of n)e=e.insert(t.key,t);return e}function aM(n){let e=oM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function tc(){return rf()}function cM(){return rf()}function rf(){return new js(n=>n.toString(),(n,e)=>n.isEqual(e))}var XH=new Et(oe.comparator),ZH=new zt(oe.comparator);function Ne(...n){let e=ZH;for(let t of n)e=e.add(t);return e}var e9=new zt(Oe);function t9(){return e9}function OT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:of(e)?"-0":e}}function lM(n){return{integerValue:""+n}}function n9(n,e){return VH(e)?lM(e):OT(n,e)}var Xl=class{constructor(){this._=void 0}};function r9(n,e,t){return n instanceof Zl?function(i,s){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&RT(s)&&(s=Oy(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof oc?dM(n,e):n instanceof ac?hM(n,e):function(i,s){let a=uM(i,s),c=S1(a)+S1(i.Pe);return ob(a)&&ob(i.Pe)?lM(c):OT(i.serializer,c)}(n,e)}function i9(n,e,t){return n instanceof oc?dM(n,e):n instanceof ac?hM(n,e):t}function uM(n,e){return n instanceof eu?function(r){return ob(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Zl=class extends Xl{},oc=class extends Xl{constructor(e){super(),this.elements=e}};function dM(n,e){let t=fM(e);for(let r of n.elements)t.some(i=>Mi(i,r))||t.push(r);return{arrayValue:{values:t}}}var ac=class extends Xl{constructor(e){super(),this.elements=e}};function hM(n,e){let t=fM(e);for(let r of n.elements)t=t.filter(i=>!Mi(i,r));return{arrayValue:{values:t}}}var eu=class extends Xl{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function S1(n){return ut(n.integerValue||n.doubleValue)}function fM(n){return xT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function s9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof oc&&i instanceof oc||r instanceof ac&&i instanceof ac?Gl(r.elements,i.elements,Mi):r instanceof eu&&i instanceof eu?Mi(r.Pe,i.Pe):r instanceof Zl&&i instanceof Zl}(n.transform,e.transform)}var _b=class{constructor(e,t){this.version=e,this.transformResults=t}},Vs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var tu=class{};function pM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new iy(n.key,Vs.none()):new cc(n.key,n.data,Vs.none());{let t=n.data,r=or.empty(),i=new zt(ar.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ki(n.key,r,new Ir(i.toArray()),Vs.none())}}function o9(n,e,t){n instanceof cc?function(i,s,a){let c=i.value.clone(),l=x1(i.fieldTransforms,s,a.transformResults);c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ki?function(i,s,a){if(!Yg(i.precondition,s))return void s.convertToUnknownDocument(a.version);let c=x1(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(mM(i)),l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function sf(n,e,t,r){return n instanceof cc?function(s,a,c,l){if(!Yg(s.precondition,a))return c;let h=s.value.clone(),f=N1(s.fieldTransforms,l,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof ki?function(s,a,c,l){if(!Yg(s.precondition,a))return c;let h=N1(s.fieldTransforms,l,a),f=a.data;return f.setAll(mM(s)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,a,c){return Yg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(n,e,t)}function a9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=uM(r.transform,i||null);s!=null&&(t===null&&(t=or.empty()),t.set(r.field,s))}return t||null}function R1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gl(r,i,(s,a)=>s9(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var cc=class extends tu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ki=class extends tu{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function mM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function x1(n,e,t){let r=new Map;Je(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,i9(a,c,t[i]))}return r}function N1(n,e,t){let r=new Map;for(let i of n){let s=i.transform,a=t.data.field(i.field);r.set(i.field,r9(s,a,e))}return r}var iy=class extends tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vb=class extends tu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Eb=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&o9(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=sf(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=sf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=cM();return this.mutations.forEach(i=>{let s=e.get(i.key),a=s.overlayedDocument,c=this.applyToLocalView(a,s.mutatedFields);c=t.has(i.key)?null:c;let l=pM(a,c);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Gl(this.mutations,e.mutations,(t,r)=>R1(t,r))&&Gl(this.baseMutations,e.baseMutations,(t,r)=>R1(t,r))}},wb=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Je(e.mutations.length===r.length);let i=function(){return XH}(),s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new n(e,t,r,i)}};var Ib=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var bb=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var xt,Ue;function c9(n){switch(n){default:return ae();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function gM(n){if(n===void 0)return Fs("GRPC error has no .code"),U.UNKNOWN;switch(n){case xt.OK:return U.OK;case xt.CANCELLED:return U.CANCELLED;case xt.UNKNOWN:return U.UNKNOWN;case xt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case xt.INTERNAL:return U.INTERNAL;case xt.UNAVAILABLE:return U.UNAVAILABLE;case xt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case xt.NOT_FOUND:return U.NOT_FOUND;case xt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case xt.ABORTED:return U.ABORTED;case xt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case xt.DATA_LOSS:return U.DATA_LOSS;default:return ae()}}(Ue=xt||(xt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";var P1=null;function l9(){return new TextEncoder}var u9=new Vo([4294967295,4294967295],0);function M1(n){let e=l9().encode(n),t=new U0;return t.update(e),new Uint8Array(t.digest())}function O1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vo([t,r],0),new Vo([i,s],0)]}var Tb=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Vo.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(Vo.fromNumber(r)));return i.compare(u9)===1&&(i=new Vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let t=M1(e),[r,i]=O1(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new n(s,i,t);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;let t=M1(e),[r,i]=O1(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},nc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sy=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,lf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(_e.min(),i,new Et(Oe),Bs(),Ne())}},lf=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ne(),Ne(),Ne())}};var ql=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},oy=class{constructor(e,t){this.targetId=e,this.me=t}},ay=class{constructor(e,t,r=pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},cy=class{constructor(){this.fe=0,this.ge=k1(),this.pe=pn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),t=Ne(),r=Ne();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new lf(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=k1()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Cb=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bs(),this.qe=Gg(),this.Qe=Gg(),this.Ke=new Et(Oe)}$e(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{let r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){let t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){let s=i.target;if(gb(s))if(r===0){let a=new oe(s.path);this.We(t,a,oi.newNoDocument(a,_e.min()))}else Je(r===1);else{let a=this.Ze(t);if(a!==r){let c=this.Xe(e),l=c?this.et(c,e,a):1;if(l!==0){this.He(t);let h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}P1?.tt(function(f,g,I,T,x){var M,P,V,L,F,$;let Y={localCacheCount:f,existenceFilterCount:g.count,databaseId:I.database,projectId:I.projectId},z=g.unchangedNames;return z&&(Y.bloomFilter={applied:x===0,hashCount:(M=z?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(L=(V=(P=z?.bits)===null||P===void 0?void 0:P.bitmap)===null||V===void 0?void 0:V.length)!==null&&L!==void 0?L:0,padding:($=(F=z?.bits)===null||F===void 0?void 0:F.padding)!==null&&$!==void 0?$:0,mightContain:E=>{var m;return(m=T?.mightContain(E))!==null&&m!==void 0&&m}}),Y}(a,e.me,this.Le.nt(),c,l))}}}}Xe(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,a,c;try{a=Us(r).toUint8Array()}catch(l){if(l instanceof ty)return Hl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Tb(a,i,s)}catch(l){return Hl(l instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Te===0?null:c}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let a=this.Le.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(t,s,null),i++)}),i}it(e){let t=new Map;this.Be.forEach((s,a)=>{let c=this.Ye(a);if(c){if(s.current&&gb(c.target)){let l=new oe(c.target.path);this.st(l).has(a)||this.ot(a,l)||this.We(a,l,oi.newNoDocument(l,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let r=Ne();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(l=>{let h=this.Ye(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));let i=new sy(e,t,this.Ke,this.ke,r);return this.ke=Bs(),this.qe=Gg(),this.Qe=Gg(),this.Ke=new Et(Oe),i}Ue(e,t){if(!this.je(e))return;let r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;let i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new cy,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new zt(Oe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new zt(Oe),this.qe=this.qe.insert(e,t)),t}je(e){let t=this.Ye(e)!==null;return t||Q("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new cy),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Gg(){return new Et(oe.comparator)}function k1(){return new Et(oe.comparator)}var d9={asc:"ASCENDING",desc:"DESCENDING"},h9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f9={and:"AND",or:"OR"},Db=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Ab(n,e){return n.useProto3Json||My(e)?e:{value:e}}function ly(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p9(n,e){return ly(n,e.toTimestamp())}function Pi(n){return Je(!!n),_e.fromTimestamp(function(t){let r=Ls(t);return new Xt(r.seconds,r.nanos)}(n))}function kT(n,e){return Sb(n,e).canonicalString()}function Sb(n,e){let t=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _M(n){let e=vt.fromString(n);return Je(bM(e)),e}function Rb(n,e){return kT(n.databaseId,e.path)}function H0(n,e){let t=_M(e);if(t.get(1)!==n.databaseId.projectId)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new oe(EM(t))}function vM(n,e){return kT(n.databaseId,e)}function m9(n){let e=_M(n);return e.length===4?vt.emptyPath():EM(e)}function xb(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EM(n){return Je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function V1(n,e,t){return{name:Rb(n,e),fields:t.value.mapValue.fields}}function g9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(Je(f===void 0||typeof f=="string"),pn.fromBase64String(f||"")):(Je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),pn.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(h){let f=h.code===void 0?U.UNKNOWN:gM(h.code);return new ee(f,h.message||"")}(a);t=new ay(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=H0(n,r.document.name),s=Pi(r.document.updateTime),a=r.document.createTime?Pi(r.document.createTime):_e.min(),c=new or({mapValue:{fields:r.document.fields}}),l=oi.newFoundDocument(i,s,a,c),h=r.targetIds||[],f=r.removedTargetIds||[];t=new ql(h,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=H0(n,r.document),s=r.readTime?Pi(r.readTime):_e.min(),a=oi.newNoDocument(i,s),c=r.removedTargetIds||[];t=new ql([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=H0(n,r.document),s=r.removedTargetIds||[];t=new ql([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,a=new bb(i,s),c=r.targetId;t=new oy(c,a)}}return t}function y9(n,e){let t;if(e instanceof cc)t={update:V1(n,e.key,e.value)};else if(e instanceof iy)t={delete:Rb(n,e.key)};else if(e instanceof ki)t={update:V1(n,e.key,e.data),updateMask:D9(e.fieldMask)};else{if(!(e instanceof vb))return ae();t={verify:Rb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){let c=a.transform;if(c instanceof Zl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof oc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ac)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof eu)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw ae()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:p9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(n,e.precondition)),t}function _9(n,e){return n&&n.length>0?(Je(e!==void 0),n.map(t=>function(i,s){let a=i.updateTime?Pi(i.updateTime):Pi(s);return a.isEqual(_e.min())&&(a=Pi(s)),new _b(a,i.transformResults||[])}(t,e))):[]}function v9(n,e){return{documents:[vM(n,e.path)]}}function E9(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vM(n,i);let s=function(h){if(h.length!==0)return IM(Oi.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(h){if(h.length!==0)return h.map(f=>function(I){return{field:jl(I.field),direction:b9(I.dir)}}(f))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let c=Ab(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:t,parent:i}}function w9(n){let e=m9(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Je(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(g){let I=wM(g);return I instanceof Oi&&eM(I)?I.getFilters():[I]}(t.where));let a=[];t.orderBy&&(a=function(g){return g.map(I=>function(x){return new Yl(Bl(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(I))}(t.orderBy));let c=null;t.limit&&(c=function(g){let I;return I=typeof g=="object"?g.value:g,My(I)?null:I}(t.limit));let l=null;t.startAt&&(l=function(g){let I=!!g.before,T=g.values||[];return new Ql(T,I)}(t.startAt));let h=null;return t.endAt&&(h=function(g){let I=!g.before,T=g.values||[];return new Ql(T,I)}(t.endAt)),GH(e,i,a,s,c,"F",l,h)}function I9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Bl(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bl(t.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Bl(t.unaryFilter.field);return jt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Bl(t.unaryFilter.field);return jt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(n):n.fieldFilter!==void 0?function(t){return jt.create(Bl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Oi.create(t.compositeFilter.filters.map(r=>wM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(t.compositeFilter.op))}(n):ae()}function b9(n){return d9[n]}function T9(n){return h9[n]}function C9(n){return f9[n]}function jl(n){return{fieldPath:n.canonicalString()}}function Bl(n){return ar.fromServerFormat(n.fieldPath)}function IM(n){return n instanceof jt?function(t){if(t.op==="=="){if(b1(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NAN"}};if(I1(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(b1(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NAN"}};if(I1(t.value))return{unaryFilter:{field:jl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(t.field),op:T9(t.op),value:t.value}}}(n):n instanceof Oi?function(t){let r=t.getFilters().map(i=>IM(i));return r.length===1?r[0]:{compositeFilter:{op:C9(t.op),filters:r}}}(n):ae()}function D9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var uf=class n{constructor(e,t,r,i,s=_e.min(),a=_e.min(),c=pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Nb=class{constructor(e){this.ht=e}};function A9(n){let e=w9({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yb(e,e.limit,"L"):e}var uy=class{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(ut(e.integerValue));else if("doubleValue"in e){let r=ut(e.doubleValue);isNaN(r)?this.Rt(t,13):(this.Rt(t,15),of(r)?t.Vt(0):t.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(t,20),typeof r=="string"&&(r=Ls(r)),t.ft(`${r.seconds||""}`),t.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Us(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Rt(t,45),t.Vt(r.latitude||0),t.Vt(r.longitude||0)}else"mapValue"in e?J1(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):Y1(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):ae()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){let r=e.fields||{};this.Rt(t,55);for(let i of Object.keys(r))this.gt(i,t),this.dt(r[i],t)}bt(e,t){var r,i;let s=e.fields||{};this.Rt(t,53);let a="value",c=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(t,15),t.Vt(ut(c)),this.gt(a,t),this.dt(s[a],t)}vt(e,t){let r=e.values||[];this.Rt(t,50);for(let i of r)this.dt(i,t)}St(e,t){this.Rt(t,37),oe.fromName(e).path.forEach(r=>{this.Rt(t,60),this.Ct(r,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}};uy.Ft=new uy;var Pb=class{constructor(){this.ln=new Mb}addToCollectionParentIndex(e,t){return this.ln.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(sc.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(sc.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},Mb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new zt(vt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new zt(vt.comparator)).toArray()}};var mce=new Uint8Array(0);var F1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(41943040,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);var df=class n{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new n(0)}static Qn(){return new n(-1)}};function L1([n,e],[t,r]){let i=Oe(n,t);return i===0?Oe(e,r):i}var Ob=class{constructor(e){this.Gn=e,this.buffer=new zt(L1),this.zn=0}jn(){return++this.zn}Hn(e){let t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();L1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},kb=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Q("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>R(this,null,function*(){this.Jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){au(t)?Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield ou(t)}yield this.Yn(3e5)}))}},Vb=class{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(ST.oe);let r=new Ob(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(F1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F1):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,s,a,c,l,h,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Ll()<=Le.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${s} targets in `+(l-c)+`ms
	Removed ${g} documents in `+(h-l)+`ms
Total Duration: ${h-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}};function S9(n,e){return new Vb(n,e)}var Fb=class{constructor(){this.changes=new js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,oi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Lb=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Ub=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&sf(r.mutation,i,Ir.empty(),Xt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){let i=tc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=ef();return s.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let r=tc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,r,i){let s=Bs(),a=rf(),c=function(){return rf()}();return t.forEach((l,h)=>{let f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof ki)?s=s.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),sf(f.mutation,h,f.mutation.getFieldMask(),Xt.now())):a.set(h.key,Ir.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,f)=>a.set(h,f)),t.forEach((h,f)=>{var g;return c.set(h,new Lb(f,(g=a.get(h))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=rf(),i=new Et((a,c)=>a-c),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let c of a)c.keys().forEach(l=>{let h=t.get(l);if(h===null)return;let f=r.get(l)||Ir.empty();f=c.applyToLocalView(h,f),r.set(l,f);let g=(i.get(c.batchId)||Ne()).add(l);i=i.insert(c.batchId,g)})}).next(()=>{let a=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),h=l.key,f=l.value,g=cM();f.forEach(I=>{if(!s.has(I)){let T=pM(t.get(I),r.get(I));T!==null&&g.set(I,T),s=s.add(I)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return B.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WH(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):B.resolve(tc()),c=-1,l=s;return a.next(h=>B.forEach(h,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(I=>{l=l.insert(f,I)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,Ne())).next(f=>({batchId:c,changes:aM(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next(r=>{let i=ef();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,a=ef();return this.indexManager.getCollectionParents(e,s).next(c=>B.forEach(c,l=>{let h=function(g,I){return new Jl(I,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((g,I)=>{a=a.insert(g,I)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((l,h)=>{let f=h.getKey();a.get(f)===null&&(a=a.insert(f,oi.newInvalidDocument(f)))});let c=ef();return a.forEach((l,h)=>{let f=s.get(l);f!==void 0&&sf(f.mutation,h,Ir.empty(),Xt.now()),Vy(t,h)&&(c=c.insert(l,h))}),c})}};var jb=class{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return B.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Pi(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:A9(i.bundledQuery),readTime:Pi(i.readTime)}}(t)),B.resolve()}};var Bb=class{constructor(){this.overlays=new Et(oe.comparator),this.Er=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=tc();return B.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Tt(e,t,s)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=tc(),s=t.length+1,a=new oe(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let l=c.getNext().value,h=l.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Et((h,f)=>h-f),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let f=s.get(h.largestBatchId);f===null&&(f=tc(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let c=tc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=i)););return B.resolve(c)}Tt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Ib(t,r));let s=this.Er.get(t);s===void 0&&(s=Ne(),this.Er.set(t,s)),this.Er.set(t,s.add(r.key))}};var $b=class{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var hf=class{constructor(){this.dr=new zt(Nt.Ar),this.Rr=new zt(Nt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){let r=new Nt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Nt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){let t=new oe(new vt([])),r=new Nt(t,e),i=new Nt(t,e+1),s=[];return this.Rr.forEachInRange([r,i],a=>{this.gr(a),s.push(a.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){let t=new oe(new vt([])),r=new Nt(t,e),i=new Nt(t,e+1),s=Ne();return this.Rr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new Nt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Nt=class{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return oe.comparator(e.key,t.key)||Oe(e.br,t.br)}static Vr(e,t){return Oe(e.br,t.br)||oe.comparator(e.key,t.key)}};var qb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new zt(Nt.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Eb(s,t,r,i);this.mutationQueue.push(a);for(let c of i)this.vr=this.vr.add(new Nt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,t){return B.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Fr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Nt(t,0),i=new Nt(t,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],a=>{let c=this.Cr(a.br);s.push(c)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zt(Oe);return t.forEach(i=>{let s=new Nt(i,0),a=new Nt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,a],c=>{r=r.add(c.br)})}),B.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;oe.isDocumentKey(s)||(s=s.child(""));let a=new Nt(new oe(s),0),c=new zt(Oe);return this.vr.forEachWhile(l=>{let h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.br)),!0)},a),B.resolve(this.Mr(c))}Mr(e){let t=[];return e.forEach(r=>{let i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Je(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return B.forEach(t.mutations,i=>{let s=new Nt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){let r=new Nt(t,0),i=this.vr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){let t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var zb=class{constructor(e){this.Nr=e,this.docs=function(){return new Et(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():oi.newInvalidDocument(t))}getEntries(e,t){let r=Bs();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():oi.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Bs(),a=t.path,c=new oe(a.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:h,value:{document:f}}=l.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||MH(PH(f),r)<=0||(i.has(f.key)||Vy(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ae()}Lr(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Hb(this)}getSize(e){return B.resolve(this.size)}},Hb=class extends Fb{constructor(e){super(),this.hr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}};var Gb=class{constructor(e){this.persistence=e,this.Br=new js(t=>NT(t),PT),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new hf,this.targetCount=0,this.Qr=df.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),B.resolve()}Un(e){this.Br.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Qr=new df(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Un(t),B.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Br.forEach((a,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Br.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.Br.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.qr.Sr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.qr.containsKey(t))}};var dy=class{constructor(e,t){this.Kr={},this.overlays={},this.$r=new ST(0),this.Ur=!1,this.Ur=!0,this.Wr=new $b,this.referenceDelegate=e(this),this.Gr=new Gb(this),this.indexManager=new Pb,this.remoteDocumentCache=function(i){return new zb(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new Nb(t),this.jr=new jb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new qb(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){Q("MemoryPersistence","Starting transaction:",e);let i=new Wb(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,t){return B.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}},Wb=class extends rb{constructor(e){super(),this.currentSequenceNumber=e}},Kb=class n{constructor(e){this.persistence=e,this.Zr=new hf,this.Xr=null}static ei(e){return new n(e)}get ti(){if(this.Xr)return this.Xr;throw ae()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),B.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,r=>{let i=oe.fromPath(r);return this.ni(e,i).next(s=>{s||t.removeEntry(i,_e.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return B.or([()=>B.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}},hy=class n{constructor(e,t){this.persistence=e,this.ri=new js(r=>FH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=S9(this,t)}static ei(e,t){return new n(e,t)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){let t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return B.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,a=>this.ir(e,a,t).next(c=>{c||(r++,s.removeEntry(a,_e.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),B.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kg(e.data.value)),t}ir(e,t,r){return B.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.ri.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Qb=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Ne(),i=Ne();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Yb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Jb=class{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return JP()?8:kH(YP())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Xi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.es(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new Yb;return this.ts(e,t,a).next(c=>{if(s.result=c,this.Hi)return this.ns(e,t,a,c.size)})}).next(()=>s.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Ll()<=Le.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Ul(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(Ll()<=Le.DEBUG&&Q("QueryEngine","Query:",Ul(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Ll()<=Le.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Ul(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):B.resolve())}Xi(e,t){if(A1(t))return B.resolve(null);let r=Ni(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=yb(t,null,"F"),r=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let a=Ne(...s);return this.Zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let h=this.rs(t,c);return this.ss(t,h,a,l.readTime)?this.Xi(e,yb(t,null,"F")):this.os(e,h,t,l)}))})))}es(e,t,r,i){return A1(t)||i.isEqual(_e.min())?B.resolve(null):this.Zi.getDocuments(e,r).next(s=>{let a=this.rs(t,s);return this.ss(t,a,r,i)?B.resolve(null):(Ll()<=Le.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ul(t)),this.os(e,a,t,NH(i,-1)).next(c=>c))})}rs(e,t){let r=new zt(sM(e));return t.forEach((i,s)=>{Vy(e,s)&&(r=r.add(s))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,t,r){return Ll()<=Le.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Ul(t)),this.Zi.getDocumentsMatchingQuery(e,t,sc.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var Xb=class{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new Et(Oe),this.cs=new js(s=>NT(s),PT),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ub(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}};function R9(n,e,t,r){return new Xb(n,e,t,r)}function TM(n,e){return R(this,null,function*(){let t=ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let a=[],c=[],l=Ne();for(let h of i){a.push(h.batchId);for(let f of h.mutations)l=l.add(f.key)}for(let h of s){c.push(h.batchId);for(let f of h.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(r,l).next(h=>({Ts:h,removedBatchIds:a,addedBatchIds:c}))})})})}function x9(n,e){let t=ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,l,h,f){let g=h.batch,I=g.keys(),T=B.resolve();return I.forEach(x=>{T=T.next(()=>f.getEntry(l,x)).next(M=>{let P=h.docVersions.get(x);Je(P!==null),M.version.compareTo(P)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),f.addEntry(M)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(l,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=Ne();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function CM(n){let e=ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function N9(n,e){let t=ge(n),r=e.snapshotVersion,i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;let c=[];e.targetChanges.forEach((f,g)=>{let I=i.get(g);if(!I)return;c.push(t.Gr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>t.Gr.addMatchingKeys(s,f.addedDocuments,g)));let T=I.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(pn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),i=i.insert(g,T),function(M,P,V){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(I,T,f)&&c.push(t.Gr.updateTargetData(s,T))});let l=Bs(),h=Ne();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(P9(s,a,e.documentUpdates).next(f=>{l=f.Is,h=f.Es})),!r.isEqual(_e.min())){let f=t.Gr.getLastRemoteSnapshotVersion(s).next(g=>t.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return B.waitFor(c).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(t.us=i,s))}function P9(n,e,t){let r=Ne(),i=Ne();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=Bs();return t.forEach((c,l)=>{let h=s.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(c,l.readTime),a=a.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),a=a.insert(c,l)):Q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{Is:a,Es:i}})}function M9(n,e){let t=ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O9(n,e){let t=ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):t.Gr.allocateTargetId(r).next(a=>(i=new uf(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}function Zb(n,e,t){return R(this,null,function*(){let r=ge(n),i=r.us.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!au(a))throw a;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.us=r.us.remove(e),r.cs.delete(i.target)})}function U1(n,e,t){let r=ge(n),i=_e.min(),s=Ne();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,h,f){let g=ge(l),I=g.cs.get(f);return I!==void 0?B.resolve(g.us.get(I)):g.Gr.getTargetData(h,f)}(r,a,Ni(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(a,c.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(a,e,t?i:_e.min(),t?s:Ne())).next(c=>(k9(r,QH(e),c),{documents:c,ds:s})))}function k9(n,e,t){let r=n.ls.get(e)||_e.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ls.set(e,r)}var fy=class{constructor(){this.activeTargetIds=t9()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var eT=class{constructor(){this._o=new fy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new fy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var tT=class{uo(e){}shutdown(){}};var py=class{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.To)e(0)}Po(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wg=null;function G0(){return Wg===null?Wg=function(){return 268435456+Math.round(2147483648*Math.random())}():Wg++,"0x"+Wg.toString(16)}var V9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var nT=class{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}};var fn="WebChannelConnection",rT=class extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(t,r,i,s,a){let c=G0(),l=this.No(t,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${t}' ${c}:`,l,i);let h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(h,s,a),this.Bo(t,l,h,i).then(f=>(Q("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw Hl("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",l,"request:",i),f})}ko(t,r,i,s,a,c){return this.Oo(t,r,i,s,a)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}No(t,r){let i=V9[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){let s=G0();return new Promise((a,c)=>{let l=new j0;l.setWithCredentials(!0),l.listenOnce(B0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zh.NO_ERROR:let f=l.getResponseJson();Q(fn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Zh.TIMEOUT:Q(fn,`RPC '${e}' ${s} timed out`),c(new ee(U.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:let g=l.getStatus();if(Q(fn,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let I=l.getResponseJson();Array.isArray(I)&&(I=I[0]);let T=I?.error;if(T&&T.status&&T.message){let x=function(P){let V=P.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(V)>=0?V:U.UNKNOWN}(T.status);c(new ee(x,T.message))}else c(new ee(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new ee(U.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Q(fn,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);Q(fn,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}qo(e,t,r){let i=G0(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=z0(),c=q0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let f=s.join("");Q(fn,`Creating RPC '${e}' stream ${i}: ${f}`,l);let g=a.createWebChannel(f,l),I=!1,T=!1,x=new nT({Eo:P=>{T?Q(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(I||(Q(fn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),I=!0),Q(fn,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},Ao:()=>g.close()}),M=(P,V,L)=>{P.listen(V,F=>{try{L(F)}catch($){setTimeout(()=>{throw $},0)}})};return M(g,Fl.EventType.OPEN,()=>{T||(Q(fn,`RPC '${e}' stream ${i} transport opened.`),x.So())}),M(g,Fl.EventType.CLOSE,()=>{T||(T=!0,Q(fn,`RPC '${e}' stream ${i} transport closed`),x.Do())}),M(g,Fl.EventType.ERROR,P=>{T||(T=!0,Hl(fn,`RPC '${e}' stream ${i} transport errored:`,P),x.Do(new ee(U.UNAVAILABLE,"The operation could not be completed")))}),M(g,Fl.EventType.MESSAGE,P=>{var V;if(!T){let L=P.data[0];Je(!!L);let F=L,$=F?.error||((V=F[0])===null||V===void 0?void 0:V.error);if($){Q(fn,`RPC '${e}' stream ${i} received error:`,$);let Y=$.status,z=function(_){let v=xt[_];if(v!==void 0)return gM(v)}(Y),E=$.message;z===void 0&&(z=U.INTERNAL,E="Unknown error status: "+Y+" with message "+$.message),T=!0,x.Do(new ee(z,E)),g.close()}else Q(fn,`RPC '${e}' stream ${i} received:`,L),x.vo(L)}}),M(c,$0.STAT_EVENT,P=>{P.stat===zg.PROXY?Q(fn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===zg.NOPROXY&&Q(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}};function W0(){return typeof document<"u"?document:null}function Fy(n){return new Db(n,!0)}var my=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}};var gy=class{constructor(e,t,r,i,s,a,c,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new my(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}stop(){return R(this,null,function*(){this.i_()&&(yield this.close(0))})}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}u_(){return R(this,null,function*(){if(this.s_())return this.close(0)})}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}close(e,t){return R(this,null,function*(){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Fs(t.toString()),Fs("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.po(t)})}P_(){}auth(){this.state=1;let e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{let i=new ee(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){let r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(()=>R(this,null,function*(){this.state=0,this.start()}))}E_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},iT=class extends gy{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();let t=g9(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?Pi(a.readTime):_e.min()}(e);return this.listener.R_(t,r)}V_(e){let t={};t.database=xb(this.serializer),t.addTarget=function(s,a){let c,l=a.target;if(c=gb(l)?{documents:v9(s,l)}:{query:E9(s,l).ct},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=yM(s,a.resumeToken);let h=Ab(s,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(_e.min())>0){c.readTime=ly(s,a.snapshotVersion.toTimestamp());let h=Ab(s,a.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);let r=I9(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){let t={};t.database=xb(this.serializer),t.removeTarget=e,this.c_(t)}},sT=class extends gy{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();let t=_9(e.writeResults,e.commitTime),r=Pi(e.commitTime);return this.listener.y_(r,t)}w_(){let e={};e.database=xb(this.serializer),this.c_(e)}g_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>y9(this.serializer,r))};this.c_(t)}};var oT=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Oo(e,Sb(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(U.UNKNOWN,s.toString())})}ko(e,t,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.ko(e,Sb(t,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ee(U.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}},aT=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Fs(t),this.C_=!1):Q("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}};var cT=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(a=>{r.enqueueAndForget(()=>R(this,null,function*(){lc(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield function(l){return R(this,null,function*(){let h=ge(l);h.k_.add(4),yield yf(h),h.K_.set("Unknown"),h.k_.delete(4),yield Ly(h)})}(this))}))}),this.K_=new aT(r,i)}};function Ly(n){return R(this,null,function*(){if(lc(n))for(let e of n.q_)yield e(!0)})}function yf(n){return R(this,null,function*(){for(let e of n.q_)yield e(!1)})}function DM(n,e){let t=ge(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),UT(t)?LT(t):cu(t).s_()&&FT(t,e))}function VT(n,e){let t=ge(n),r=cu(t);t.B_.delete(e),r.s_()&&AM(t,e),t.B_.size===0&&(r.s_()?r.a_():lc(t)&&t.K_.set("Unknown"))}function FT(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cu(n).V_(e)}function AM(n,e){n.U_.xe(e),cu(n).m_(e)}function LT(n){n.U_=new Cb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),cu(n).start(),n.K_.F_()}function UT(n){return lc(n)&&!cu(n).i_()&&n.B_.size>0}function lc(n){return ge(n).k_.size===0}function SM(n){n.U_=void 0}function F9(n){return R(this,null,function*(){n.K_.set("Online")})}function L9(n){return R(this,null,function*(){n.B_.forEach((e,t)=>{FT(n,e)})})}function U9(n,e){return R(this,null,function*(){SM(n),UT(n)?(n.K_.O_(e),LT(n)):n.K_.set("Unknown")})}function j9(n,e,t){return R(this,null,function*(){if(n.K_.set("Online"),e instanceof ay&&e.state===2&&e.cause)try{yield function(i,s){return R(this,null,function*(){let a=s.cause;for(let c of s.targetIds)i.B_.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i.B_.delete(c),i.U_.removeTarget(c))})}(n,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yy(n,r)}else if(e instanceof ql?n.U_.$e(e):e instanceof oy?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(_e.min()))try{let r=yield CM(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){let c=s.U_.it(a);return c.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){let f=s.B_.get(h);f&&s.B_.set(h,f.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach((l,h)=>{let f=s.B_.get(l);if(!f)return;s.B_.set(l,f.withResumeToken(pn.EMPTY_BYTE_STRING,f.snapshotVersion)),AM(s,l);let g=new uf(f.target,l,h,f.sequenceNumber);FT(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),yield yy(n,r)}})}function yy(n,e,t){return R(this,null,function*(){if(!au(e))throw e;n.k_.add(1),yield yf(n),n.K_.set("Offline"),t||(t=()=>CM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){Q("RemoteStore","Retrying IndexedDB access"),yield t(),n.k_.delete(1),yield Ly(n)}))})}function RM(n,e){return e().catch(t=>yy(n,t,e))}function Uy(n){return R(this,null,function*(){let e=ge(n),t=Uo(e),r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;B9(e);)try{let i=yield M9(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,$9(e,i)}catch(i){yield yy(e,i)}xM(e)&&NM(e)})}function B9(n){return lc(n)&&n.L_.length<10}function $9(n,e){n.L_.push(e);let t=Uo(n);t.s_()&&t.f_&&t.g_(e.mutations)}function xM(n){return lc(n)&&!Uo(n).i_()&&n.L_.length>0}function NM(n){Uo(n).start()}function q9(n){return R(this,null,function*(){Uo(n).w_()})}function z9(n){return R(this,null,function*(){let e=Uo(n);for(let t of n.L_)e.g_(t.mutations)})}function H9(n,e,t){return R(this,null,function*(){let r=n.L_.shift(),i=wb.from(r,e,t);yield RM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Uy(n)})}function G9(n,e){return R(this,null,function*(){e&&Uo(n).f_&&(yield function(r,i){return R(this,null,function*(){if(function(a){return c9(a)&&a!==U.ABORTED}(i.code)){let s=r.L_.shift();Uo(r).__(),yield RM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Uy(r)}})}(n,e)),xM(n)&&NM(n)})}function j1(n,e){return R(this,null,function*(){let t=ge(n);t.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");let r=lc(t);t.k_.add(3),yield yf(t),r&&t.K_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),yield Ly(t)})}function W9(n,e){return R(this,null,function*(){let t=ge(n);e?(t.k_.delete(2),yield Ly(t)):e||(t.k_.add(2),yield yf(t),t.K_.set("Unknown"))})}function cu(n){return n.W_||(n.W_=function(t,r,i){let s=ge(t);return s.b_(),new iT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:F9.bind(null,n),mo:L9.bind(null,n),po:U9.bind(null,n),R_:j9.bind(null,n)}),n.q_.push(e=>R(this,null,function*(){e?(n.W_.__(),UT(n)?LT(n):n.K_.set("Unknown")):(yield n.W_.stop(),SM(n))}))),n.W_}function Uo(n){return n.G_||(n.G_=function(t,r,i){let s=ge(t);return s.b_(),new sT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:q9.bind(null,n),po:G9.bind(null,n),p_:z9.bind(null,n),y_:H9.bind(null,n)}),n.q_.push(e=>R(this,null,function*(){e?(n.G_.__(),yield Uy(n)):(yield n.G_.stop(),n.L_.length>0&&(Q("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))}))),n.G_}var lT=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,c=new n(e,t,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function jT(n,e){if(Fs("AsyncQueue",`${e}: ${n}`),au(n))return new ee(U.UNAVAILABLE,`${e}: ${n}`);throw n}var _y=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||oe.comparator(t.key,r.key):(t,r)=>oe.comparator(t.key,r.key),this.keyedMap=ef(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var vy=class{constructor(){this.z_=new Et(oe.comparator)}track(e){let t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ae():this.z_=this.z_.insert(t,e)}j_(){let e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}},nu=class n{constructor(e,t,r,i,s,a,c,l,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){let a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new n(e,t,_y.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ky(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var uT=class{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}},dT=class{constructor(){this.queries=B1(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){let i=ge(t),s=i.queries;i.queries=B1(),s.forEach((a,c)=>{for(let l of c.J_)l.onError(r)})})(this,new ee(U.ABORTED,"Firestore shutting down"))}};function B1(){return new js(n=>iM(n),ky)}function PM(n,e){return R(this,null,function*(){let t=ge(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new uT,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=yield t.onListen(i,!0);break;case 1:s.H_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(a){let c=jT(a,`Initialization of query '${Ul(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.J_.push(e),e.ea(t.onlineState),s.H_&&e.ta(s.H_)&&BT(t)})}function MM(n,e){return R(this,null,function*(){let t=ge(n),r=e.query,i=3,s=t.queries.get(r);if(s){let a=s.J_.indexOf(e);a>=0&&(s.J_.splice(a,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function K9(n,e){let t=ge(n),r=!1;for(let i of e){let s=i.query,a=t.queries.get(s);if(a){for(let c of a.J_)c.ta(i)&&(r=!0);a.H_=i}}r&&BT(t)}function Q9(n,e,t){let r=ge(n),i=r.queries.get(e);if(i)for(let s of i.J_)s.onError(t);r.queries.delete(e)}function BT(n){n.X_.forEach(e=>{e.next()})}var hT,$1;($1=hT||(hT={})).na="default",$1.Cache="cache";var Ey=class{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;let r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;let t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==hT.Cache}};var wy=class{constructor(e){this.key=e}},Iy=class{constructor(e){this.key=e}},fT=class{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ne(),this.mutatedKeys=Ne(),this.Va=sM(e),this.ma=new _y(this.Va)}get fa(){return this.da}ga(e,t){let r=t?t.pa:new vy,i=t?t.ma:this.ma,s=t?t.mutatedKeys:this.mutatedKeys,a=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let I=i.get(f),T=Vy(this.query,g)?g:null,x=!!I&&this.mutatedKeys.has(I.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations),P=!1;I&&T?I.data.isEqual(T.data)?x!==M&&(r.track({type:3,doc:T}),P=!0):this.ya(I,T)||(r.track({type:2,doc:T}),P=!0,(l&&this.Va(T,l)>0||h&&this.Va(T,h)<0)&&(c=!0)):!I&&T?(r.track({type:0,doc:T}),P=!0):I&&!T&&(r.track({type:1,doc:I}),P=!0,(l||h)&&(c=!0)),P&&(T?(a=a.add(T),s=M?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{ma:a,pa:r,ss:c,mutatedKeys:s}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;let a=e.pa.j_();a.sort((f,g)=>function(T,x){let M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return M(T)-M(x)}(f.type,g.type)||this.Va(f.doc,g.doc)),this.wa(r),i=i!=null&&i;let c=t&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,h=l!==this.Aa;return this.Aa=l,a.length!==0||h?{snapshot:new nu(this.query,e.ma,s,a,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new vy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];let e=this.Ra;this.Ra=Ne(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});let t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new Iy(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new wy(r))}),t}va(e){this.da=e.ds,this.Ra=Ne();let t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return nu.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}},pT=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},mT=class{constructor(e){this.key=e,this.Fa=!1}},gT=class{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new js(c=>iM(c),ky),this.Oa=new Map,this.Na=new Set,this.La=new Et(oe.comparator),this.Ba=new Map,this.ka=new hf,this.qa={},this.Qa=new Map,this.Ka=df.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}};function Y9(n,e,t=!0){return R(this,null,function*(){let r=UM(n),i,s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=yield OM(r,e,t,!0),i})}function J9(n,e){return R(this,null,function*(){let t=UM(n);yield OM(t,e,!0,!1)})}function OM(n,e,t,r){return R(this,null,function*(){let i=yield O9(n.localStore,Ni(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield X9(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&DM(n.remoteStore,i),c})}function X9(n,e,t,r,i){return R(this,null,function*(){n.Ua=(g,I,T)=>function(M,P,V,L){return R(this,null,function*(){let F=P.view.ga(V);F.ss&&(F=yield U1(M.localStore,P.query,!1).then(({documents:E})=>P.view.ga(E,F)));let $=L&&L.targetChanges.get(P.targetId),Y=L&&L.targetMismatches.get(P.targetId)!=null,z=P.view.applyChanges(F,M.isPrimaryClient,$,Y);return z1(M,P.targetId,z.ba),z.snapshot})}(n,g,I,T);let s=yield U1(n.localStore,e,!0),a=new fT(e,s.ds),c=a.ga(s.documents),l=lf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(c,n.isPrimaryClient,l);z1(n,t,h.ba);let f=new pT(e,t,a);return n.xa.set(e,f),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),h.snapshot})}function Z9(n,e,t){return R(this,null,function*(){let r=ge(n),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(a=>!ky(a,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&VT(r.remoteStore,i.targetId),yT(r,i.targetId)}).catch(ou))):(yT(r,i.targetId),yield Zb(r.localStore,i.targetId,!0))})}function eG(n,e){return R(this,null,function*(){let t=ge(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),VT(t.remoteStore,r.targetId))})}function tG(n,e,t){return R(this,null,function*(){let r=cG(n);try{let i=yield function(a,c){let l=ge(a),h=Xt.now(),f=c.reduce((T,x)=>T.add(x.key),Ne()),g,I;return l.persistence.runTransaction("Locally write mutations","readwrite",T=>{let x=Bs(),M=Ne();return l.hs.getEntries(T,f).next(P=>{x=P,x.forEach((V,L)=>{L.isValidDocument()||(M=M.add(V))})}).next(()=>l.localDocuments.getOverlayedDocuments(T,x)).next(P=>{g=P;let V=[];for(let L of c){let F=a9(L,g.get(L.key).overlayedDocument);F!=null&&V.push(new ki(L.key,F,X1(F.value.mapValue),Vs.exists(!0)))}return l.mutationQueue.addMutationBatch(T,h,V,c)}).next(P=>{I=P;let V=P.applyToLocalDocumentSet(g,M);return l.documentOverlayCache.saveOverlays(T,P.batchId,V)})}).then(()=>({batchId:I.batchId,changes:aM(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,l){let h=a.qa[a.currentUser.toKey()];h||(h=new Et(Oe)),h=h.insert(c,l),a.qa[a.currentUser.toKey()]=h}(r,i.batchId,t),yield _f(r,i.changes),yield Uy(r.remoteStore)}catch(i){let s=jT(i,"Failed to persist write");t.reject(s)}})}function kM(n,e){return R(this,null,function*(){let t=ge(n);try{let r=yield N9(t.localStore,e);e.targetChanges.forEach((i,s)=>{let a=t.Ba.get(s);a&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Fa=!0:i.modifiedDocuments.size>0?Je(a.Fa):i.removedDocuments.size>0&&(Je(a.Fa),a.Fa=!1))}),yield _f(t,r,e)}catch(r){yield ou(r)}})}function q1(n,e,t){let r=ge(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.xa.forEach((s,a)=>{let c=a.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){let l=ge(a);l.onlineState=c;let h=!1;l.queries.forEach((f,g)=>{for(let I of g.J_)I.ea(c)&&(h=!0)}),h&&BT(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nG(n,e,t){return R(this,null,function*(){let r=ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ba.get(e),s=i&&i.key;if(s){let a=new Et(oe.comparator);a=a.insert(s,oi.newNoDocument(s,_e.min()));let c=Ne().add(s),l=new sy(_e.min(),new Map,new Et(Oe),a,c);yield kM(r,l),r.La=r.La.remove(s),r.Ba.delete(e),$T(r)}else yield Zb(r.localStore,e,!1).then(()=>yT(r,e,t)).catch(ou)})}function rG(n,e){return R(this,null,function*(){let t=ge(n),r=e.batch.batchId;try{let i=yield x9(t.localStore,e);FM(t,r,null),VM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _f(t,i)}catch(i){yield ou(i)}})}function iG(n,e,t){return R(this,null,function*(){let r=ge(n);try{let i=yield function(a,c){let l=ge(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return l.mutationQueue.lookupMutationBatch(h,c).next(g=>(Je(g!==null),f=g.keys(),l.mutationQueue.removeMutationBatch(h,g))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>l.localDocuments.getDocuments(h,f))})}(r.localStore,e);FM(r,e,t),VM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _f(r,i)}catch(i){yield ou(i)}})}function VM(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function FM(n,e,t){let r=ge(n),i=r.qa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function yT(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||LM(n,r)})}function LM(n,e){n.Na.delete(e.path.canonicalString());let t=n.La.get(e);t!==null&&(VT(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),$T(n))}function z1(n,e,t){for(let r of t)r instanceof wy?(n.ka.addReference(r.key,e),sG(n,r)):r instanceof Iy?(Q("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||LM(n,r.key)):ae()}function sG(n,e){let t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(Q("SyncEngine","New document in limbo: "+t),n.Na.add(r),$T(n))}function $T(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){let e=n.Na.values().next().value;n.Na.delete(e);let t=new oe(vt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new mT(t)),n.La=n.La.insert(t,r),DM(n.remoteStore,new uf(Ni(MT(t.path)),r,"TargetPurposeLimboResolution",ST.oe))}}function _f(n,e,t){return R(this,null,function*(){let r=ge(n),i=[],s=[],a=[];r.xa.isEmpty()||(r.xa.forEach((c,l)=>{a.push(r.Ua(l,e,t).then(h=>{var f;if((h||t)&&r.isPrimaryClient){let g=h?!h.fromCache:(f=t?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(h){i.push(h);let g=Qb.zi(l.targetId,h);s.push(g)}}))}),yield Promise.all(a),r.Ma.R_(i),yield function(l,h){return R(this,null,function*(){let f=ge(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>B.forEach(h,I=>B.forEach(I.Wi,T=>f.persistence.referenceDelegate.addReference(g,I.targetId,T)).next(()=>B.forEach(I.Gi,T=>f.persistence.referenceDelegate.removeReference(g,I.targetId,T)))))}catch(g){if(!au(g))throw g;Q("LocalStore","Failed to update sequence numbers: "+g)}for(let g of h){let I=g.targetId;if(!g.fromCache){let T=f.us.get(I),x=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(x);f.us=f.us.insert(I,M)}}})}(r.localStore,s))})}function oG(n,e){return R(this,null,function*(){let t=ge(n);if(!t.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());let r=yield TM(t.localStore,e);t.currentUser=e,function(s,a){s.Qa.forEach(c=>{c.forEach(l=>{l.reject(new ee(U.CANCELLED,a))})}),s.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _f(t,r.Ts)}})}function aG(n,e){let t=ge(n),r=t.Ba.get(e);if(r&&r.Fa)return Ne().add(r.key);{let i=Ne(),s=t.Oa.get(e);if(!s)return i;for(let a of s){let c=t.xa.get(a);i=i.unionWith(c.view.fa)}return i}}function UM(n){let e=ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nG.bind(null,e),e.Ma.R_=K9.bind(null,e.eventManager),e.Ma.Wa=Q9.bind(null,e.eventManager),e}function cG(n){let e=ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iG.bind(null,e),e}var jM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return R(this,null,function*(){this.serializer=Fy(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),yield this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)})}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return R9(this.persistence,new Jb,t.initialUser,this.serializer)}ja(t){return new dy(Kb.ei,this.serializer)}za(t){return new eT}terminate(){return R(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),_T=class extends jM{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Je(this.persistence.referenceDelegate instanceof hy);let r=this.persistence.referenceDelegate.garbageCollector;return new kb(r,e.asyncQueue,t)}ja(e){let t=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new dy(r=>hy.ei(r,t),this.serializer)}};var lG=(()=>{class n{initialize(t,r){return R(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oG.bind(null,this.syncEngine),yield W9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new dT}()}createDatastore(t){let r=Fy(t.databaseInfo.databaseId),i=function(a){return new rT(a)}(t.databaseInfo);return function(a,c,l,h){return new oT(a,c,l,h)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,a,c,l){return new cT(i,s,a,c,l)}(this.localStore,this.datastore,t.asyncQueue,r=>q1(this.syncEngine,r,0),function(){return py.p()?new py:new tT}())}createSyncEngine(t,r){return function(s,a,c,l,h,f,g){let I=new gT(s,a,c,l,h,f);return g&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return R(this,null,function*(){var t,r;yield function(s){return R(this,null,function*(){let a=ge(s);Q("RemoteStore","RemoteStore shutting down."),a.k_.add(5),yield yf(a),a.Q_.shutdown(),a.K_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var by=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Fs("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var vT=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=Xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,a=>R(this,null,function*(){Q("FirestoreClient","Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>(Q("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=jT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function K0(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>R(this,null,function*(){r.isEqual(i)||(yield TM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function H1(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield uG(n);Q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>j1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>j1(e.remoteStore,i)),n._onlineComponents=e})}function uG(n){return R(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield K0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Hl("Error using user provided cache. Falling back to memory cache: "+t),yield K0(n,new jM)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),yield K0(n,new _T(void 0));return n._offlineComponents})}function BM(n){return R(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),yield H1(n,n._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),yield H1(n,new lG))),n._onlineComponents})}function dG(n){return BM(n).then(e=>e.syncEngine)}function $M(n){return R(this,null,function*(){let e=yield BM(n),t=e.eventManager;return t.onListen=Y9.bind(null,e.syncEngine),t.onUnlisten=Z9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=J9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=eG.bind(null,e.syncEngine),t})}function hG(n,e,t={}){let r=new si;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(s,a,c,l,h){let f=new by({next:I=>{f.eu(),a.enqueueAndForget(()=>MM(s,g));let T=I.docs.has(c);!T&&I.fromCache?h.reject(new ee(U.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&I.fromCache&&l&&l.source==="server"?h.reject(new ee(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(I)},error:I=>h.reject(I)}),g=new Ey(MT(c.path),f,{includeMetadataChanges:!0,ua:!0});return PM(s,g)}(yield $M(n),n.asyncQueue,e,t,r)})),r.promise}function fG(n,e,t={}){let r=new si;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(s,a,c,l,h){let f=new by({next:I=>{f.eu(),a.enqueueAndForget(()=>MM(s,g)),I.fromCache&&l.source==="server"?h.reject(new ee(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(I)},error:I=>h.reject(I)}),g=new Ey(c,f,{includeMetadataChanges:!0,ua:!0});return PM(s,g)}(yield $M(n),n.asyncQueue,e,t,r)})),r.promise}function qM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var G1=new Map;function zM(n,e,t){if(!t)throw new ee(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pG(n,e,t,r){if(e===!0&&r===!0)throw new ee(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function W1(n){if(!oe.isDocumentKey(n))throw new ee(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K1(n){if(oe.isDocumentKey(n))throw new ee(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qT(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ae()}function Vi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ee(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=qT(n);throw new ee(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Ty=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ru=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ty({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ty(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Q0;switch(r.type){case"firstParty":return new Z0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return R(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=G1.get(t);r&&(Q("ComponentProvider","Removing Datastore"),G1.delete(t),r.terminate())}(this),Promise.resolve()}};function mG(n,e,t,r={}){var i;let s=(n=Vi(n,ru))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=qt.MOCK_USER;else{c=QP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ee(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new qt(h)}n._authCredentials=new Y0(new Jg(c,l))}}var Cy=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},jn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Fo=class n extends Cy{constructor(e,t,r){super(e,t,MT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new oe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function jy(n,e,...t){if(n=Ps(n),zM("collection","path",e),n instanceof ru){let r=vt.fromString(e,...t);return K1(r),new Fo(n,null,r)}{if(!(n instanceof jn||n instanceof Fo))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(vt.fromString(e,...t));return K1(r),new Fo(n.firestore,null,r)}}function Sn(n,e,...t){if(n=Ps(n),arguments.length===1&&(e=Xg.newId()),zM("doc","path",e),n instanceof ru){let r=vt.fromString(e,...t);return W1(r),new jn(n,null,new oe(r))}{if(!(n instanceof jn||n instanceof Fo))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(vt.fromString(e,...t));return W1(r),new jn(n.firestore,n instanceof Fo?n.converter:null,new oe(r))}}var Dy=class{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new my(this,"async_queue_retry"),this.fu=()=>{let r=W0();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;let t=W0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;let t=W0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});let t=new si;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}wu(){return R(this,null,function*(){if(this.Iu.length!==0){try{yield this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!au(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}})}yu(e){let t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;let i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw Fs("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);let i=lT.createAndSchedule(this,e,t,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ae()}verifyOperationInProgress(){}bu(){return R(this,null,function*(){let e;do e=this.gu,yield e;while(e!==this.gu)})}Du(e){for(let t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let t=this.du.indexOf(e);this.du.splice(t,1)}};var jo=class extends ru{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Dy,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return R(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Dy(e),this._firestoreClient=void 0,yield e}})}};function HM(n,e){let t=typeof n=="object"?n:h1(),r=typeof n=="string"?n:e||"(default)",i=u1(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=KP("firestore");s&&mG(i,...s)}return i}function zT(n){if(n._terminated)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gG(n),n._firestoreClient}function gG(n){var e,t,r;let i=n._freezeSettings(),s=function(c,l,h,f){return new ib(c,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,qM(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new vT(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(n._componentsProvider))}var ff=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(pn.fromBase64String(e))}catch(t){throw new ee(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var iu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ee(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pf=class{constructor(e){this._methodName=e}};var mf=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}};var gf=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var yG=/^__.*__$/,ET=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new cc(e,this.data,t,this.fieldTransforms)}},Ay=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function GM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}var wT=class n{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Ry(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(GM(this.Mu)&&yG.test(e))throw this.qu('Document fields cannot begin and end with "__"')}},IT=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fy(e)}$u(e,t,r,i=!1){return new wT({Mu:e,methodName:t,Ku:r,path:ar.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HT(n){let e=n._freezeSettings(),t=Fy(n._databaseId);return new IT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WM(n,e,t,r,i,s={}){let a=n.$u(s.merge||s.mergeFields?2:0,e,t,i);GT("Data must be an object, but it was:",a,r);let c=KM(r,a),l,h;if(s.merge)l=new Ir(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){let f=[];for(let g of s.mergeFields){let I=bT(e,g,t);if(!a.contains(I))throw new ee(U.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);YM(f,I)||f.push(I)}l=new Ir(f),h=a.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,h=a.fieldTransforms;return new ET(new or(c),l,h)}var Sy=class n extends pf{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function _G(n,e,t,r){let i=n.$u(1,e,t);GT("Data must be an object, but it was:",i,r);let s=[],a=or.empty();Bo(r,(l,h)=>{let f=WT(e,l,t);h=Ps(h);let g=i.Bu(f);if(h instanceof Sy)s.push(f);else{let I=By(h,g);I!=null&&(s.push(f),a.set(f,I))}});let c=new Ir(s);return new Ay(a,c,i.fieldTransforms)}function vG(n,e,t,r,i,s){let a=n.$u(1,e,t),c=[bT(e,r,t)],l=[i];if(s.length%2!=0)throw new ee(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)c.push(bT(e,s[I])),l.push(s[I+1]);let h=[],f=or.empty();for(let I=c.length-1;I>=0;--I)if(!YM(h,c[I])){let T=c[I],x=l[I];x=Ps(x);let M=a.Bu(T);if(x instanceof Sy)h.push(T);else{let P=By(x,M);P!=null&&(h.push(T),f.set(T,P))}}let g=new Ir(h);return new Ay(f,g,a.fieldTransforms)}function By(n,e){if(QM(n=Ps(n)))return GT("Unsupported field value:",e,n),KM(n,e);if(n instanceof pf)return function(r,i){if(!GM(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){let s=[],a=0;for(let c of r){let l=By(c,i.ku(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ps(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return n9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Xt.fromDate(r);return{timestampValue:ly(i.serializer,s)}}if(r instanceof Xt){let s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ly(i.serializer,s)}}if(r instanceof mf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ff)return{bytesValue:yM(i.serializer,r._byteString)};if(r instanceof jn){let s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:kT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gf)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw c.qu("VectorValues must only contain numeric values.");return OT(c.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${qT(r)}`)}(n,e)}function KM(n,e){let t={};return Q1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bo(n,(r,i)=>{let s=By(i,e.Ou(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function QM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xt||n instanceof mf||n instanceof ff||n instanceof jn||n instanceof pf||n instanceof gf)}function GT(n,e,t){if(!QM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=qT(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function bT(n,e,t){if((e=Ps(e))instanceof iu)return e._internalPath;if(typeof e=="string")return WT(n,e);throw Ry("Field path arguments must be of type string or ",n,!1,void 0,t)}var EG=new RegExp("[~\\*/\\[\\]]");function WT(n,e,t){if(e.search(EG)>=0)throw Ry(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new iu(...e.split("."))._internalPath}catch{throw Ry(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ry(n,e,t,r,i){let s=r&&!r.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ee(U.INVALID_ARGUMENT,c+n+l)}function YM(n,e){return n.some(t=>t.isEqual(e))}var xy=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new TT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(JM("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},TT=class extends xy{data(){return super.data()}};function JM(n,e){return typeof e=="string"?WT(n,e):e instanceof iu?e._internalPath:e._delegate._internalPath}function wG(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ee(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var CT=class{convertValue(e,t="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Bo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ut(a.doubleValue));return new gf(s)}convertGeoPoint(e){return new mf(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Oy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){let t=Ls(e);return new Xt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=vt.fromString(e);Je(bM(r));let i=new ny(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(t)||Fs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function XM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var rc=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ny=class extends xy{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(JM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},zl=class extends Ny{data(e={}){return super.data(e)}},DT=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new rc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new zl(this._firestore,this._userDataWriter,r.key,r,new rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{let l=new zl(i._firestore,i._userDataWriter,c.doc.key,c.doc,new rc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new zl(i._firestore,i._userDataWriter,c.doc.key,c.doc,new rc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),h=-1,f=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:IG(c.type),doc:l,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function IG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function br(n){n=Vi(n,jn);let e=Vi(n.firestore,jo);return hG(zT(e),n._key).then(t=>bG(e,n,t))}var Py=class extends CT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ff(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}};function ZM(n){n=Vi(n,Cy);let e=Vi(n.firestore,jo),t=zT(e),r=new Py(e);return wG(n._query),fG(t,n._query).then(i=>new DT(e,r,n,i))}function eO(n,e,t){n=Vi(n,jn);let r=Vi(n.firestore,jo),i=XM(n.converter,e,t);return QT(r,[WM(HT(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Vs.none())])}function KT(n,e,t,...r){n=Vi(n,jn);let i=Vi(n.firestore,jo),s=HT(i),a;return a=typeof(e=Ps(e))=="string"||e instanceof iu?vG(s,"updateDoc",n._key,e,t,r):_G(s,"updateDoc",n._key,e),QT(i,[a.toMutation(n._key,Vs.exists(!0))])}function tO(n,e){let t=Vi(n.firestore,jo),r=Sn(n),i=XM(n.converter,e);return QT(t,[WM(HT(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Vs.exists(!1))]).then(()=>r)}function QT(n,e){return function(r,i){let s=new si;return r.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return tG(yield dG(r),i,s)})),s.promise}(zT(n),e)}function bG(n,e,t){let r=t.docs.get(e._key),i=new Py(n);return new Ny(n,i,e._key,r,new rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){su=i})(d1),Jh(new Ms("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),c=new jo(new J0(r.getProvider("auth-internal")),new tb(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ee(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ny(h.options.projectId,f)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ko(y1,"4.7.5",e),ko(y1,"4.7.5","esm2017")})();var TG="firebase",CG="11.1.0";ko(TG,CG,"app");var $y={production:!1,firebaseConfig:{apiKey:"AIzaSyB0uZ0cE8dDm1Dyp-icaN3X0QgrWXyf_7k",authDomain:"plamostore.firebaseapp.com",projectId:"plamostore",storageBucket:"plamostore.firebasestorage.app",messagingSenderId:"1042511858348",appId:"1:1042511858348:web:f55f4a1e76d93a443c2d09",measurementId:"G-SCMBM54E1W"}};var DG=L0($y.firebaseConfig),Zt=HM(DG);function AG(n,e){n&1&&(S(0,"div",1)(1,"h4",2),N(2,"Loading..."),D()())}function SG(n,e){if(n&1&&(S(0,"div",3),Se(1,"div",4),S(2,"div",5)(3,"div",6)(4,"div",7),Se(5,"search-bar"),D(),S(6,"div",8),Se(7,"sorter"),D()()()(),S(8,"div",9)(9,"div",4),Se(10,"filter"),D(),S(11,"div",10),Se(12,"product-list",11),D()()),n&2){let t=re();k(12),Fe("displayProducts",t.displayedItems)}}var qy=class n{products=[];searchResult=[];sortResult=[];filteredResult=[];displayedItems=[];loading=!0;recentQueries={searchTerm:"",sort:()=>{},filters:{}};constructor(e){e.listen("searchProduct",t=>{this.recentQueries.searchTerm=t,t===" "?this.searchResult=this.products:this.searchResult=this.products.filter(r=>r.name.toUpperCase().includes(t.toUpperCase())),e.emit("sort",this.recentQueries.sort)}),e.listen("sort",t=>{this.recentQueries.sort=t,this.sortResult=[...this.searchResult],t===0?this.sortResult=[...this.searchResult]:this.sortResult.sort(t),e.emit("filterChanged",this.recentQueries.filters)}),e.listen("filterChanged",t=>{this.recentQueries.filters=t;let r=new Set;this.filteredResult=[...this.sortResult],t.gradeFilters.length>0&&t.gradeFilters.length<7?this.filteredResult.forEach(s=>{t.gradeFilters.forEach(a=>{s.grade===a&&r.add(s)})}):r=new Set(this.sortResult);let i=new Set;t.sizeFilters.length>0&&t.sizeFilters.length<6?r.forEach(s=>{t.sizeFilters.forEach(a=>{s.size===a&&i.add(s)})}):i=r,t.premiumFilters.length===1&&(t.premiumFilters[0]==="Yes"?i.forEach(s=>{s.pbandai===!1&&i.delete(s)}):i.forEach(s=>{s.pbandai===!0&&i.delete(s)})),this.filteredResult=Array.from(i),this.displayedItems=[...this.filteredResult]})}ngOnInit(){R(this,null,function*(){let t=yield ZM(jy(Zt,"products"));this.products=t.docs.map(r=>{let i=r.data();return{id:i.id,name:i.name,grade:i.grade,size:i.size,release:i.release,pbandai:i.pbandai,price:i.price,thumbnail:i.thumbnail,model:i.model}})}).then(()=>{this.searchResult=[...this.products],this.sortResult=[...this.products],this.displayedItems=[...this.products]}).catch(t=>{console.error("Error fetching our products: ",t)}).finally(()=>{this.loading=!1})}static \u0275fac=function(t){return new(t||n)(H(lt))};static \u0275cmp=pe({type:n,selectors:[["shopping-page"]],standalone:!0,features:[me],decls:3,vars:1,consts:[[1,"container-fluid","m-0"],[1,"d-flex","justify-content-center","align-items-center",2,"height","20vh"],[1,"mt-3"],[1,"row"],[1,"col-sm-3","col-md-3","col-lg-2"],[1,"col-sm-9","col-md-9","col-lg-10","mt-4"],[1,"row","search-sort","d-flex"],[1,"col-sm-9","col-md-9","col-lg-9","mt-0"],[1,"col-sm-3","col-md-3","col-lg-3","mt-0"],[1,"row","content"],[1,"col-sm-9","col-md-9","col-lg-10","mt-0"],[3,"displayProducts"]],template:function(t,r){t&1&&(S(0,"div",0),K(1,AG,3,0,"div",1)(2,SG,13,1),D()),t&2&&(k(),G(r.loading?1:2))},dependencies:[vg,Vg,Fg,kg],styles:["filter[_ngcontent-%COMP%]{position:sticky}.content[_ngcontent-%COMP%]{min-height:80vh}"]})};var Zy={};CF(Zy,{afterMain:()=>aO,afterRead:()=>iO,afterWrite:()=>uO,applyStyles:()=>uu,arrow:()=>Hy,auto:()=>vf,basePlacements:()=>$s,beforeMain:()=>sO,beforeRead:()=>nO,beforeWrite:()=>cO,bottom:()=>Pt,clippingParents:()=>YT,computeStyles:()=>hu,createPopper:()=>Sf,createPopperBase:()=>vO,createPopperLite:()=>EO,detectOverflow:()=>xn,end:()=>$o,eventListeners:()=>fu,flip:()=>Qy,hide:()=>Yy,left:()=>wt,main:()=>oO,modifierPhases:()=>XT,offset:()=>Jy,placements:()=>wf,popper:()=>uc,popperGenerator:()=>_c,popperOffsets:()=>gu,preventOverflow:()=>Xy,read:()=>rO,reference:()=>JT,right:()=>bt,start:()=>Fi,top:()=>yt,variationPlacements:()=>zy,viewport:()=>Ef,write:()=>lO});var yt="top",Pt="bottom",bt="right",wt="left",vf="auto",$s=[yt,Pt,bt,wt],Fi="start",$o="end",YT="clippingParents",Ef="viewport",uc="popper",JT="reference",zy=$s.reduce(function(n,e){return n.concat([e+"-"+Fi,e+"-"+$o])},[]),wf=[].concat($s,[vf]).reduce(function(n,e){return n.concat([e,e+"-"+Fi,e+"-"+$o])},[]),nO="beforeRead",rO="read",iO="afterRead",sO="beforeMain",oO="main",aO="afterMain",cO="beforeWrite",lO="write",uO="afterWrite",XT=[nO,rO,iO,sO,oO,aO,cO,lO,uO];function Ht(n){return n?(n.nodeName||"").toLowerCase():null}function dt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Tr(n){var e=dt(n).Element;return n instanceof e||n instanceof Element}function Bt(n){var e=dt(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function lu(n){if(typeof ShadowRoot>"u")return!1;var e=dt(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function RG(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Bt(s)||!Ht(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function xG(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=a.reduce(function(l,h){return l[h]="",l},{});!Bt(i)||!Ht(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var uu={name:"applyStyles",enabled:!0,phase:"write",fn:RG,effect:xG,requires:["computeStyles"]};function Gt(n){return n.split("-")[0]}var ai=Math.max,dc=Math.min,qs=Math.round;function du(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function If(){return!/^((?!chrome|android).)*safari/i.test(du())}function Cr(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Bt(n)&&(i=n.offsetWidth>0&&qs(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&qs(r.height)/n.offsetHeight||1);var a=Tr(n)?dt(n):window,c=a.visualViewport,l=!If()&&t,h=(r.left+(l&&c?c.offsetLeft:0))/i,f=(r.top+(l&&c?c.offsetTop:0))/s,g=r.width/i,I=r.height/s;return{width:g,height:I,top:f,right:h+g,bottom:f+I,left:h,x:h,y:f}}function hc(n){var e=Cr(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function bf(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&lu(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Rn(n){return dt(n).getComputedStyle(n)}function ZT(n){return["table","td","th"].indexOf(Ht(n))>=0}function en(n){return((Tr(n)?n.ownerDocument:n.document)||window.document).documentElement}function zs(n){return Ht(n)==="html"?n:n.assignedSlot||n.parentNode||(lu(n)?n.host:null)||en(n)}function dO(n){return!Bt(n)||Rn(n).position==="fixed"?null:n.offsetParent}function NG(n){var e=/firefox/i.test(du()),t=/Trident/i.test(du());if(t&&Bt(n)){var r=Rn(n);if(r.position==="fixed")return null}var i=zs(n);for(lu(i)&&(i=i.host);Bt(i)&&["html","body"].indexOf(Ht(i))<0;){var s=Rn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function ci(n){for(var e=dt(n),t=dO(n);t&&ZT(t)&&Rn(t).position==="static";)t=dO(t);return t&&(Ht(t)==="html"||Ht(t)==="body"&&Rn(t).position==="static")?e:t||NG(n)||e}function fc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function pc(n,e,t){return ai(n,dc(e,t))}function hO(n,e,t){var r=pc(n,e,t);return r>t?t:r}function Tf(){return{top:0,right:0,bottom:0,left:0}}function Cf(n){return Object.assign({},Tf(),n)}function Df(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var PG=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Cf(typeof e!="number"?e:Df(e,$s))};function MG(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,c=Gt(t.placement),l=fc(c),h=[wt,bt].indexOf(c)>=0,f=h?"height":"width";if(!(!s||!a)){var g=PG(i.padding,t),I=hc(s),T=l==="y"?yt:wt,x=l==="y"?Pt:bt,M=t.rects.reference[f]+t.rects.reference[l]-a[l]-t.rects.popper[f],P=a[l]-t.rects.reference[l],V=ci(s),L=V?l==="y"?V.clientHeight||0:V.clientWidth||0:0,F=M/2-P/2,$=g[T],Y=L-I[f]-g[x],z=L/2-I[f]/2+F,E=pc($,z,Y),m=l;t.modifiersData[r]=(e={},e[m]=E,e.centerOffset=E-z,e)}}function OG(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||bf(e.elements.popper,i)&&(e.elements.arrow=i))}var Hy={name:"arrow",enabled:!0,phase:"main",fn:MG,effect:OG,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dr(n){return n.split("-")[1]}var kG={top:"auto",right:"auto",bottom:"auto",left:"auto"};function VG(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:qs(t*i)/i||0,y:qs(r*i)/i||0}}function fO(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,a=n.offsets,c=n.position,l=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,g=n.isFixed,I=a.x,T=I===void 0?0:I,x=a.y,M=x===void 0?0:x,P=typeof f=="function"?f({x:T,y:M}):{x:T,y:M};T=P.x,M=P.y;var V=a.hasOwnProperty("x"),L=a.hasOwnProperty("y"),F=wt,$=yt,Y=window;if(h){var z=ci(t),E="clientHeight",m="clientWidth";if(z===dt(t)&&(z=en(t),Rn(z).position!=="static"&&c==="absolute"&&(E="scrollHeight",m="scrollWidth")),z=z,i===yt||(i===wt||i===bt)&&s===$o){$=Pt;var _=g&&z===Y&&Y.visualViewport?Y.visualViewport.height:z[E];M-=_-r.height,M*=l?1:-1}if(i===wt||(i===yt||i===Pt)&&s===$o){F=bt;var v=g&&z===Y&&Y.visualViewport?Y.visualViewport.width:z[m];T-=v-r.width,T*=l?1:-1}}var w=Object.assign({position:c},h&&kG),C=f===!0?VG({x:T,y:M},dt(t)):{x:T,y:M};if(T=C.x,M=C.y,l){var y;return Object.assign({},w,(y={},y[$]=L?"0":"",y[F]=V?"0":"",y.transform=(Y.devicePixelRatio||1)<=1?"translate("+T+"px, "+M+"px)":"translate3d("+T+"px, "+M+"px, 0)",y))}return Object.assign({},w,(e={},e[$]=L?M+"px":"",e[F]=V?T+"px":"",e.transform="",e))}function FG(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,a=s===void 0?!0:s,c=t.roundOffsets,l=c===void 0?!0:c,h={placement:Gt(e.placement),variation:Dr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fO(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fO(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var hu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:FG,data:{}};var Gy={passive:!0};function LG(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,l=dt(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(f){f.addEventListener("scroll",t.update,Gy)}),c&&l.addEventListener("resize",t.update,Gy),function(){s&&h.forEach(function(f){f.removeEventListener("scroll",t.update,Gy)}),c&&l.removeEventListener("resize",t.update,Gy)}}var fu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LG,data:{}};var UG={left:"right",right:"left",bottom:"top",top:"bottom"};function pu(n){return n.replace(/left|right|bottom|top/g,function(e){return UG[e]})}var jG={start:"end",end:"start"};function Wy(n){return n.replace(/start|end/g,function(e){return jG[e]})}function mc(n){var e=dt(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function gc(n){return Cr(en(n)).left+mc(n).scrollLeft}function eC(n,e){var t=dt(n),r=en(n),i=t.visualViewport,s=r.clientWidth,a=r.clientHeight,c=0,l=0;if(i){s=i.width,a=i.height;var h=If();(h||!h&&e==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:c+gc(n),y:l}}function tC(n){var e,t=en(n),r=mc(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=ai(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ai(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+gc(n),l=-r.scrollTop;return Rn(i||t).direction==="rtl"&&(c+=ai(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:l}}function yc(n){var e=Rn(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function Ky(n){return["html","body","#document"].indexOf(Ht(n))>=0?n.ownerDocument.body:Bt(n)&&yc(n)?n:Ky(zs(n))}function qo(n,e){var t;e===void 0&&(e=[]);var r=Ky(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=dt(r),a=i?[s].concat(s.visualViewport||[],yc(r)?r:[]):r,c=e.concat(a);return i?c:c.concat(qo(zs(a)))}function mu(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function BG(n,e){var t=Cr(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function pO(n,e,t){return e===Ef?mu(eC(n,t)):Tr(e)?BG(e,t):mu(tC(en(n)))}function $G(n){var e=qo(zs(n)),t=["absolute","fixed"].indexOf(Rn(n).position)>=0,r=t&&Bt(n)?ci(n):n;return Tr(r)?e.filter(function(i){return Tr(i)&&bf(i,r)&&Ht(i)!=="body"}):[]}function nC(n,e,t,r){var i=e==="clippingParents"?$G(n):[].concat(e),s=[].concat(i,[t]),a=s[0],c=s.reduce(function(l,h){var f=pO(n,h,r);return l.top=ai(f.top,l.top),l.right=dc(f.right,l.right),l.bottom=dc(f.bottom,l.bottom),l.left=ai(f.left,l.left),l},pO(n,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Af(n){var e=n.reference,t=n.element,r=n.placement,i=r?Gt(r):null,s=r?Dr(r):null,a=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,l;switch(i){case yt:l={x:a,y:e.y-t.height};break;case Pt:l={x:a,y:e.y+e.height};break;case bt:l={x:e.x+e.width,y:c};break;case wt:l={x:e.x-t.width,y:c};break;default:l={x:e.x,y:e.y}}var h=i?fc(i):null;if(h!=null){var f=h==="y"?"height":"width";switch(s){case Fi:l[h]=l[h]-(e[f]/2-t[f]/2);break;case $o:l[h]=l[h]+(e[f]/2-t[f]/2);break;default:}}return l}function xn(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,a=s===void 0?n.strategy:s,c=t.boundary,l=c===void 0?YT:c,h=t.rootBoundary,f=h===void 0?Ef:h,g=t.elementContext,I=g===void 0?uc:g,T=t.altBoundary,x=T===void 0?!1:T,M=t.padding,P=M===void 0?0:M,V=Cf(typeof P!="number"?P:Df(P,$s)),L=I===uc?JT:uc,F=n.rects.popper,$=n.elements[x?L:I],Y=nC(Tr($)?$:$.contextElement||en(n.elements.popper),l,f,a),z=Cr(n.elements.reference),E=Af({reference:z,element:F,strategy:"absolute",placement:i}),m=mu(Object.assign({},F,E)),_=I===uc?m:z,v={top:Y.top-_.top+V.top,bottom:_.bottom-Y.bottom+V.bottom,left:Y.left-_.left+V.left,right:_.right-Y.right+V.right},w=n.modifiersData.offset;if(I===uc&&w){var C=w[i];Object.keys(v).forEach(function(y){var nt=[bt,Pt].indexOf(y)>=0?1:-1,Mt=[yt,Pt].indexOf(y)>=0?"y":"x";v[y]+=C[Mt]*nt})}return v}function rC(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,a=t.padding,c=t.flipVariations,l=t.allowedAutoPlacements,h=l===void 0?wf:l,f=Dr(r),g=f?c?zy:zy.filter(function(x){return Dr(x)===f}):$s,I=g.filter(function(x){return h.indexOf(x)>=0});I.length===0&&(I=g);var T=I.reduce(function(x,M){return x[M]=xn(n,{placement:M,boundary:i,rootBoundary:s,padding:a})[Gt(M)],x},{});return Object.keys(T).sort(function(x,M){return T[x]-T[M]})}function qG(n){if(Gt(n)===vf)return[];var e=pu(n);return[Wy(n),e,Wy(e)]}function zG(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!0:a,l=t.fallbackPlacements,h=t.padding,f=t.boundary,g=t.rootBoundary,I=t.altBoundary,T=t.flipVariations,x=T===void 0?!0:T,M=t.allowedAutoPlacements,P=e.options.placement,V=Gt(P),L=V===P,F=l||(L||!x?[pu(P)]:qG(P)),$=[P].concat(F).reduce(function(hi,Tt){return hi.concat(Gt(Tt)===vf?rC(e,{placement:Tt,boundary:f,rootBoundary:g,padding:h,flipVariations:x,allowedAutoPlacements:M}):Tt)},[]),Y=e.rects.reference,z=e.rects.popper,E=new Map,m=!0,_=$[0],v=0;v<$.length;v++){var w=$[v],C=Gt(w),y=Dr(w)===Fi,nt=[yt,Pt].indexOf(C)>=0,Mt=nt?"width":"height",Wt=xn(e,{placement:w,boundary:f,rootBoundary:g,altBoundary:I,padding:h}),ht=nt?y?bt:wt:y?Pt:yt;Y[Mt]>z[Mt]&&(ht=pu(ht));var sn=pu(ht),mn=[];if(s&&mn.push(Wt[C]<=0),c&&mn.push(Wt[ht]<=0,Wt[sn]<=0),mn.every(function(hi){return hi})){_=w,m=!1;break}E.set(w,mn)}if(m)for(var di=x?3:1,ca=function(Tt){var $i=$.find(function(on){var Nr=E.get(on);if(Nr)return Nr.slice(0,Tt).every(function(la){return la})});if($i)return _=$i,"break"},ft=di;ft>0;ft--){var Ce=ca(ft);if(Ce==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}var Qy={name:"flip",enabled:!0,phase:"main",fn:zG,requiresIfExists:["offset"],data:{_skip:!1}};function mO(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function gO(n){return[yt,bt,Pt,wt].some(function(e){return n[e]>=0})}function HG(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=xn(e,{elementContext:"reference"}),c=xn(e,{altBoundary:!0}),l=mO(a,r),h=mO(c,i,s),f=gO(l),g=gO(h);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}var Yy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:HG};function GG(n,e,t){var r=Gt(n),i=[wt,yt].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],c=s[1];return a=a||0,c=(c||0)*i,[wt,bt].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function WG(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,a=wf.reduce(function(f,g){return f[g]=GG(g,e.rects,s),f},{}),c=a[e.placement],l=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=a}var Jy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:WG};function KG(n){var e=n.state,t=n.name;e.modifiersData[t]=Af({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var gu={name:"popperOffsets",enabled:!0,phase:"read",fn:KG,data:{}};function iC(n){return n==="x"?"y":"x"}function QG(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!1:a,l=t.boundary,h=t.rootBoundary,f=t.altBoundary,g=t.padding,I=t.tether,T=I===void 0?!0:I,x=t.tetherOffset,M=x===void 0?0:x,P=xn(e,{boundary:l,rootBoundary:h,padding:g,altBoundary:f}),V=Gt(e.placement),L=Dr(e.placement),F=!L,$=fc(V),Y=iC($),z=e.modifiersData.popperOffsets,E=e.rects.reference,m=e.rects.popper,_=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,v=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),w=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,C={x:0,y:0};if(z){if(s){var y,nt=$==="y"?yt:wt,Mt=$==="y"?Pt:bt,Wt=$==="y"?"height":"width",ht=z[$],sn=ht+P[nt],mn=ht-P[Mt],di=T?-m[Wt]/2:0,ca=L===Fi?E[Wt]:m[Wt],ft=L===Fi?-m[Wt]:-E[Wt],Ce=e.elements.arrow,hi=T&&Ce?hc(Ce):{width:0,height:0},Tt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Tf(),$i=Tt[nt],on=Tt[Mt],Nr=pc(0,E[Wt],hi[Wt]),la=F?E[Wt]/2-di-Nr-$i-v.mainAxis:ca-Nr-$i-v.mainAxis,Pr=F?-E[Wt]/2+di+Nr+on+v.mainAxis:ft+Nr+on+v.mainAxis,qn=e.elements.arrow&&ci(e.elements.arrow),qi=qn?$==="y"?qn.clientTop||0:qn.clientLeft||0:0,fi=(y=w?.[$])!=null?y:0,zi=ht+la-fi-qi,Hi=ht+Pr-fi,ro=pc(T?dc(sn,zi):sn,ht,T?ai(mn,Hi):mn);z[$]=ro,C[$]=ro-ht}if(c){var io,$u=$==="x"?yt:wt,ua=$==="x"?Pt:bt,zn=z[Y],ur=Y==="y"?"height":"width",so=zn+P[$u],Lc=zn-P[ua],Mr=[yt,wt].indexOf(V)!==-1,pi=(io=w?.[Y])!=null?io:0,mi=Mr?so:zn-E[ur]-m[ur]-pi+v.altAxis,Re=Mr?zn+E[ur]+m[ur]-pi-v.altAxis:Lc,ke=T&&Mr?hO(mi,zn,Re):pc(T?mi:so,zn,T?Re:Lc);z[Y]=ke,C[Y]=ke-zn}e.modifiersData[r]=C}}var Xy={name:"preventOverflow",enabled:!0,phase:"main",fn:QG,requiresIfExists:["offset"]};function sC(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function oC(n){return n===dt(n)||!Bt(n)?mc(n):sC(n)}function YG(n){var e=n.getBoundingClientRect(),t=qs(e.width)/n.offsetWidth||1,r=qs(e.height)/n.offsetHeight||1;return t!==1||r!==1}function aC(n,e,t){t===void 0&&(t=!1);var r=Bt(e),i=Bt(e)&&YG(e),s=en(e),a=Cr(n,i,t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((Ht(e)!=="body"||yc(s))&&(c=oC(e)),Bt(e)?(l=Cr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=gc(s))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function JG(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!t.has(c)){var l=e.get(c);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function cC(n){var e=JG(n);return XT.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function lC(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function uC(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var yO={placement:"bottom",modifiers:[],strategy:"absolute"};function _O(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _c(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?yO:i;return function(c,l,h){h===void 0&&(h=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},yO,s),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},g=[],I=!1,T={state:f,setOptions:function(V){var L=typeof V=="function"?V(f.options):V;M(),f.options=Object.assign({},s,f.options,L),f.scrollParents={reference:Tr(c)?qo(c):c.contextElement?qo(c.contextElement):[],popper:qo(l)};var F=cC(uC([].concat(r,f.options.modifiers)));return f.orderedModifiers=F.filter(function($){return $.enabled}),x(),T.update()},forceUpdate:function(){if(!I){var V=f.elements,L=V.reference,F=V.popper;if(_O(L,F)){f.rects={reference:aC(L,ci(F),f.options.strategy==="fixed"),popper:hc(F)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(v){return f.modifiersData[v.name]=Object.assign({},v.data)});for(var $=0;$<f.orderedModifiers.length;$++){if(f.reset===!0){f.reset=!1,$=-1;continue}var Y=f.orderedModifiers[$],z=Y.fn,E=Y.options,m=E===void 0?{}:E,_=Y.name;typeof z=="function"&&(f=z({state:f,options:m,name:_,instance:T})||f)}}}},update:lC(function(){return new Promise(function(P){T.forceUpdate(),P(f)})}),destroy:function(){M(),I=!0}};if(!_O(c,l))return T;T.setOptions(h).then(function(P){!I&&h.onFirstUpdate&&h.onFirstUpdate(P)});function x(){f.orderedModifiers.forEach(function(P){var V=P.name,L=P.options,F=L===void 0?{}:L,$=P.effect;if(typeof $=="function"){var Y=$({state:f,name:V,instance:T,options:F}),z=function(){};g.push(Y||z)}})}function M(){g.forEach(function(P){return P()}),g=[]}return T}}var vO=_c();var XG=[fu,gu,hu,uu],EO=_c({defaultModifiers:XG});var ZG=[fu,gu,hu,uu,Jy,Qy,Xy,Hy,Yy],Sf=_c({defaultModifiers:ZG});var zo=new Map,dC={set(n,e,t){zo.has(n)||zo.set(n,new Map);let r=zo.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return zo.has(n)&&zo.get(n).get(e)||null},remove(n,e){if(!zo.has(n))return;let t=zo.get(n);t.delete(e),t.size===0&&zo.delete(n)}},e6=1e6,t6=1e3,DC="transitionend",QO=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),n6=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),r6=n=>{do n+=Math.floor(Math.random()*e6);while(document.getElementById(n));return n},i6=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n),r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*t6)},YO=n=>{n.dispatchEvent(new Event(DC))},Hs=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ho=n=>Hs(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(QO(n)):null,Tu=n=>{if(!Hs(n)||n.getClientRects().length===0)return!1;let e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){let r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Go=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",JO=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){let e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?JO(n.parentNode):null},c_=()=>{},Mf=n=>{n.offsetHeight},XO=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,hC=[],s6=n=>{document.readyState==="loading"?(hC.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of hC)e()}),hC.push(n)):n()},Ar=()=>document.documentElement.dir==="rtl",Rr=n=>{s6(()=>{let e=XO();if(e){let t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Bn=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,ZO=(n,e,t=!0)=>{if(!t){Bn(n);return}let i=i6(e)+5,s=!1,a=({target:c})=>{c===e&&(s=!0,e.removeEventListener(DC,a),Bn(n))};e.addEventListener(DC,a),setTimeout(()=>{s||YO(e)},i)},NC=(n,e,t,r)=>{let i=n.length,s=n.indexOf(e);return s===-1?!t&&r?n[i-1]:n[0]:(s+=t?1:-1,r&&(s=(s+i)%i),n[Math.max(0,Math.min(s,i-1))])},o6=/[^.]*(?=\..*)\.|.*/,a6=/\..*/,c6=/::\d+$/,fC={},wO=1,ek={mouseenter:"mouseover",mouseleave:"mouseout"},l6=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function tk(n,e){return e&&`${e}::${wO++}`||n.uidEvent||wO++}function nk(n){let e=tk(n);return n.uidEvent=e,fC[e]=fC[e]||{},fC[e]}function u6(n,e){return function t(r){return PC(r,{delegateTarget:n}),t.oneOff&&j.off(n,r.type,e),e.apply(n,[r])}}function d6(n,e,t){return function r(i){let s=n.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(let c of s)if(c===a)return PC(i,{delegateTarget:a}),r.oneOff&&j.off(n,i.type,e,t),t.apply(a,[i])}}function rk(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function ik(n,e,t){let r=typeof e=="string",i=r?t:e||t,s=sk(n);return l6.has(s)||(s=n),[r,i,s]}function IO(n,e,t,r,i){if(typeof e!="string"||!n)return;let[s,a,c]=ik(e,t,r);e in ek&&(a=(x=>function(M){if(!M.relatedTarget||M.relatedTarget!==M.delegateTarget&&!M.delegateTarget.contains(M.relatedTarget))return x.call(this,M)})(a));let l=nk(n),h=l[c]||(l[c]={}),f=rk(h,a,s?t:null);if(f){f.oneOff=f.oneOff&&i;return}let g=tk(a,e.replace(o6,"")),I=s?d6(n,t,a):u6(n,a);I.delegationSelector=s?t:null,I.callable=a,I.oneOff=i,I.uidEvent=g,h[g]=I,n.addEventListener(c,I,s)}function AC(n,e,t,r,i){let s=rk(e[t],r,i);s&&(n.removeEventListener(t,s,!!i),delete e[t][s.uidEvent])}function h6(n,e,t,r){let i=e[t]||{};for(let[s,a]of Object.entries(i))s.includes(r)&&AC(n,e,t,a.callable,a.delegationSelector)}function sk(n){return n=n.replace(a6,""),ek[n]||n}var j={on(n,e,t,r){IO(n,e,t,r,!1)},one(n,e,t,r){IO(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;let[i,s,a]=ik(e,t,r),c=a!==e,l=nk(n),h=l[a]||{},f=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(h).length)return;AC(n,l,a,s,i?t:null);return}if(f)for(let g of Object.keys(l))h6(n,l,g,e.slice(1));for(let[g,I]of Object.entries(h)){let T=g.replace(c6,"");(!c||e.includes(T))&&AC(n,l,a,I.callable,I.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;let r=XO(),i=sk(e),s=e!==i,a=null,c=!0,l=!0,h=!1;s&&r&&(a=r.Event(e,t),r(n).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());let f=PC(new Event(e,{bubbles:c,cancelable:!0}),t);return h&&f.preventDefault(),l&&n.dispatchEvent(f),f.defaultPrevented&&a&&a.preventDefault(),f}};function PC(n,e={}){for(let[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function bO(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function pC(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var Gs={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${pC(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${pC(e)}`)},getDataAttributes(n){if(!n)return{};let e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=bO(n.dataset[r])}return e},getDataAttribute(n,e){return bO(n.getAttribute(`data-bs-${pC(e)}`))}},wc=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let r=Hs(t)?Gs.getDataAttribute(t,"config"):{};return q(q(q(q({},this.constructor.Default),typeof r=="object"?r:{}),Hs(t)?Gs.getDataAttributes(t):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[r,i]of Object.entries(t)){let s=e[r],a=Hs(s)?"element":n6(s);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}},f6="5.3.3",cr=class extends wc{constructor(e,t){super(),e=Ho(e),e&&(this._element=e,this._config=this._getConfig(t),dC.set(this._element,this.constructor.DATA_KEY,this))}dispose(){dC.remove(this._element,this.constructor.DATA_KEY),j.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){ZO(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return dC.get(Ho(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return f6}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},mC=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>QO(t)).join(","):null},ie={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){let t=[],r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Go(t)&&Tu(t))},getSelectorFromElement(n){let e=mC(n);return e&&ie.findOne(e)?e:null},getElementFromSelector(n){let e=mC(n);return e?ie.findOne(e):null},getMultipleElementsFromSelector(n){let e=mC(n);return e?ie.find(e):[]}},__=(n,e="hide")=>{let t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;j.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Go(this))return;let s=ie.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(s)[e]()})},p6="alert",m6="bs.alert",ok=`.${m6}`,g6=`close${ok}`,y6=`closed${ok}`,_6="fade",v6="show",l_=class n extends cr{static get NAME(){return p6}close(){if(j.trigger(this._element,g6).defaultPrevented)return;this._element.classList.remove(v6);let t=this._element.classList.contains(_6);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),j.trigger(this._element,y6),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};__(l_,"close");Rr(l_);var E6="button",w6="bs.button",I6=`.${w6}`,b6=".data-api",T6="active",TO='[data-bs-toggle="button"]',C6=`click${I6}${b6}`,u_=class n extends cr{static get NAME(){return E6}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(T6))}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};j.on(document,C6,TO,n=>{n.preventDefault();let e=n.target.closest(TO);u_.getOrCreateInstance(e).toggle()});Rr(u_);var D6="swipe",Cu=".bs.swipe",A6=`touchstart${Cu}`,S6=`touchmove${Cu}`,R6=`touchend${Cu}`,x6=`pointerdown${Cu}`,N6=`pointerup${Cu}`,P6="touch",M6="pen",O6="pointer-event",k6=40,V6={endCallback:null,leftCallback:null,rightCallback:null},F6={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},d_=class n extends wc{constructor(e,t){super(),this._element=e,!(!e||!n.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return V6}static get DefaultType(){return F6}static get NAME(){return D6}dispose(){j.off(this._element,Cu)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Bn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=k6)return;let t=e/this._deltaX;this._deltaX=0,t&&Bn(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(j.on(this._element,x6,e=>this._start(e)),j.on(this._element,N6,e=>this._end(e)),this._element.classList.add(O6)):(j.on(this._element,A6,e=>this._start(e)),j.on(this._element,S6,e=>this._move(e)),j.on(this._element,R6,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===M6||e.pointerType===P6)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},L6="carousel",U6="bs.carousel",Qo=`.${U6}`,ak=".data-api",j6="ArrowLeft",B6="ArrowRight",$6=500,Rf="next",yu="prev",vu="left",o_="right",q6=`slide${Qo}`,gC=`slid${Qo}`,z6=`keydown${Qo}`,H6=`mouseenter${Qo}`,G6=`mouseleave${Qo}`,W6=`dragstart${Qo}`,K6=`load${Qo}${ak}`,Q6=`click${Qo}${ak}`,ck="carousel",e_="active",Y6="slide",J6="carousel-item-end",X6="carousel-item-start",Z6="carousel-item-next",e5="carousel-item-prev",lk=".active",uk=".carousel-item",t5=lk+uk,n5=".carousel-item img",r5=".carousel-indicators",i5="[data-bs-slide], [data-bs-slide-to]",s5='[data-bs-ride="carousel"]',o5={[j6]:o_,[B6]:vu},a5={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},c5={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},Ic=class n extends cr{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ie.findOne(r5,this._element),this._addEventListeners(),this._config.ride===ck&&this.cycle()}static get Default(){return a5}static get DefaultType(){return c5}static get NAME(){return L6}next(){this._slide(Rf)}nextWhenVisible(){!document.hidden&&Tu(this._element)&&this.next()}prev(){this._slide(yu)}pause(){this._isSliding&&YO(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){j.one(this._element,gC,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){j.one(this._element,gC,()=>this.to(e));return}let r=this._getItemIndex(this._getActive());if(r===e)return;let i=e>r?Rf:yu;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&j.on(this._element,z6,e=>this._keydown(e)),this._config.pause==="hover"&&(j.on(this._element,H6,()=>this.pause()),j.on(this._element,G6,()=>this._maybeEnableCycle())),this._config.touch&&d_.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let r of ie.find(n5,this._element))j.on(r,W6,i=>i.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(vu)),rightCallback:()=>this._slide(this._directionToOrder(o_)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),$6+this._config.interval))}};this._swipeHelper=new d_(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=o5[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=ie.findOne(lk,this._indicatorsElement);t.classList.remove(e_),t.removeAttribute("aria-current");let r=ie.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(e_),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let r=this._getActive(),i=e===Rf,s=t||NC(this._getItems(),r,i,this._config.wrap);if(s===r)return;let a=this._getItemIndex(s),c=T=>j.trigger(this._element,T,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(c(q6).defaultPrevented||!r||!s)return;let h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;let f=i?X6:J6,g=i?Z6:e5;s.classList.add(g),Mf(s),r.classList.add(f),s.classList.add(f);let I=()=>{s.classList.remove(f,g),s.classList.add(e_),r.classList.remove(e_,g,f),this._isSliding=!1,c(gC)};this._queueCallback(I,r,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(Y6)}_getActive(){return ie.findOne(t5,this._element)}_getItems(){return ie.find(uk,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ar()?e===vu?yu:Rf:e===vu?Rf:yu}_orderToDirection(e){return Ar()?e===yu?vu:o_:e===yu?o_:vu}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};j.on(document,Q6,i5,function(n){let e=ie.getElementFromSelector(this);if(!e||!e.classList.contains(ck))return;n.preventDefault();let t=Ic.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Gs.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});j.on(window,K6,()=>{let n=ie.find(s5);for(let e of n)Ic.getOrCreateInstance(e)});Rr(Ic);var l5="collapse",u5="bs.collapse",Of=`.${u5}`,d5=".data-api",h5=`show${Of}`,f5=`shown${Of}`,p5=`hide${Of}`,m5=`hidden${Of}`,g5=`click${Of}${d5}`,yC="show",wu="collapse",t_="collapsing",y5="collapsed",_5=`:scope .${wu} .${wu}`,v5="collapse-horizontal",E5="width",w5="height",I5=".collapse.show, .collapse.collapsing",SC='[data-bs-toggle="collapse"]',b5={parent:null,toggle:!0},T5={parent:"(null|element)",toggle:"boolean"},h_=class n extends cr{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let r=ie.find(SC);for(let i of r){let s=ie.getSelectorFromElement(i),a=ie.find(s).filter(c=>c===this._element);s!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return b5}static get DefaultType(){return T5}static get NAME(){return l5}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(I5).filter(c=>c!==this._element).map(c=>n.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||j.trigger(this._element,h5).defaultPrevented)return;for(let c of e)c.hide();let r=this._getDimension();this._element.classList.remove(wu),this._element.classList.add(t_),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(t_),this._element.classList.add(wu,yC),this._element.style[r]="",j.trigger(this._element,f5)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||j.trigger(this._element,p5).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Mf(this._element),this._element.classList.add(t_),this._element.classList.remove(wu,yC);for(let i of this._triggerArray){let s=ie.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(t_),this._element.classList.add(wu),j.trigger(this._element,m5)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(yC)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ho(e.parent),e}_getDimension(){return this._element.classList.contains(v5)?E5:w5}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(SC);for(let t of e){let r=ie.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){let t=ie.find(_5,this._config.parent);return ie.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let r of e)r.classList.toggle(y5,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let r=n.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};j.on(document,g5,SC,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(let e of ie.getMultipleElementsFromSelector(this))h_.getOrCreateInstance(e,{toggle:!1}).toggle()});Rr(h_);var CO="dropdown",C5="bs.dropdown",bc=`.${C5}`,MC=".data-api",D5="Escape",DO="Tab",A5="ArrowUp",AO="ArrowDown",S5=2,R5=`hide${bc}`,x5=`hidden${bc}`,N5=`show${bc}`,P5=`shown${bc}`,dk=`click${bc}${MC}`,hk=`keydown${bc}${MC}`,M5=`keyup${bc}${MC}`,Eu="show",O5="dropup",k5="dropend",V5="dropstart",F5="dropup-center",L5="dropdown-center",vc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',U5=`${vc}.${Eu}`,a_=".dropdown-menu",j5=".navbar",B5=".navbar-nav",$5=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",q5=Ar()?"top-end":"top-start",z5=Ar()?"top-start":"top-end",H5=Ar()?"bottom-end":"bottom-start",G5=Ar()?"bottom-start":"bottom-end",W5=Ar()?"left-start":"right-start",K5=Ar()?"right-start":"left-start",Q5="top",Y5="bottom",J5={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},X5={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Wo=class n extends cr{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ie.next(this._element,a_)[0]||ie.prev(this._element,a_)[0]||ie.findOne(a_,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return J5}static get DefaultType(){return X5}static get NAME(){return CO}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Go(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!j.trigger(this._element,N5,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(B5))for(let r of[].concat(...document.body.children))j.on(r,"mouseover",c_);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Eu),this._element.classList.add(Eu),j.trigger(this._element,P5,e)}}hide(){if(Go(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!j.trigger(this._element,R5,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))j.off(r,"mouseover",c_);this._popper&&this._popper.destroy(),this._menu.classList.remove(Eu),this._element.classList.remove(Eu),this._element.setAttribute("aria-expanded","false"),Gs.removeDataAttribute(this._menu,"popper"),j.trigger(this._element,x5,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Hs(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${CO.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof Zy>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Hs(this._config.reference)?e=Ho(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=Sf(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Eu)}_getPlacement(){let e=this._parent;if(e.classList.contains(k5))return W5;if(e.classList.contains(V5))return K5;if(e.classList.contains(F5))return Q5;if(e.classList.contains(L5))return Y5;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(O5)?t?z5:q5:t?G5:H5}_detectNavbar(){return this._element.closest(j5)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Gs.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),q(q({},e),Bn(this._config.popperConfig,[e]))}_selectMenuItem({key:e,target:t}){let r=ie.find($5,this._menu).filter(i=>Tu(i));r.length&&NC(r,t,e===AO,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===S5||e.type==="keyup"&&e.key!==DO)return;let t=ie.find(U5);for(let r of t){let i=n.getInstance(r);if(!i||i._config.autoClose===!1)continue;let s=e.composedPath(),a=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===DO||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),r=e.key===D5,i=[A5,AO].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();let s=this.matches(vc)?this:ie.prev(this,vc)[0]||ie.next(this,vc)[0]||ie.findOne(vc,e.delegateTarget.parentNode),a=n.getOrCreateInstance(s);if(i){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}};j.on(document,hk,vc,Wo.dataApiKeydownHandler);j.on(document,hk,a_,Wo.dataApiKeydownHandler);j.on(document,dk,Wo.clearMenus);j.on(document,M5,Wo.clearMenus);j.on(document,dk,vc,function(n){n.preventDefault(),Wo.getOrCreateInstance(this).toggle()});Rr(Wo);var fk="backdrop",Z5="fade",SO="show",RO=`mousedown.bs.${fk}`,eW={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},tW={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},f_=class extends wc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return eW}static get DefaultType(){return tW}static get NAME(){return fk}show(e){if(!this._config.isVisible){Bn(e);return}this._append();let t=this._getElement();this._config.isAnimated&&Mf(t),t.classList.add(SO),this._emulateAnimation(()=>{Bn(e)})}hide(e){if(!this._config.isVisible){Bn(e);return}this._getElement().classList.remove(SO),this._emulateAnimation(()=>{this.dispose(),Bn(e)})}dispose(){this._isAppended&&(j.off(this._element,RO),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Z5),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ho(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),j.on(e,RO,()=>{Bn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){ZO(e,this._getElement(),this._config.isAnimated)}},nW="focustrap",rW="bs.focustrap",p_=`.${rW}`,iW=`focusin${p_}`,sW=`keydown.tab${p_}`,oW="Tab",aW="forward",xO="backward",cW={autofocus:!0,trapElement:null},lW={autofocus:"boolean",trapElement:"element"},m_=class extends wc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return cW}static get DefaultType(){return lW}static get NAME(){return nW}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),j.off(document,p_),j.on(document,iW,e=>this._handleFocusin(e)),j.on(document,sW,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,j.off(document,p_))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let r=ie.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===xO?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===oW&&(this._lastTabNavDirection=e.shiftKey?xO:aW)}},NO=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",PO=".sticky-top",n_="padding-right",MO="margin-right",Nf=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,n_,t=>t+e),this._setElementAttributes(NO,n_,t=>t+e),this._setElementAttributes(PO,MO,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,n_),this._resetElementAttributes(NO,n_),this._resetElementAttributes(PO,MO)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){let i=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,t);let c=window.getComputedStyle(a).getPropertyValue(t);a.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,t){let r=e.style.getPropertyValue(t);r&&Gs.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){let r=i=>{let s=Gs.getDataAttribute(i,t);if(s===null){i.style.removeProperty(t);return}Gs.removeDataAttribute(i,t),i.style.setProperty(t,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Hs(e)){t(e);return}for(let r of ie.find(e,this._element))t(r)}},uW="modal",dW="bs.modal",Sr=`.${dW}`,hW=".data-api",fW="Escape",pW=`hide${Sr}`,mW=`hidePrevented${Sr}`,pk=`hidden${Sr}`,mk=`show${Sr}`,gW=`shown${Sr}`,yW=`resize${Sr}`,_W=`click.dismiss${Sr}`,vW=`mousedown.dismiss${Sr}`,EW=`keydown.dismiss${Sr}`,wW=`click${Sr}${hW}`,OO="modal-open",IW="fade",kO="show",_C="modal-static",bW=".modal.show",TW=".modal-dialog",CW=".modal-body",DW='[data-bs-toggle="modal"]',AW={backdrop:!0,focus:!0,keyboard:!0},SW={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},Iu=class n extends cr{constructor(e,t){super(e,t),this._dialog=ie.findOne(TW,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nf,this._addEventListeners()}static get Default(){return AW}static get DefaultType(){return SW}static get NAME(){return uW}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||j.trigger(this._element,mk,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(OO),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||j.trigger(this._element,pW).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(kO),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){j.off(window,Sr),j.off(this._dialog,Sr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new f_({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new m_({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=ie.findOne(CW,this._dialog);t&&(t.scrollTop=0),Mf(this._element),this._element.classList.add(kO);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,j.trigger(this._element,gW,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){j.on(this._element,EW,e=>{if(e.key===fW){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),j.on(window,yW,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),j.on(this._element,vW,e=>{j.one(this._element,_W,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(OO),this._resetAdjustments(),this._scrollBar.reset(),j.trigger(this._element,pk)})}_isAnimated(){return this._element.classList.contains(IW)}_triggerBackdropTransition(){if(j.trigger(this._element,mW).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(_C)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(_C),this._queueCallback(()=>{this._element.classList.remove(_C),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){let i=Ar()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){let i=Ar()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let r=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};j.on(document,wW,DW,function(n){let e=ie.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),j.one(e,mk,i=>{i.defaultPrevented||j.one(e,pk,()=>{Tu(this)&&this.focus()})});let t=ie.findOne(bW);t&&Iu.getInstance(t).hide(),Iu.getOrCreateInstance(e).toggle(this)});__(Iu);Rr(Iu);var RW="offcanvas",xW="bs.offcanvas",Ws=`.${xW}`,gk=".data-api",NW=`load${Ws}${gk}`,PW="Escape",VO="show",FO="showing",LO="hiding",MW="offcanvas-backdrop",yk=".offcanvas.show",OW=`show${Ws}`,kW=`shown${Ws}`,VW=`hide${Ws}`,UO=`hidePrevented${Ws}`,_k=`hidden${Ws}`,FW=`resize${Ws}`,LW=`click${Ws}${gk}`,UW=`keydown.dismiss${Ws}`,jW='[data-bs-toggle="offcanvas"]',BW={backdrop:!0,keyboard:!0,scroll:!1},$W={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},Ko=class n extends cr{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return BW}static get DefaultType(){return $W}static get NAME(){return RW}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||j.trigger(this._element,OW,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Nf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(FO);let r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(VO),this._element.classList.remove(FO),j.trigger(this._element,kW,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||j.trigger(this._element,VW).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(LO),this._backdrop.hide();let t=()=>{this._element.classList.remove(VO,LO),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Nf().reset(),j.trigger(this._element,_k)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){j.trigger(this._element,UO);return}this.hide()},t=!!this._config.backdrop;return new f_({className:MW,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new m_({trapElement:this._element})}_addEventListeners(){j.on(this._element,UW,e=>{if(e.key===PW){if(this._config.keyboard){this.hide();return}j.trigger(this._element,UO)}})}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};j.on(document,LW,jW,function(n){let e=ie.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Go(this))return;j.one(e,_k,()=>{Tu(this)&&this.focus()});let t=ie.findOne(yk);t&&t!==e&&Ko.getInstance(t).hide(),Ko.getOrCreateInstance(e).toggle(this)});j.on(window,NW,()=>{for(let n of ie.find(yk))Ko.getOrCreateInstance(n).show()});j.on(window,FW,()=>{for(let n of ie.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Ko.getOrCreateInstance(n).hide()});__(Ko);Rr(Ko);var qW=/^aria-[\w-]*$/i,vk={"*":["class","dir","id","lang","role",qW],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zW=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),HW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,GW=(n,e)=>{let t=n.nodeName.toLowerCase();return e.includes(t)?zW.has(t)?!!HW.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function WW(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);let i=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(let a of s){let c=a.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){a.remove();continue}let l=[].concat(...a.attributes),h=[].concat(e["*"]||[],e[c]||[]);for(let f of l)GW(f,h)||a.removeAttribute(f.nodeName)}return i.body.innerHTML}var KW="TemplateFactory",QW={allowList:vk,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},YW={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},JW={entry:"(string|element|function|null)",selector:"(string|element)"},RC=class extends wc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return QW}static get DefaultType(){return YW}static get NAME(){return KW}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=q(q({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);let t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},JW)}_setContent(e,t,r){let i=ie.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Hs(t)){this._putElementInTemplate(Ho(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?WW(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Bn(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},XW="tooltip",ZW=new Set(["sanitize","allowList","sanitizeFn"]),vC="fade",e8="modal",r_="show",t8=".tooltip-inner",jO=`.${e8}`,BO="hide.bs.modal",xf="hover",EC="focus",n8="click",r8="manual",i8="hide",s8="hidden",o8="show",a8="shown",c8="inserted",l8="click",u8="focusin",d8="focusout",h8="mouseenter",f8="mouseleave",p8={AUTO:"auto",TOP:"top",RIGHT:Ar()?"left":"right",BOTTOM:"bottom",LEFT:Ar()?"right":"left"},m8={allowList:vk,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},g8={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},bu=class n extends cr{constructor(e,t){if(typeof Zy>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return m8}static get DefaultType(){return g8}static get NAME(){return XW}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),j.off(this._element.closest(jO),BO,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=j.trigger(this._element,this.constructor.eventName(o8)),r=(JO(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),j.trigger(this._element,this.constructor.eventName(c8))),this._popper=this._createPopper(i),i.classList.add(r_),"ontouchstart"in document.documentElement)for(let c of[].concat(...document.body.children))j.on(c,"mouseover",c_);let a=()=>{j.trigger(this._element,this.constructor.eventName(a8)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||j.trigger(this._element,this.constructor.eventName(i8)).defaultPrevented)return;if(this._getTipElement().classList.remove(r_),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))j.off(i,"mouseover",c_);this._activeTrigger[n8]=!1,this._activeTrigger[EC]=!1,this._activeTrigger[xf]=!1,this._isHovered=null;let r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),j.trigger(this._element,this.constructor.eventName(s8)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(vC,r_),t.classList.add(`bs-${this.constructor.NAME}-auto`);let r=r6(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(vC),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new RC(ve(q({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[t8]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(vC)}_isShown(){return this.tip&&this.tip.classList.contains(r_)}_createPopper(e){let t=Bn(this._config.placement,[this,e,this._element]),r=p8[t.toUpperCase()];return Sf(this._element,e,this._getPopperConfig(r))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Bn(e,[this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return q(q({},t),Bn(this._config.popperConfig,[t]))}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")j.on(this._element,this.constructor.eventName(l8),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==r8){let r=t===xf?this.constructor.eventName(h8):this.constructor.eventName(u8),i=t===xf?this.constructor.eventName(f8):this.constructor.eventName(d8);j.on(this._element,r,this._config.selector,s=>{let a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?EC:xf]=!0,a._enter()}),j.on(this._element,i,this._config.selector,s=>{let a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?EC:xf]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},j.on(this._element.closest(jO),BO,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=Gs.getDataAttributes(this._element);for(let r of Object.keys(t))ZW.has(r)&&delete t[r];return e=q(q({},t),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ho(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Rr(bu);var y8="popover",_8=".popover-header",v8=".popover-body",E8=ve(q({},bu.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),w8=ve(q({},bu.DefaultType),{content:"(null|string|element|function)"}),xC=class n extends bu{static get Default(){return E8}static get DefaultType(){return w8}static get NAME(){return y8}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[_8]:this._getTitle(),[v8]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Rr(xC);var I8="scrollspy",b8="bs.scrollspy",OC=`.${b8}`,T8=".data-api",C8=`activate${OC}`,$O=`click${OC}`,D8=`load${OC}${T8}`,A8="dropdown-item",_u="active",S8='[data-bs-spy="scroll"]',wC="[href]",R8=".nav, .list-group",qO=".nav-link",x8=".nav-item",N8=".list-group-item",P8=`${qO}, ${x8} > ${qO}, ${N8}`,M8=".dropdown",O8=".dropdown-toggle",k8={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},V8={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},g_=class n extends cr{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return k8}static get DefaultType(){return V8}static get NAME(){return I8}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ho(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(j.off(this._config.target,$O),j.on(this._config.target,$O,wC,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(t(a))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(let a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}let c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(r(a),!i)return;continue}!s&&!c&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=ie.find(wC,this._config.target);for(let t of e){if(!t.hash||Go(t))continue;let r=ie.findOne(decodeURI(t.hash),this._element);Tu(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(_u),this._activateParents(e),j.trigger(this._element,C8,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(A8)){ie.findOne(O8,e.closest(M8)).classList.add(_u);return}for(let t of ie.parents(e,R8))for(let r of ie.prev(t,P8))r.classList.add(_u)}_clearActiveClass(e){e.classList.remove(_u);let t=ie.find(`${wC}.${_u}`,e);for(let r of t)r.classList.remove(_u)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};j.on(window,D8,()=>{for(let n of ie.find(S8))g_.getOrCreateInstance(n)});Rr(g_);var F8="tab",L8="bs.tab",Tc=`.${L8}`,U8=`hide${Tc}`,j8=`hidden${Tc}`,B8=`show${Tc}`,$8=`shown${Tc}`,q8=`click${Tc}`,z8=`keydown${Tc}`,H8=`load${Tc}`,G8="ArrowLeft",zO="ArrowRight",W8="ArrowUp",HO="ArrowDown",IC="Home",GO="End",Ec="active",WO="fade",bC="show",K8="dropdown",Ek=".dropdown-toggle",Q8=".dropdown-menu",TC=`:not(${Ek})`,Y8='.list-group, .nav, [role="tablist"]',J8=".nav-item, .list-group-item",X8=`.nav-link${TC}, .list-group-item${TC}, [role="tab"]${TC}`,wk='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',CC=`${X8}, ${wk}`,Z8=`.${Ec}[data-bs-toggle="tab"], .${Ec}[data-bs-toggle="pill"], .${Ec}[data-bs-toggle="list"]`,Pf=class n extends cr{constructor(e){super(e),this._parent=this._element.closest(Y8),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),j.on(this._element,z8,t=>this._keydown(t)))}static get NAME(){return F8}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),r=t?j.trigger(t,U8,{relatedTarget:e}):null;j.trigger(e,B8,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Ec),this._activate(ie.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(bC);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),j.trigger(e,$8,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(WO))}_deactivate(e,t){if(!e)return;e.classList.remove(Ec),e.blur(),this._deactivate(ie.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(bC);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),j.trigger(e,j8,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(WO))}_keydown(e){if(![G8,zO,W8,HO,IC,GO].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=this._getChildren().filter(i=>!Go(i)),r;if([IC,GO].includes(e.key))r=t[e.key===IC?0:t.length-1];else{let i=[zO,HO].includes(e.key);r=NC(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),n.getOrCreateInstance(r).show())}_getChildren(){return ie.find(CC,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=ie.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let r=this._getOuterElement(e);if(!r.classList.contains(K8))return;let i=(s,a)=>{let c=ie.findOne(s,r);c&&c.classList.toggle(a,t)};i(Ek,Ec),i(Q8,bC),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(Ec)}_getInnerElement(e){return e.matches(CC)?e:ie.findOne(CC,e)}_getOuterElement(e){return e.closest(J8)||e}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};j.on(document,q8,wk,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Go(this)&&Pf.getOrCreateInstance(this).show()});j.on(window,H8,()=>{for(let n of ie.find(Z8))Pf.getOrCreateInstance(n)});Rr(Pf);var eK="toast",tK="bs.toast",Yo=`.${tK}`,nK=`mouseover${Yo}`,rK=`mouseout${Yo}`,iK=`focusin${Yo}`,sK=`focusout${Yo}`,oK=`hide${Yo}`,aK=`hidden${Yo}`,cK=`show${Yo}`,lK=`shown${Yo}`,uK="fade",KO="hide",i_="show",s_="showing",dK={animation:"boolean",autohide:"boolean",delay:"number"},hK={animation:!0,autohide:!0,delay:5e3},y_=class n extends cr{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return hK}static get DefaultType(){return dK}static get NAME(){return eK}show(){if(j.trigger(this._element,cK).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(uK);let t=()=>{this._element.classList.remove(s_),j.trigger(this._element,lK),this._maybeScheduleHide()};this._element.classList.remove(KO),Mf(this._element),this._element.classList.add(i_,s_),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||j.trigger(this._element,oK).defaultPrevented)return;let t=()=>{this._element.classList.add(KO),this._element.classList.remove(s_,i_),j.trigger(this._element,aK)};this._element.classList.add(s_),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(i_),super.dispose()}isShown(){return this._element.classList.contains(i_)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){j.on(this._element,nK,e=>this._onInteraction(e,!0)),j.on(this._element,rK,e=>this._onInteraction(e,!1)),j.on(this._element,iK,e=>this._onInteraction(e,!0)),j.on(this._element,sK,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};__(y_);Rr(y_);function pK(n,e){if(n&1&&Se(0,"li",2),n&2){let t=e.$index;Fe("ngClass",t===0?"active":""),ch("data-bs-slide-to",t)}}function mK(n,e){if(n&1&&(S(0,"div",9),Se(1,"img",10),D()),n&2){let t=e.$implicit,r=e.$index;vl("active",r===0),k(),Fe("src",t,vm)}}var v_=class n{modelImgs=[];ngAfterViewInit(){let e=document.querySelector("#itemModelCarousel");if(e){let r=new Ic(e)}document.querySelectorAll(".carousel-control-prev, .carousel-control-next").forEach(r=>{r.addEventListener("click",i=>{i.preventDefault()})})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["model-carousel"]],inputs:{modelImgs:"modelImgs"},standalone:!0,features:[me],decls:11,vars:0,consts:[["id","itemModelCarousel","data-ride","carousel",1,"carousel","slide","m-4"],[1,"carousel-indicators"],["data-bs-target","#itemModelCarousel",3,"ngClass"],[1,"carousel-inner"],[1,"carousel-item",3,"active"],["type","button","data-bs-target","#itemModelCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["type","button","data-bs-target","#itemModelCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-item"],["alt","Carousel image",1,"d-block","w-100",3,"src"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"ol",1),Cn(2,pK,1,2,"li",2,Tn),D(),S(4,"div",3),Cn(5,mK,2,3,"div",4,Tn),D(),S(7,"button",5),Se(8,"span",6),D(),S(9,"button",7),Se(10,"span",8),D()()),t&2&&(k(2),Dn(r.modelImgs),k(3),Dn(r.modelImgs))},dependencies:[Cs,Gm],styles:["li[_ngcontent-%COMP%]{list-style-type:none}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fb2f38}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#2c52b3}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]{margin-left:.5rem}.carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{margin-right:.5rem}.carousel-item[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:100%;overflow:hidden}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain}"]})};var E_=class n{item;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["detail-info"]],inputs:{item:"item"},standalone:!0,features:[me],decls:39,vars:6,consts:[[1,"card","mt-5","mb-2"],[1,"item-body","m-2"],[1,"item-title","text-decoration-underline"],[1,"row","my-2"],[1,"col-sm-4","col-md-4","col-lg-4"],[1,"item-subtitle","mb-2","text-muted"],[1,"col-sm-8","col-md-8","col-lg-8"],[1,"item-subtitle","mb-2"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1)(2,"h1",2),N(3),D(),S(4,"div",3)(5,"div",4)(6,"h3",5),N(7,"Grade:"),D()(),S(8,"div",6)(9,"h3",7),N(10),D()()(),S(11,"div",3)(12,"div",4)(13,"h3",5),N(14,"Size:"),D()(),S(15,"div",6)(16,"h3",7),N(17),D()()(),S(18,"div",3)(19,"div",4)(20,"h3",5),N(21,"Price:"),D()(),S(22,"div",6)(23,"h3",7),N(24),D()()(),S(25,"div",3)(26,"div",4)(27,"h3",5),N(28,"P-Bandai:"),D()(),S(29,"div",6)(30,"h3",7),N(31),D()()(),S(32,"div",3)(33,"div",4)(34,"h3",5),N(35,"Release Date:"),D()(),S(36,"div",6)(37,"h3",7),N(38),D()()()()()),t&2&&(k(3),qe(r.item.name),k(7),qe(r.item.grade),k(7),qe(r.item.size),k(7),tr("$",r.item.price,""),k(7),qe(r.item.pbandai),k(7),qe(r.item.release))}})};var w_=class n{amount=new ct;count=1;decrement(){this.count>1&&(this.count=this.count-1)}increment(){this.count<3&&(this.count=this.count+1)}indicateAmount(){this.amount.emit(this.count)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["add-to-cart"]],outputs:{amount:"amount"},standalone:!0,features:[me],decls:15,vars:1,consts:[[1,"d-flex"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"btn","btn-primary",3,"click"],["aria-hidden","true"],[1,"page-link"],["aria-label","Next",1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"ul",1)(2,"li",2)(3,"button",3),fe("click",function(){return r.decrement()}),S(4,"span",4),N(5,"\xAB"),D()()(),S(6,"li",2)(7,"span",5),N(8),D()(),S(9,"li",2)(10,"button",6),fe("click",function(){return r.increment()}),S(11,"span",4),N(12,"\xBB"),D()()()(),S(13,"button",7),fe("click",function(){return r.indicateAmount()}),N(14," Add to Cart "),D()()),t&2&&(k(8),qe(r.count))},dependencies:[Er],styles:[".pagination[_ngcontent-%COMP%]{min-height:100%;margin-bottom:0;margin-right:1rem}.btn[_ngcontent-%COMP%]{min-width:30%}"]})};function gK(n,e){n&1&&(S(0,"div",2)(1,"h4",3),N(2,"Loading..."),D()())}function yK(n,e){if(n&1){let t=dn();S(0,"div",5),Se(1,"model-carousel",6),D(),S(2,"div",7),Se(3,"detail-info",8),S(4,"h4",9),N(5,"*Up to 3 per customer*"),D(),S(6,"add-to-cart",10),fe("amount",function(i){ln(t);let s=re(2);return un(s.addToCart(i))}),D()()}if(n&2){let t=re(2);k(),Fe("modelImgs",t.item.model),k(2),Fe("item",t.item)}}function _K(n,e){n&1&&(S(0,"h1",4),N(1,"There was an error fetching the item information."),D())}function vK(n,e){if(n&1&&K(0,yK,7,2)(1,_K,2,0,"h1",4),n&2){let t=re();G(t.item?0:1)}}var I_=class n{constructor(e,t){this.eventService=e;this.route=t}loading=!0;productId;item;addToCart(e){this.eventService.emit("addToCart",{item:this.item,amount:e})}ngOnInit(){return R(this,null,function*(){this.route.paramMap.subscribe(e=>{this.productId=e.get("productID")});try{let e=Sn(Zt,"products",this.productId),t=yield br(e);t.exists()?this.item=t.data():console.error("Item does not exist.")}catch(e){console.error("Error fetching document:",e)}finally{this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(H(lt),H(vr))};static \u0275cmp=pe({type:n,selectors:[["details-page"]],standalone:!0,features:[me],decls:4,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"d-flex","justify-content-center","align-items-center",2,"height","20vh"],[1,"mt-3"],[1,"col-sm-12","col-md-12","col-lg-12"],[1,"col-sm-4","col-md-4","col-lg-5"],[3,"modelImgs"],[1,"d-flex","flex-column","col-sm-8","col-md-8","col-lg-7"],[3,"item"],[1,"text-danger","italic","mb-4"],[3,"amount"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1),K(2,gK,3,0,"div",2)(3,vK,2,1),D()()),t&2&&(k(2),G(r.loading?2:3))},dependencies:[v_,E_,w_],styles:[".italic[_ngcontent-%COMP%]{font-style:italic}"]})};var Du=class{constructor(e="",t="",r="",i="",s="",a="",c="",l="",h="",f=""){this._fname=e;this._lname=t;this._email=r;this._card=i;this._expirationMonth=s;this._expirationYear=a;this._cvc=c;this._address=l;this._city=h;this._zipcode=f}get fname(){return this._fname}set fname(e){this._fname=e}get lname(){return this._lname}set lname(e){this._lname=e}get email(){return this._email}set email(e){this._email=e}get card(){return this._card}set card(e){this._card=e}get expirationMonth(){return this._expirationMonth}set expirationMonth(e){this._expirationMonth=e}get expirationYear(){return this._expirationYear}set expirationYear(e){this._expirationYear=e}get cvc(){return this._cvc}set cvc(e){this._cvc=e}get address(){return this._address}set address(e){this._address=e}get city(){return this._city}set city(e){this._city=e}get zipcode(){return this._zipcode}set zipcode(e){this._zipcode=e}};function Ik(n){let e=n.value;return!isNaN(Number(e))&&(e.length>=8||e.length===0)?null:{invalidPhoneNumber:!0}}function bk(n){let e=n.value;return e.length===16||e.length===0?null:{invalidCardNumber:!0}}function Tk(n){let e=n.value;return(e.length===4||e.length===0)&&!isNaN(Number(e))?null:{invalidExpirationYear:!0}}function Ck(n){let e=n.value;return(e.length===3||e.length===0)&&!isNaN(Number(e))?null:{invalidCVC:!0}}function b_(n){let e=n.value;return isNaN(Number(e))?{invalidZipCode:!0}:null}function Au(n){let e=n.value;return/[!@#$%^&*()\-+={}[\]:;"'<>,.?\/|\\]/.test(e)?{invalidAddress:!0}:null}function Dk(n){let e=n.value;return e.length>=8||e.length===0?null:{invalidPassword:!0}}function EK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function wK(n,e){if(n&1&&K(0,EK,2,0,"small",31),n&2){let t,r=re();G((t=r.paymentForm.get("firstName"))!=null&&t.hasError("required")?0:-1)}}function IK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function bK(n,e){if(n&1&&K(0,IK,2,0,"small",31),n&2){let t,r=re();G((t=r.paymentForm.get("lastName"))!=null&&t.hasError("required")?0:-1)}}function TK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function CK(n,e){n&1&&(S(0,"small",31),N(1,"Please enter a valid email address"),D())}function DK(n,e){if(n&1&&K(0,TK,2,0,"small",31)(1,CK,2,0,"small",31),n&2){let t,r,i=re();G((t=i.paymentForm.get("email"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.paymentForm.get("email"))!=null&&r.hasError("email")?1:-1)}}function AK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function SK(n,e){n&1&&(S(0,"small",31),N(1,"Please enter a valid Card Number"),D())}function RK(n,e){if(n&1&&K(0,AK,2,0,"small",31)(1,SK,2,0,"small",31),n&2){let t,r,i=re();G((t=i.paymentForm.get("cardNumber"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.paymentForm.get("cardNumber"))!=null&&r.hasError("invalidCardNumber")?1:-1)}}function xK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function NK(n,e){if(n&1&&K(0,xK,2,0,"small",31),n&2){let t,r=re();G((t=r.paymentForm.get("expirationMonth"))!=null&&t.hasError("required")?0:-1)}}function PK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function MK(n,e){n&1&&(S(0,"small",31),N(1,"Please enter a valid expiration year"),D())}function OK(n,e){if(n&1&&K(0,PK,2,0,"small",31)(1,MK,2,0,"small",31),n&2){let t,r,i=re();G((t=i.paymentForm.get("expirationYear"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.paymentForm.get("expirationYear"))!=null&&r.hasError("invalidExpirationYear")?1:-1)}}function kK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function VK(n,e){n&1&&(S(0,"small",31),N(1,"Please enter a valid CVC number"),D())}function FK(n,e){if(n&1&&K(0,kK,2,0,"small",31)(1,VK,2,0,"small",31),n&2){let t,r,i=re();G((t=i.paymentForm.get("cvc"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.paymentForm.get("cvc"))!=null&&r.hasError("invalidCVC")?1:-1)}}function LK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function UK(n,e){n&1&&(S(0,"small",31),N(1,"Please enter a valid address"),D())}function jK(n,e){if(n&1&&K(0,LK,2,0,"small",31)(1,UK,2,0,"small",31),n&2){let t,r,i=re();G((t=i.paymentForm.get("billingAddress"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.paymentForm.get("billingAddress"))!=null&&r.hasError("invalidAddress")?1:-1)}}function BK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function $K(n,e){n&1&&(S(0,"small",31),N(1,"Please enter a valid city"),D())}function qK(n,e){if(n&1&&K(0,BK,2,0,"small",31)(1,$K,2,0,"small",31),n&2){let t,r,i=re();G((t=i.paymentForm.get("city"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.paymentForm.get("city"))!=null&&r.hasError("invalidAddress")?1:-1)}}function zK(n,e){n&1&&(S(0,"small",31),N(1,"This field is required"),D())}function HK(n,e){n&1&&(S(0,"small",31),N(1,"Please enter a valid zipcode"),D())}function GK(n,e){if(n&1&&K(0,zK,2,0,"small",31)(1,HK,2,0,"small",31),n&2){let t,r,i=re();G((t=i.paymentForm.get("zipcode"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.paymentForm.get("zipcode"))!=null&&r.hasError("invalidZipCode")?1:-1)}}var T_=class n{constructor(e,t){this.router=e;this.eventService=t}billingInfo=new Du;paymentForm=new ri({firstName:new at("",et.required),lastName:new at("",et.required),email:new at("",[et.required,et.email]),cardNumber:new at("",[et.required,bk]),expirationMonth:new at("",et.required),expirationYear:new at("",[et.required,Tk]),cvc:new at("",[et.required,Ck]),billingAddress:new at("",[et.required,Au]),city:new at("",[et.required,Au]),zipcode:new at("",[et.required,b_])});submitForm(){let e=new Date;if(Number(this.billingInfo.expirationMonth)<=e.getMonth()&&Number(this.billingInfo.expirationYear)<=e.getFullYear()||Number(this.billingInfo.expirationYear)<e.getFullYear()){alert("Invalid expiration info");return}this.eventService.emit("checkoutInfo",this.billingInfo),this.router.navigate(["delivery"])}static \u0275fac=function(t){return new(t||n)(H(hn),H(lt))};static \u0275cmp=pe({type:n,selectors:[["checkout-page"]],standalone:!0,features:[me],decls:86,vars:22,consts:[[1,"container","pt-3",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","mb-2"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","lastName",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-2"],["type","email","formControlName","email",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","cardNumber",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-4","col-md-4","col-lg-4","mb-2"],["formControlName","expirationMonth",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","01"],["value","02"],["value","03"],["value","04"],["value","05"],["value","06"],["value","07"],["value","08"],["value","09"],["value","10"],["value","11"],["value","12"],["type","text","formControlName","expirationYear",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","cvc",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","billingAddress",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","city",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","zipcode",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(t&1&&(S(0,"form",0),fe("ngSubmit",function(s){return s.preventDefault(),r.submitForm()}),S(1,"h2",1),N(2,"Payment Info"),D(),S(3,"div",2)(4,"div",3)(5,"label",4),N(6,"First Name"),D(),S(7,"input",5),Ze("ngModelChange",function(s){return tt(r.billingInfo.fname,s)||(r.billingInfo.fname=s),s}),D(),K(8,wK,1,1),D(),S(9,"div",3)(10,"label",4),N(11,"Last Name"),D(),S(12,"input",6),Ze("ngModelChange",function(s){return tt(r.billingInfo.lname,s)||(r.billingInfo.lname=s),s}),D(),K(13,bK,1,1),D()(),S(14,"div",7)(15,"label",4),N(16,"Email Address"),D(),S(17,"input",8),Ze("ngModelChange",function(s){return tt(r.billingInfo.email,s)||(r.billingInfo.email=s),s}),D(),K(18,DK,2,2),D(),S(19,"div",7)(20,"label",4),N(21,"Card Number"),D(),S(22,"input",9),Ze("ngModelChange",function(s){return tt(r.billingInfo.card,s)||(r.billingInfo.card=s),s}),D(),K(23,RK,2,2),D(),S(24,"div",2)(25,"div",10)(26,"label",4),N(27,"Expiration Month"),D(),S(28,"select",11),Ze("ngModelChange",function(s){return tt(r.billingInfo.expirationMonth,s)||(r.billingInfo.expirationMonth=s),s}),S(29,"option",12),N(30,"-"),D(),S(31,"option",13),N(32,"01"),D(),S(33,"option",14),N(34,"02"),D(),S(35,"option",15),N(36,"03"),D(),S(37,"option",16),N(38,"04"),D(),S(39,"option",17),N(40,"05"),D(),S(41,"option",18),N(42,"06"),D(),S(43,"option",19),N(44,"07"),D(),S(45,"option",20),N(46,"08"),D(),S(47,"option",21),N(48,"09"),D(),S(49,"option",22),N(50,"10"),D(),S(51,"option",23),N(52,"11"),D(),S(53,"option",24),N(54,"12"),D()(),K(55,NK,1,1),D(),S(56,"div",10)(57,"label",4),N(58,"Expiration Year"),D(),S(59,"input",25),Ze("ngModelChange",function(s){return tt(r.billingInfo.expirationYear,s)||(r.billingInfo.expirationYear=s),s}),D(),K(60,OK,2,2),D(),S(61,"div",10)(62,"div",2)(63,"label",4),N(64,"CVC"),D(),S(65,"input",26),Ze("ngModelChange",function(s){return tt(r.billingInfo.cvc,s)||(r.billingInfo.cvc=s),s}),D(),K(66,FK,2,2),D()()(),S(67,"div",7)(68,"label",4),N(69,"Billing Address"),D(),S(70,"input",27),Ze("ngModelChange",function(s){return tt(r.billingInfo.address,s)||(r.billingInfo.address=s),s}),D(),K(71,jK,2,2),D(),S(72,"div",2)(73,"div",3)(74,"label",4),N(75,"City"),D(),S(76,"input",28),Ze("ngModelChange",function(s){return tt(r.billingInfo.city,s)||(r.billingInfo.city=s),s}),D(),K(77,qK,2,2),D(),S(78,"div",3)(79,"label",4),N(80,"Zip Code"),D(),S(81,"input",29),Ze("ngModelChange",function(s){return tt(r.billingInfo.zipcode,s)||(r.billingInfo.zipcode=s),s}),D(),K(82,GK,2,2),D()(),S(83,"div",7)(84,"button",30),N(85,"Pay"),D()()()),t&2){let i,s,a,c,l,h,f,g,I,T;Fe("formGroup",r.paymentForm),k(7),Xe("ngModel",r.billingInfo.fname),k(),G((i=r.paymentForm.get("firstName"))!=null&&i.invalid&&((i=r.paymentForm.get("firstName"))!=null&&i.dirty||(i=r.paymentForm.get("firstName"))!=null&&i.touched)?8:-1),k(4),Xe("ngModel",r.billingInfo.lname),k(),G((s=r.paymentForm.get("lastName"))!=null&&s.invalid&&((s=r.paymentForm.get("lastName"))!=null&&s.dirty||(s=r.paymentForm.get("lastName"))!=null&&s.touched)?13:-1),k(4),Xe("ngModel",r.billingInfo.email),k(),G((a=r.paymentForm.get("email"))!=null&&a.invalid&&((a=r.paymentForm.get("email"))!=null&&a.dirty||(a=r.paymentForm.get("email"))!=null&&a.touched)?18:-1),k(4),Xe("ngModel",r.billingInfo.card),k(),G((c=r.paymentForm.get("cardNumber"))!=null&&c.invalid&&((c=r.paymentForm.get("cardNumber"))!=null&&c.dirty||(c=r.paymentForm.get("cardNumber"))!=null&&c.touched)?23:-1),k(5),Xe("ngModel",r.billingInfo.expirationMonth),k(27),G((l=r.paymentForm.get("expirationMonth"))!=null&&l.invalid&&((l=r.paymentForm.get("expirationMonth"))!=null&&l.dirty||(l=r.paymentForm.get("expirationMonth"))!=null&&l.touched)?55:-1),k(4),Xe("ngModel",r.billingInfo.expirationYear),k(),G((h=r.paymentForm.get("expirationYear"))!=null&&h.invalid&&((h=r.paymentForm.get("expirationYear"))!=null&&h.dirty||(h=r.paymentForm.get("expirationYear"))!=null&&h.touched)?60:-1),k(5),Xe("ngModel",r.billingInfo.cvc),k(),G((f=r.paymentForm.get("cvc"))!=null&&f.invalid&&((f=r.paymentForm.get("cvc"))!=null&&f.dirty||(f=r.paymentForm.get("cvc"))!=null&&f.touched)?66:-1),k(4),Xe("ngModel",r.billingInfo.address),k(),G((g=r.paymentForm.get("billingAddress"))!=null&&g.invalid&&((g=r.paymentForm.get("billingAddress"))!=null&&g.dirty||(g=r.paymentForm.get("billingAddress"))!=null&&g.touched)?71:-1),k(5),Xe("ngModel",r.billingInfo.city),k(),G((I=r.paymentForm.get("city"))!=null&&I.invalid&&((I=r.paymentForm.get("city"))!=null&&I.dirty||(I=r.paymentForm.get("city"))!=null&&I.touched)?77:-1),k(4),Xe("ngModel",r.billingInfo.zipcode),k(),G((T=r.paymentForm.get("zipcode"))!=null&&T.invalid&&((T=r.paymentForm.get("zipcode"))!=null&&T.dirty||(T=r.paymentForm.get("zipcode"))!=null&&T.touched)?82:-1),k(2),Fe("disabled",r.paymentForm.invalid)}},dependencies:[kl,Mo,Mg,Og,Ai,Ol,Si,Po,Xa,Za,Er],styles:["h2[_ngcontent-%COMP%]{text-decoration:underline}"]})};var Su=class{constructor(e="",t="",r="",i="",s="",a="",c=""){this._fname=e;this._lname=t;this._email=r;this._phone=i;this._address=s;this._city=a;this._zipcode=c}get fname(){return this._fname}set fname(e){this._fname=e}get lname(){return this._lname}set lname(e){this._lname=e}get email(){return this._email}set email(e){this._email=e}get phone(){return this._phone}set phone(e){this._phone=e}get address(){return this._address}set address(e){this._address=e}get city(){return this._city}set city(e){this._city=e}get zipcode(){return this._zipcode}set zipcode(e){this._zipcode=e}};function WK(n,e){n&1&&(S(0,"small",14),N(1,"This field is required"),D())}function KK(n,e){if(n&1&&K(0,WK,2,0,"small",14),n&2){let t,r=re();G((t=r.deliveryForm.get("firstName"))!=null&&t.hasError("required")?0:-1)}}function QK(n,e){n&1&&(S(0,"small",14),N(1,"This field is required"),D())}function YK(n,e){if(n&1&&K(0,QK,2,0,"small",14),n&2){let t,r=re();G((t=r.deliveryForm.get("lastName"))!=null&&t.hasError("required")?0:-1)}}function JK(n,e){n&1&&(S(0,"small",14),N(1,"This field is required"),D())}function XK(n,e){n&1&&(S(0,"small",14),N(1,"Please enter a valid phone number"),D())}function ZK(n,e){if(n&1&&K(0,JK,2,0,"small",14)(1,XK,2,0,"small",14),n&2){let t,r,i=re();G((t=i.deliveryForm.get("phone"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.deliveryForm.get("phone"))!=null&&r.hasError("invalidPhoneNumber")?1:-1)}}function e7(n,e){n&1&&(S(0,"small",14),N(1,"This field is required"),D())}function t7(n,e){n&1&&(S(0,"small",14),N(1,"Please enter a valid email address"),D())}function n7(n,e){if(n&1&&K(0,e7,2,0,"small",14)(1,t7,2,0,"small",14),n&2){let t,r,i=re();G((t=i.deliveryForm.get("email"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.deliveryForm.get("email"))!=null&&r.hasError("email")?1:-1)}}function r7(n,e){n&1&&(S(0,"small",14),N(1,"This field is required"),D())}function i7(n,e){n&1&&(S(0,"small",14),N(1,"Please enter a valid address"),D())}function s7(n,e){if(n&1&&K(0,r7,2,0,"small",14)(1,i7,2,0,"small",14),n&2){let t,r,i=re();G((t=i.deliveryForm.get("billingAddress"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.deliveryForm.get("billingAddress"))!=null&&r.hasError("invalidAddress")?1:-1)}}function o7(n,e){n&1&&(S(0,"small",14),N(1,"This field is required"),D())}function a7(n,e){n&1&&(S(0,"small",14),N(1,"Please enter a valid city"),D())}function c7(n,e){if(n&1&&K(0,o7,2,0,"small",14)(1,a7,2,0,"small",14),n&2){let t,r,i=re();G((t=i.deliveryForm.get("city"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.deliveryForm.get("city"))!=null&&r.hasError("invalidAddress")?1:-1)}}function l7(n,e){n&1&&(S(0,"small",14),N(1,"This field is required"),D())}function u7(n,e){n&1&&(S(0,"small",14),N(1,"Please enter a valid CVC number"),D())}function d7(n,e){if(n&1&&K(0,l7,2,0,"small",14)(1,u7,2,0,"small",14),n&2){let t,r,i=re();G((t=i.deliveryForm.get("zipcode"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.deliveryForm.get("zipcode"))!=null&&r.hasError("invalidZipCode")?1:-1)}}var C_=class n{constructor(e,t){this.eventService=e;this.router=t}cart;deliveryInfo=new Su;ngOnInit(){}deliveryForm=new ri({firstName:new at("",et.required),lastName:new at("",et.required),phone:new at("",[et.required,Ik]),email:new at("",et.email),billingAddress:new at("",[et.required,Au]),city:new at("",[et.required,Au]),zipcode:new at("",[et.required,b_])});submitForm(){this.eventService.emit("deliveryInfo",this.deliveryInfo),this.router.navigate([""])}static \u0275fac=function(t){return new(t||n)(H(lt),H(hn))};static \u0275cmp=pe({type:n,selectors:[["delivery-page"]],standalone:!0,features:[me],decls:44,vars:16,consts:[[1,"container","pt-3",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","mb-2"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","lastName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","phone",1,"form-control",3,"ngModelChange","ngModel"],["type","email","formControlName","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-2"],["type","text","formControlName","billingAddress",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","city",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","zipcode",1,"form-control",3,"ngModelChange","ngModel"],["type","submit","data-bs-toggle","modal","data-bs-target","#thankyouModal",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(t&1&&(S(0,"form",0),fe("ngSubmit",function(s){return s.preventDefault(),r.submitForm()}),S(1,"h2",1),N(2,"Delivery Info"),D(),S(3,"div",2)(4,"div",3)(5,"label",4),N(6,"First Name"),D(),S(7,"input",5),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.fname,s)||(r.deliveryInfo.fname=s),s}),D(),K(8,KK,1,1),D(),S(9,"div",3)(10,"label",4),N(11,"Last Name"),D(),S(12,"input",6),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.lname,s)||(r.deliveryInfo.lname=s),s}),D(),K(13,YK,1,1),D()(),S(14,"div",2)(15,"div",3)(16,"label",4),N(17,"Phone Number"),D(),S(18,"input",7),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.phone,s)||(r.deliveryInfo.phone=s),s}),D(),K(19,ZK,2,2),D(),S(20,"div",3)(21,"label",4),N(22,"Email Address"),D(),S(23,"input",8),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.email,s)||(r.deliveryInfo.email=s),s}),D(),K(24,n7,2,2),D()(),S(25,"div",9)(26,"label",4),N(27,"Delivery Address"),D(),S(28,"input",10),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.address,s)||(r.deliveryInfo.address=s),s}),D(),K(29,s7,2,2),D(),S(30,"div",2)(31,"div",3)(32,"label",4),N(33,"City"),D(),S(34,"input",11),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.city,s)||(r.deliveryInfo.city=s),s}),D(),K(35,c7,2,2),D(),S(36,"div",3)(37,"label",4),N(38,"Zip Code"),D(),S(39,"input",12),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.zipcode,s)||(r.deliveryInfo.zipcode=s),s}),D(),K(40,d7,2,2),D()(),S(41,"div",9)(42,"button",13),N(43,"Finalize"),D()()()),t&2){let i,s,a,c,l,h,f;Fe("formGroup",r.deliveryForm),k(7),Xe("ngModel",r.deliveryInfo.fname),k(),G((i=r.deliveryForm.get("firstName"))!=null&&i.invalid&&((i=r.deliveryForm.get("firstName"))!=null&&i.dirty||(i=r.deliveryForm.get("firstName"))!=null&&i.touched)?8:-1),k(4),Xe("ngModel",r.deliveryInfo.lname),k(),G((s=r.deliveryForm.get("lastName"))!=null&&s.invalid&&((s=r.deliveryForm.get("lastName"))!=null&&s.dirty||(s=r.deliveryForm.get("lastName"))!=null&&s.touched)?13:-1),k(5),Xe("ngModel",r.deliveryInfo.phone),k(),G((a=r.deliveryForm.get("phone"))!=null&&a.invalid&&((a=r.deliveryForm.get("phone"))!=null&&a.dirty||(a=r.deliveryForm.get("phone"))!=null&&a.touched)?19:-1),k(4),Xe("ngModel",r.deliveryInfo.email),k(),G((c=r.deliveryForm.get("email"))!=null&&c.invalid&&((c=r.deliveryForm.get("email"))!=null&&c.dirty||(c=r.deliveryForm.get("email"))!=null&&c.touched)?24:-1),k(4),Xe("ngModel",r.deliveryInfo.address),k(),G((l=r.deliveryForm.get("billingAddress"))!=null&&l.invalid&&((l=r.deliveryForm.get("billingAddress"))!=null&&l.dirty||(l=r.deliveryForm.get("billingAddress"))!=null&&l.touched)?29:-1),k(5),Xe("ngModel",r.deliveryInfo.city),k(),G((h=r.deliveryForm.get("city"))!=null&&h.invalid&&((h=r.deliveryForm.get("city"))!=null&&h.dirty||(h=r.deliveryForm.get("city"))!=null&&h.touched)?35:-1),k(4),Xe("ngModel",r.deliveryInfo.zipcode),k(),G((f=r.deliveryForm.get("zipcode"))!=null&&f.invalid&&((f=r.deliveryForm.get("zipcode"))!=null&&f.dirty||(f=r.deliveryForm.get("zipcode"))!=null&&f.touched)?40:-1),k(2),Fe("disabled",r.deliveryForm.invalid)}},dependencies:[kl,Mo,Ai,Si,Po,Xa,Za,Er]})};var Jo=class n{loggedState=new It(!1);state=this.loggedState.asObservable();setLoggedState(e){this.loggedState.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sk=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},h7=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],c=n[t++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Rk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,c=a?n[i+1]:0,l=i+2<n.length,h=l?n[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,I=(c&15)<<2|h>>6,T=h&63;l||(T=64,a||(I=64)),r.push(t[f],t[g],t[I],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Sk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):h7(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let h=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||h==null||g==null)throw new FC;let I=s<<2|c>>4;if(r.push(I),h!==64){let T=c<<4&240|h>>2;if(r.push(T),g!==64){let x=h<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},FC=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},f7=function(n){let e=Sk(n);return Rk.encodeByteArray(e,!0)},kf=function(n){return f7(n).replace(/\./g,"")},UC=function(n){try{return Rk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var m7=()=>p7().__FIREBASE_DEFAULTS__,g7=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},y7=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&UC(n[1]);return e&&JSON.parse(e)},jC=()=>{try{return m7()||g7()||y7()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},BC=n=>{var e,t;return(t=(e=jC())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xk=n=>{let e=BC(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$C=()=>{var n;return(n=jC())===null||n===void 0?void 0:n.config},qC=n=>{var e;return(e=jC())===null||e===void 0?void 0:e[`_${n}`]};var D_=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Nk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kf(JSON.stringify(t)),kf(JSON.stringify(a)),""].join(".")}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Mk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ok(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vk(){let n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zC(){try{return typeof indexedDB=="object"}catch{return!1}}function Fk(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var _7="FirebaseError",lr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_7,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ks.prototype.create)}},Ks=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?v7(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new lr(i,c,r)}};function v7(n,e){return n.replace(E7,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var E7=/\{\$([^}]+)}/g;function Lk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cc(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(Ak(s)&&Ak(a)){if(!Cc(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Ak(n){return n!==null&&typeof n=="object"}function Vf(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ru(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function xu(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Uk(n,e){let t=new LC(n,e);return t.subscribe.bind(t)}var LC=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");w7(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=VC),i.error===void 0&&(i.error=VC),i.complete===void 0&&(i.complete=VC);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function w7(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function VC(){}var bfe=4*60*60*1e3;function Qs(n){return n&&n._delegate?n._delegate:n}var xr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Dc="[DEFAULT]";var HC=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new D_;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b7(e))try{this.getOrInitializeService({instanceIdentifier:Dc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Dc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Dc){return this.instances.has(e)}getOptions(e=Dc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I7(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Dc){return this.component?this.component.multipleInstances?e:Dc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function I7(n){return n===Dc?void 0:n}function b7(n){return n.instantiationMode==="EAGER"}var A_=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new HC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var T7=[],Ke=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ke||{}),C7={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},D7=Ke.INFO,A7={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},S7=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=A7[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Xo=class{constructor(e){this.name=e,this._logLevel=D7,this._logHandler=S7,this._userLogHandler=null,T7.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}};var WC=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(R7(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function R7(n){let e=n.getComponent();return e?.type==="VERSION"}var KC="@firebase/app",jk="0.10.13";var Ys=new Xo("@firebase/app"),x7="@firebase/app-compat",N7="@firebase/analytics-compat",P7="@firebase/analytics",M7="@firebase/app-check-compat",O7="@firebase/app-check",k7="@firebase/auth",V7="@firebase/auth-compat",F7="@firebase/database",L7="@firebase/data-connect",U7="@firebase/database-compat",j7="@firebase/functions",B7="@firebase/functions-compat",$7="@firebase/installations",q7="@firebase/installations-compat",z7="@firebase/messaging",H7="@firebase/messaging-compat",G7="@firebase/performance",W7="@firebase/performance-compat",K7="@firebase/remote-config",Q7="@firebase/remote-config-compat",Y7="@firebase/storage",J7="@firebase/storage-compat",X7="@firebase/firestore",Z7="@firebase/vertexai-preview",eQ="@firebase/firestore-compat",tQ="firebase",nQ="10.14.1";var QC="[DEFAULT]",rQ={[KC]:"fire-core",[x7]:"fire-core-compat",[P7]:"fire-analytics",[N7]:"fire-analytics-compat",[O7]:"fire-app-check",[M7]:"fire-app-check-compat",[k7]:"fire-auth",[V7]:"fire-auth-compat",[F7]:"fire-rtdb",[L7]:"fire-data-connect",[U7]:"fire-rtdb-compat",[j7]:"fire-fn",[B7]:"fire-fn-compat",[$7]:"fire-iid",[q7]:"fire-iid-compat",[z7]:"fire-fcm",[H7]:"fire-fcm-compat",[G7]:"fire-perf",[W7]:"fire-perf-compat",[K7]:"fire-rc",[Q7]:"fire-rc-compat",[Y7]:"fire-gcs",[J7]:"fire-gcs-compat",[X7]:"fire-fst",[eQ]:"fire-fst-compat",[Z7]:"fire-vertex","fire-js":"fire-js",[tQ]:"fire-js-all"};var Ff=new Map,iQ=new Map,YC=new Map;function Bk(n,e){try{n.container.addComponent(e)}catch(t){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ea(n){let e=n.name;if(YC.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;YC.set(e,n);for(let t of Ff.values())Bk(t,n);for(let t of iQ.values())Bk(t,n);return!0}function Uf(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function li(n){return n.settings!==void 0}var sQ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new Ks("app","Firebase",sQ);var JC=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}};var ta=nQ;function eD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:QC,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(t||(t=$C()),!t)throw Zo.create("no-options");let s=Ff.get(i);if(s){if(Cc(t,s.options)&&Cc(r,s.config))return s;throw Zo.create("duplicate-app",{appName:i})}let a=new A_(i);for(let l of YC.values())a.addComponent(l);let c=new JC(t,r,a);return Ff.set(i,c),c}function Nu(n=QC){let e=Ff.get(n);if(!e&&n===QC&&$C())return eD();if(!e)throw Zo.create("no-app",{appName:n});return e}function S_(){return Array.from(Ff.values())}function $t(n,e,t){var r;let i=(r=rQ[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(c.join(" "));return}ea(new xr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var oQ="firebase-heartbeat-database",aQ=1,Lf="firebase-heartbeat-store",GC=null;function Hk(){return GC||(GC=Bg(oQ,aQ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zo.create("idb-open",{originalErrorMessage:n.message})})),GC}function cQ(n){return R(this,null,function*(){try{let t=(yield Hk()).transaction(Lf),r=yield t.objectStore(Lf).get(Gk(n));return yield t.done,r}catch(e){if(e instanceof lr)Ys.warn(e.message);else{let t=Zo.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(t.message)}}})}function $k(n,e){return R(this,null,function*(){try{let r=(yield Hk()).transaction(Lf,"readwrite");yield r.objectStore(Lf).put(e,Gk(n)),yield r.done}catch(t){if(t instanceof lr)Ys.warn(t.message);else{let r=Zo.create("idb-set",{originalErrorMessage:t?.message});Ys.warn(r.message)}}})}function Gk(n){return`${n.name}!${n.options.appId}`}var lQ=1024,uQ=30*24*60*60*1e3,XC=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ZC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return R(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=uQ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ys.warn(r)}})}getHeartbeatsHeader(){return R(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=qk(),{heartbeatsToSend:r,unsentEntries:i}=dQ(this._heartbeatsCache.heartbeats),s=kf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ys.warn(t),""}})}};function qk(){return new Date().toISOString().substring(0,10)}function dQ(n,e=lQ){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),zk(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ZC=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return zC()?Fk().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield cQ(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $k(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $k(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function zk(n){return kf(JSON.stringify({version:2,heartbeats:n})).length}function hQ(n){ea(new xr("platform-logger",e=>new WC(e),"PRIVATE")),ea(new xr("heartbeat",e=>new XC(e),"PRIVATE")),$t(KC,jk,n),$t(KC,jk,"esm2017"),$t("fire-js","")}hQ("");var fQ="firebase",pQ="10.14.1";$t(fQ,pQ,"app");var Sc=new ps("ANGULARFIRE2_VERSION");function x_(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var jf=(n,e)=>{let t=e?[e]:S_(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},Mu=class{constructor(){return jf(mQ)}},mQ="app-check";function Pu(){}var R_=class{zone;delegate;constructor(e,t=sE){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(s,t,r)}},tD=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pu,{},Pu,Pu)),t.pipe(Dt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ou=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new R_(Zone.current)),this.insideAngular=t.run(()=>new R_(Zone.current,iE)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ce(Qe))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function N_(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function gQ(n){return N_().ngZone.runOutsideAngular(()=>n())}function Ac(n){return N_().ngZone.run(()=>n())}function yQ(n){return _Q(N_())(n)}function _Q(n){return function(t){return t=t.lift(new tD(n.ngZone)),t.pipe(co(n.outsideAngular),ao(n.insideAngular))}}var vQ=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ac(()=>n.apply(void 0,r))},na=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Ac(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pu,{},Pu,Pu))),r[s]=vQ(r[s],t));let i=gQ(()=>n.apply(this,r));if(!e)if(i instanceof Ae){let s=N_();return i.pipe(co(s.outsideAngular),ao(s.insideAngular))}else return Ac(()=>i);return i instanceof Ae?i.pipe(yQ):i instanceof Promise?Ac(()=>new Promise((s,a)=>i.then(c=>Ac(()=>s(c)),c=>Ac(()=>a(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Ac(()=>i)};var Js=class{constructor(e){return e}},Rc=class{constructor(){return S_()}};function EQ(n){return n&&n.length===1?n[0]:new Js(Nu())}var nD=new X("angularfire2._apps"),wQ={provide:Js,useFactory:EQ,deps:[[new Fn,nD]]},IQ={provide:Rc,deps:[[new Fn,nD]]};function bQ(n){return(e,t)=>{let r=t.get(Ti);$t("angularfire",Sc.full,"core"),$t("angularfire",Sc.full,"app"),$t("angular",Fx.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Js(i)}}function Wk(n,...e){return fr([wQ,IQ,{provide:nD,useFactory:bQ(n),multi:!0,deps:[Qe,Vn,Ou,...e]}])}var Kk=na(eD,!0);function dV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hV=dV,fV=new Ks("auth","Firebase",dV());var F_=new Xo("@firebase/auth");function TQ(n,...e){F_.logLevel<=Ke.WARN&&F_.warn(`Auth (${ta}): ${n}`,...e)}function M_(n,...e){F_.logLevel<=Ke.ERROR&&F_.error(`Auth (${ta}): ${n}`,...e)}function Ui(n,...e){throw CD(n,...e)}function xc(n,...e){return CD(n,...e)}function pV(n,e,t){let r=Object.assign(Object.assign({},hV()),{[e]:t});return new Ks("auth","Firebase",r).create(e,{appName:n.name})}function eo(n){return pV(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CD(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fV.create(n,...e)}function le(n,e,...t){if(!n)throw CD(e,...t)}function Xs(n){let e="INTERNAL ASSERTION FAILED: "+n;throw M_(e),new Error(e)}function ia(n,e){n||Xs(e)}function oD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function CQ(){return Qk()==="http:"||Qk()==="https:"}function Qk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function DQ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CQ()||Ok()||"connection"in navigator)?navigator.onLine:!0}function AQ(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Nc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ia(t>e,"Short delay should be less than long delay!"),this.isMobile=Pk()||kk()}get(){return DQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function DD(n,e){ia(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var L_=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var SQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RQ=new Nc(3e4,6e4);function sa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function oa(s,a,c,l){return R(this,arguments,function*(n,e,t,r,i={}){return mV(n,i,()=>R(this,null,function*(){let h={},f={};r&&(e==="GET"?f=r:h={body:JSON.stringify(r)});let g=Vf(Object.assign({key:n.config.apiKey},f)).slice(1),I=yield n._getAdditionalHeaders();I["Content-Type"]="application/json",n.languageCode&&(I["X-Firebase-Locale"]=n.languageCode);let T=Object.assign({method:e,headers:I},h);return Mk()||(T.referrerPolicy="no-referrer"),L_.fetch()(gV(n,n.config.apiHost,t,g),T)}))})}function mV(n,e,t){return R(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},SQ),e);try{let i=new aD(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw P_(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let c=s.ok?a.errorMessage:a.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw P_(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw P_(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw P_(n,"user-disabled",a);let f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw pV(n,f,h);Ui(n,f)}}catch(i){if(i instanceof lr)throw i;Ui(n,"network-request-failed",{message:String(i)})}})}function Kf(s,a,c,l){return R(this,arguments,function*(n,e,t,r,i={}){let h=yield oa(n,e,t,r,i);return"mfaPendingCredential"in h&&Ui(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function gV(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?DD(n.config,i):`${n.config.apiScheme}://${i}`}function xQ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var aD=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(xc(this.auth,"network-request-failed")),RQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function P_(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=xc(n,e,r);return i.customData._tokenResponse=t,i}function Yk(n){return n!==void 0&&n.enterprise!==void 0}var cD=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xQ(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function NQ(n,e){return R(this,null,function*(){return oa(n,"GET","/v2/recaptchaConfig",sa(n,e))})}function PQ(n,e){return R(this,null,function*(){return oa(n,"POST","/v1/accounts:delete",e)})}function yV(n,e){return R(this,null,function*(){return oa(n,"POST","/v1/accounts:lookup",e)})}function Bf(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AD(n,e=!1){return R(this,null,function*(){let t=Qs(n),r=yield t.getIdToken(e),i=SD(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Bf(rD(i.auth_time)),issuedAtTime:Bf(rD(i.iat)),expirationTime:Bf(rD(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function rD(n){return Number(n)*1e3}function SD(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return M_("JWT malformed, contained fewer than 3 sections"),null;try{let i=UC(t);return i?JSON.parse(i):(M_("Failed to decode base64 JWT payload"),null)}catch(i){return M_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Jk(n){let e=SD(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qf(n,e,t=!1){return R(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof lr&&MQ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function MQ({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var lD=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>R(this,null,function*(){yield this.iteration()}),t)}iteration(){return R(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bf(this.lastLoginAt),this.creationTime=Bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function U_(n){return R(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield qf(n,yV(t,{idToken:r}));le(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_V(s.providerUserInfo):[],c=OQ(n.providerData,a),l=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!c?.length,f=l?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new zf(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function RD(n){return R(this,null,function*(){let e=Qs(n);yield U_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function OQ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _V(n){return n.map(e=>{var{providerId:t}=e,r=oE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kQ(n,e){return R(this,null,function*(){let t=yield mV(n,{},()=>R(this,null,function*(){let r=Vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=gV(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",L_.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function VQ(n,e){return R(this,null,function*(){return oa(n,"POST","/v2/accounts:revokeToken",sa(n,e))})}var $f=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=Jk(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return R(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return R(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield kQ(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Xs("not implemented")}};function ra(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ku=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=oE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new zf(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return R(this,null,function*(){let t=yield qf(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return AD(this,e)}reload(){return RD(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return R(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield U_(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return R(this,null,function*(){if(li(this.auth.app))return Promise.reject(eo(this.auth));let e=yield this.getIdToken();return yield qf(this,PQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,c,l,h,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=t.photoURL)!==null&&a!==void 0?a:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,P=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:F,emailVerified:$,isAnonymous:Y,providerData:z,stsTokenManager:E}=t;le(F&&E,e,"internal-error");let m=$f.fromJSON(this.name,E);le(typeof F=="string",e,"internal-error"),ra(g,e.name),ra(I,e.name),le(typeof $=="boolean",e,"internal-error"),le(typeof Y=="boolean",e,"internal-error"),ra(T,e.name),ra(x,e.name),ra(M,e.name),ra(P,e.name),ra(V,e.name),ra(L,e.name);let _=new n({uid:F,auth:e,email:I,emailVerified:$,displayName:g,isAnonymous:Y,photoURL:x,phoneNumber:T,tenantId:M,stsTokenManager:m,createdAt:V,lastLoginAt:L});return z&&Array.isArray(z)&&(_.providerData=z.map(v=>Object.assign({},v))),P&&(_._redirectEventId=P),_}static _fromIdTokenResponse(e,t,r=!1){return R(this,null,function*(){let i=new $f;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield U_(s),s})}static _fromGetAccountInfoResponse(e,t,r){return R(this,null,function*(){let i=t.users[0];le(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?_V(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new $f;c.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,h),l})}};var Xk=new Map;function Zs(n){ia(n instanceof Function,"Expected a class definition");let e=Xk.get(n);return e?(ia(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Xk.set(n,e),e)}var FQ=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return R(this,null,function*(){return!0})}_set(t,r){return R(this,null,function*(){this.storage[t]=r})}_get(t){return R(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return R(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),uD=FQ;function O_(n,e,t){return`firebase:${n}:${e}:${t}`}var j_=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=O_(this.userKey,i.apiKey,s),this.fullPersistenceKey=O_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return R(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ku._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return R(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return R(this,null,function*(){if(!t.length)return new n(Zs(uD),e,r);let i=(yield Promise.all(t.map(h=>R(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),s=i[0]||Zs(uD),a=O_(r,e.config.apiKey,e.name),c=null;for(let h of t)try{let f=yield h._get(a);if(f){let g=ku._fromJSON(e,f);h!==s&&(c=g),s=h;break}}catch{}let l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],c&&(yield s._set(a,c.toJSON())),yield Promise.all(t.map(h=>R(this,null,function*(){if(h!==s)try{yield h._remove(a)}catch{}}))),new n(s,e,r))})}};function Zk(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TV(e))return"Blackberry";if(CV(e))return"Webos";if(EV(e))return"Safari";if((e.includes("chrome/")||wV(e))&&!e.includes("edge/"))return"Chrome";if(bV(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function vV(n=tn()){return/firefox\//i.test(n)}function EV(n=tn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wV(n=tn()){return/crios\//i.test(n)}function IV(n=tn()){return/iemobile/i.test(n)}function bV(n=tn()){return/android/i.test(n)}function TV(n=tn()){return/blackberry/i.test(n)}function CV(n=tn()){return/webos/i.test(n)}function xD(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LQ(n=tn()){var e;return xD(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UQ(){return Vk()&&document.documentMode===10}function DV(n=tn()){return xD(n)||bV(n)||CV(n)||TV(n)||/windows phone/i.test(n)||IV(n)}function AV(n,e=[]){let t;switch(n){case"Browser":t=Zk(tn());break;case"Worker":t=`${Zk(tn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ta}/${r}`}var dD=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((a,c)=>{try{let l=e(s);a(l)}catch(l){c(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return R(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function jQ(t){return R(this,arguments,function*(n,e={}){return oa(n,"GET","/v2/passwordPolicy",sa(n,e))})}var BQ=6,hD=class{constructor(e){var t,r,i,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:BQ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var fD=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new dD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zs(t)),this._initializationPromise=this.queue(()=>R(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield j_.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return R(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return R(this,null,function*(){try{let t=yield yV(this,{idToken:e}),r=yield ku._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return R(this,null,function*(){var t;if(li(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return R(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return R(this,null,function*(){try{yield U_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=AQ()}_delete(){return R(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return R(this,null,function*(){if(li(this.app))return Promise.reject(eo(this));let t=e?Qs(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return R(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>R(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return R(this,null,function*(){return li(this.app)?Promise.reject(eo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return li(this.app)?Promise.reject(eo(this)):this.queue(()=>R(this,null,function*(){yield this.assertedPersistence.setPersistence(Zs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return R(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return R(this,null,function*(){let e=yield jQ(this),t=new hD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ks("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return R(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield VQ(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return R(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return R(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Zs(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=yield j_.create(this,[Zs(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return R(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>R(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return R(this,null,function*(){if(e===this.currentUser)return this.queue(()=>R(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{a=!0,l()}}else{let l=e.addObserver(t);return()=>{a=!0,l()}}}directlySetCurrentUser(e){return R(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return R(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return R(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&TQ(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Mc(n){return Qs(n)}var B_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Uk(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var K_={loadJS(){return R(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $Q(n){K_=n}function SV(n){return K_.loadJS(n)}function qQ(){return K_.recaptchaEnterpriseScript}function zQ(){return K_.gapiScript}function RV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var HQ="recaptcha-enterprise",GQ="NO_RECAPTCHA",pD=class{constructor(e){this.type=HQ,this.auth=Mc(e)}verify(e="verify",t=!1){return R(this,null,function*(){function r(s){return R(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((a,c)=>R(this,null,function*(){NQ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let h=new cD(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(l=>{c(l)})}))})}function i(s,a,c){let l=window.grecaptcha;Yk(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(GQ)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!t&&Yk(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qQ();l.length!==0&&(l+=c),SV(l).then(()=>{i(c,s,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})})}};function eV(n,e,t,r=!1){return R(this,null,function*(){let i=new pD(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function mD(n,e,t,r){return R(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield eV(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>R(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield eV(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(s)}))})}function ND(n,e){let t=Uf(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Cc(s,e??{}))return i;Ui(i,"already-initialized")}return t.initialize({options:e})}function WQ(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function PD(n,e,t){let r=Mc(n);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=xV(e),{host:a,port:c}=KQ(e),l=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||QQ()}function xV(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KQ(n){let e=xV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:tV(r.substr(s.length+1))}}else{let[s,a]=r.split(":");return{host:s,port:tV(a)}}}function tV(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function QQ(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Hf=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xs("not implemented")}_getIdTokenResponse(e){return Xs("not implemented")}_linkToIdToken(e,t){return Xs("not implemented")}_getReauthenticationResolver(e){return Xs("not implemented")}};function YQ(n,e){return R(this,null,function*(){return oa(n,"POST","/v1/accounts:signUp",e)})}function JQ(n,e){return R(this,null,function*(){return Kf(n,"POST","/v1/accounts:signInWithPassword",sa(n,e))})}function XQ(n,e){return R(this,null,function*(){return Kf(n,"POST","/v1/accounts:signInWithEmailLink",sa(n,e))})}function ZQ(n,e){return R(this,null,function*(){return Kf(n,"POST","/v1/accounts:signInWithEmailLink",sa(n,e))})}var Gf=class n extends Hf{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return R(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mD(e,t,"signInWithPassword",JQ);case"emailLink":return XQ(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}})}_linkToIdToken(e,t){return R(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mD(e,r,"signUpPassword",YQ);case"emailLink":return ZQ(e,{idToken:t,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function iD(n,e){return R(this,null,function*(){return Kf(n,"POST","/v1/accounts:signInWithIdp",sa(n,e))})}function eY(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tY(n){let e=Ru(xu(n)).link,t=e?Ru(xu(e)).deep_link_id:null,r=Ru(xu(n)).deep_link_id;return(r?Ru(xu(r)).link:null)||r||t||e||n}var $_=class n{constructor(e){var t,r,i,s,a,c;let l=Ru(xu(e)),h=(t=l.apiKey)!==null&&t!==void 0?t:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,g=eY((i=l.mode)!==null&&i!==void 0?i:null);le(h&&f&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=tY(e);try{return new n(t)}catch{return null}}};var NV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Gf._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=$_.parseLink(r);return le(i,"argument-error"),Gf._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),q_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var gD=class extends q_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function nY(n,e){return R(this,null,function*(){return Kf(n,"POST","/v1/accounts:signUp",sa(n,e))})}var Vu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return R(this,null,function*(){let s=yield ku._fromIdTokenResponse(e,r,i),a=nV(r);return new n({user:s,providerId:a,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return R(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=nV(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function nV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var yD=class n extends lr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function PV(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?yD._fromErrorAndOperation(n,s,e,r):s})}function rY(n,e,t=!1){return R(this,null,function*(){let r=yield qf(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Vu._forOperation(n,"link",r)})}function iY(n,e,t=!1){return R(this,null,function*(){let{auth:r}=n;if(li(r.app))return Promise.reject(eo(r));let i="reauthenticate";try{let s=yield qf(n,PV(r,i,e,n),t);le(s.idToken,r,"internal-error");let a=SD(s.idToken);le(a,r,"internal-error");let{sub:c}=a;return le(n.uid===c,r,"user-mismatch"),Vu._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ui(r,"user-mismatch"),s}})}function MV(n,e,t=!1){return R(this,null,function*(){if(li(n.app))return Promise.reject(eo(n));let r="signIn",i=yield PV(n,r,e),s=yield Vu._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function MD(n,e){return R(this,null,function*(){return MV(Mc(n),e)})}function OV(n){return R(this,null,function*(){let e=Mc(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function OD(n,e,t){return R(this,null,function*(){if(li(n.app))return Promise.reject(eo(n));let r=Mc(n),a=yield mD(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nY).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OV(n),l}),c=yield Vu._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c})}function kD(n,e,t){return li(n.app)?Promise.reject(eo(n)):MD(Qs(n),NV.credential(e,t)).catch(r=>R(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&OV(n),r}))}function VD(n,e,t,r){return Qs(n).onIdTokenChanged(e,t,r)}function FD(n,e,t){return Qs(n).beforeAuthStateChanged(e,t)}var z_="__sak";var H_=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(z_,"1"),this.storage.removeItem(z_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var sY=1e3,oY=10,aY=(()=>{class n extends H_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,l,h)=>{this.notifyListeners(c,h)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);UQ()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,oY):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},sY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return R(this,null,function*(){yield as(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return R(this,null,function*(){let r=yield as(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return R(this,null,function*(){yield as(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),kV=aY;var cY=(()=>{class n extends H_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),LD=cY;function lY(n){return Promise.all(n.map(e=>R(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var uY=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return R(this,null,function*(){let r=t,{eventId:i,eventType:s,data:a}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(c).map(f=>R(this,null,function*(){return f(r.origin,a)})),h=yield lY(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function VV(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var _D=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return R(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{let h=VV("",20);i.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){let I=g;if(I.data.eventId===h)switch(I.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(I.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Li(){return window}function dY(n){Li().location.href=n}function FV(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}function hY(){return R(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fY(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pY(){return FV()?self:null}var LV="firebaseLocalStorageDb",mY=1,G_="firebaseLocalStorage",UV="fbase_key",Pc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Q_(n,e){return n.transaction([G_],e?"readwrite":"readonly").objectStore(G_)}function gY(){let n=indexedDB.deleteDatabase(LV);return new Pc(n).toPromise()}function vD(){let n=indexedDB.open(LV,mY);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(G_,{keyPath:UV})}catch(i){t(i)}}),n.addEventListener("success",()=>R(this,null,function*(){let r=n.result;r.objectStoreNames.contains(G_)?e(r):(r.close(),yield gY(),e(yield vD()))}))})}function rV(n,e,t){return R(this,null,function*(){let r=Q_(n,!0).put({[UV]:e,value:t});return new Pc(r).toPromise()})}function yY(n,e){return R(this,null,function*(){let t=Q_(n,!1).get(e),r=yield new Pc(t).toPromise();return r===void 0?null:r.value})}function iV(n,e){let t=Q_(n,!0).delete(e);return new Pc(t).toPromise()}var _Y=800,vY=3,EY=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return R(this,null,function*(){return this.db?this.db:(this.db=yield vD(),this.db)})}_withRetries(t){return R(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>vY)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return R(this,null,function*(){return FV()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return R(this,null,function*(){this.receiver=uY._getInstance(pY()),this.receiver._subscribe("keyChanged",(t,r)=>R(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>R(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return R(this,null,function*(){var t,r;if(this.activeServiceWorker=yield hY(),!this.activeServiceWorker)return;this.sender=new _D(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return R(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fY()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return R(this,null,function*(){try{if(!indexedDB)return!1;let t=yield vD();return yield rV(t,z_,"1"),yield iV(t,z_),!0}catch{}return!1})}_withPendingWrite(t){return R(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return R(this,null,function*(){return this._withPendingWrite(()=>R(this,null,function*(){return yield this._withRetries(i=>rV(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return R(this,null,function*(){let r=yield this._withRetries(i=>yY(i,t));return this.localCache[t]=r,r})}_remove(t){return R(this,null,function*(){return this._withPendingWrite(()=>R(this,null,function*(){return yield this._withRetries(r=>iV(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return R(this,null,function*(){let t=yield this._withRetries(s=>{let a=Q_(s,!1).getAll();return new Pc(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>R(this,null,function*(){return this._poll()}),_Y)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),jV=EY;var dpe=RV("rcb"),hpe=new Nc(3e4,6e4);function wY(n,e){return e?Zs(e):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Wf=class extends Hf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return iD(e,this._buildIdpRequest())}_linkToIdToken(e,t){return iD(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return iD(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function IY(n){return MV(n.auth,new Wf(n),n.bypassAuthState)}function bY(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),iY(t,new Wf(n),n.bypassAuthState)}function TY(n){return R(this,null,function*(){let{auth:e,user:t}=n;return le(t,e,"internal-error"),rY(t,new Wf(n),n.bypassAuthState)})}var ED=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>R(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return R(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IY;case"linkViaPopup":case"linkViaRedirect":return TY;case"reauthViaPopup":case"reauthViaRedirect":return bY;default:Ui(this.auth,"internal-error")}}resolve(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var fpe=new Nc(2e3,1e4);var CY="pendingRedirect",k_=new Map,wD=class n extends ED{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return R(this,null,function*(){let e=k_.get(this.auth._key());if(!e){try{let r=(yield DY(this.resolver,this.auth))?yield as(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}k_.set(this.auth._key(),e)}return this.bypassAuthState||k_.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return R(this,null,function*(){if(e.type==="signInViaRedirect")return as(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,as(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return R(this,null,function*(){})}cleanUp(){}};function DY(n,e){return R(this,null,function*(){let t=RY(e),r=SY(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function AY(n,e){k_.set(n._key(),e)}function SY(n){return Zs(n._redirectPersistence)}function RY(n){return O_(CY,n.config.apiKey,n.name)}function xY(n,e,t=!1){return R(this,null,function*(){if(li(n.app))return Promise.reject(eo(n));let r=Mc(n),i=wY(r,e),a=yield new wD(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var NY=10*60*1e3,ID=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PY(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!BV(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(xc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NY&&this.cachedEventUids.clear(),this.cachedEventUids.has(sV(e))}saveEventToCache(e){this.cachedEventUids.add(sV(e)),this.lastProcessedEventTime=Date.now()}};function sV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BV({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function PY(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BV(n);default:return!1}}function MY(t){return R(this,arguments,function*(n,e={}){return oa(n,"GET","/v1/projects",e)})}var OY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kY=/^https?/;function VY(n){return R(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield MY(n);for(let t of e)try{if(FY(t))return}catch{}Ui(n,"unauthorized-domain")})}function FY(n){let e=oD(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!kY.test(t))return!1;if(OY.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var LY=new Nc(3e4,6e4);function oV(){let n=Li().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UY(n){return new Promise((e,t)=>{var r,i,s;function a(){oV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oV(),t(xc(n,"network-request-failed"))},timeout:LY.get()})}if(!((i=(r=Li().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Li().gapi)===null||s===void 0)&&s.load)a();else{let c=RV("iframefcb");return Li()[c]=()=>{gapi.load?a():t(xc(n,"network-request-failed"))},SV(`${zQ()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw V_=null,e})}var V_=null;function jY(n){return V_=V_||UY(n),V_}var BY=new Nc(5e3,15e3),$Y="__/auth/iframe",qY="emulator/auth/iframe",zY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GY(n){let e=n.config;le(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?DD(e,qY):`https://${n.config.authDomain}/${$Y}`,r={apiKey:e.apiKey,appName:n.name,v:ta},i=HY.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Vf(r).slice(1)}`}function WY(n){return R(this,null,function*(){let e=yield jY(n),t=Li().gapi;return le(t,n,"internal-error"),e.open({where:document.body,url:GY(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zY,dontclear:!0},r=>new Promise((i,s)=>R(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=xc(n,"network-request-failed"),c=Li().setTimeout(()=>{s(a)},BY.get());function l(){Li().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{s(a)})})))})}var KY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QY=500,YY=600,JY="_blank",XY="http://localhost",W_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ZY(n,e,t,r=QY,i=YY){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},KY),{width:r.toString(),height:i.toString(),top:s,left:a}),h=tn().toLowerCase();t&&(c=wV(h)?JY:t),vV(h)&&(e=e||XY,l.scrollbars="yes");let f=Object.entries(l).reduce((I,[T,x])=>`${I}${T}=${x},`,"");if(LQ(h)&&c!=="_self")return eJ(e||"",c),new W_(null);let g=window.open(e||"",c,f);le(g,n,"popup-blocked");try{g.focus()}catch{}return new W_(g)}function eJ(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var tJ="__/auth/handler",nJ="emulator/auth/handler",rJ=encodeURIComponent("fac");function aV(n,e,t,r,i,s){return R(this,null,function*(){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ta,eventId:i};if(e instanceof q_){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Lk(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(s||{}))a[f]=g}if(e instanceof gD){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(a.scopes=f.join(","))}n.tenantId&&(a.tid=n.tenantId);let c=a;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield n._getAppCheckToken(),h=l?`#${rJ}=${encodeURIComponent(l)}`:"";return`${iJ(n)}?${Vf(c).slice(1)}${h}`})}function iJ({config:n}){return n.emulator?DD(n,nJ):`https://${n.authDomain}/${tJ}`}var sD="webStorageSupport",bD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LD,this._completeRedirectFn=xY,this._overrideRedirectResult=AY}_openPopup(e,t,r,i){return R(this,null,function*(){var s;ia((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=yield aV(e,t,r,oD(),i);return ZY(e,a,VV())})}_openRedirect(e,t,r,i){return R(this,null,function*(){yield this._originValidation(e);let s=yield aV(e,t,r,oD(),i);return dY(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ia(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return R(this,null,function*(){let t=yield WY(e),r=new ID(e);return t.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(sD,{type:sD},i=>{var s;let a=(s=i?.[0])===null||s===void 0?void 0:s[sD];a!==void 0&&t(!!a),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VY(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DV()||EV()||xD()}},$V=bD;var cV="@firebase/auth",lV="1.7.9";var TD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return R(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sJ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oJ(n){ea(new xr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;le(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AV(n)},h=new fD(r,i,s,l);return WQ(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ea(new xr("auth-internal",e=>{let t=Mc(e.getProvider("auth").getImmediate());return(r=>new TD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$t(cV,lV,sJ(n)),$t(cV,lV,"esm2017")}var aJ=5*60,cJ=qC("authIdTokenMaxAge")||aJ,uV=null,lJ=n=>e=>R(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>cJ)return;let i=t?.token;uV!==i&&(uV=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function UD(n=Nu()){let e=Uf(n,"auth");if(e.isInitialized())return e.getImmediate();let t=ND(n,{popupRedirectResolver:$V,persistence:[jV,kV,LD]}),r=qC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let a=lJ(s.toString());FD(t,a,()=>a(t.currentUser)),VD(t,c=>a(c))}}let i=BC("auth");return i&&PD(t,`http://${i}`),t}function uJ(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$Q({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=xc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",uJ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oJ("Browser");var qV="auth",Oc=class{constructor(e){return e}},Qf=class{constructor(){return jf(qV)}};var jD=new X("angularfire2.auth-instances");function tX(n,e){let t=x_(qV,n,e);return t&&new Oc(t)}function nX(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Oc(r)}}var rX={provide:Qf,deps:[[new Fn,jD]]},iX={provide:Oc,useFactory:tX,deps:[[new Fn,jD],Js]};function zV(n,...e){return $t("angularfire",Sc.full,"auth"),fr([iX,rX,{provide:jD,useFactory:nX(n),multi:!0,deps:[Qe,Vn,Ou,Rc,[new Fn,Mu],...e]}])}var HV=na(OD,!0);var GV=na(UD,!0);var WV=na(kD,!0);var to=class{constructor(e=new Map,t=0,r=0){this.cartItems=e;this.amount=t;this.subTotal=r}addItem(e){let t=JSON.stringify(e.item),r=e.item;if(this.cartItems.has(t)){let i=this.cartItems.get(t)?.amount;if(i!==3){let s=Math.min(3,i+e.amount);this.cartItems.set(t,{grade:r.grade,name:r.name,price:r.price,amount:s}),this.amount-=i,this.amount+=s,this.subTotal+=r.price*s}}else this.cartItems.set(t,{grade:r.grade,name:r.name,price:r.price,amount:e.amount}),this.amount=this.amount+e.amount,this.subTotal+=r.price*e.amount}removeItem(e){if(this.cartItems.has(e)){let t=this.cartItems.get(e)?.price,r=this.cartItems.get(e)?.amount;return this.amount-=r,this.subTotal-=t*r,this.cartItems.delete(e),!0}else return!1}itemIncrement(e){let t=this.cartItems.get(e);t?.amount<=2&&(this.cartItems.set(e,{grade:t?.grade,name:t?.name,price:t?.price,amount:t?.amount+1}),this.amount=this.amount+1,this.subTotal+=t?.price)}itemDecrement(e){let t=this.cartItems.get(e);t?.amount>1?(this.cartItems.set(e,{grade:t?.grade,name:t?.name,price:t?.price,amount:t?.amount-1}),this.amount=this.amount-1,this.subTotal-=t?.price):t?.amount===1&&(this.removeItem(e),this.subTotal-=t?.price)}clearCart(){this.cartItems=new Map,this.amount=0,this.subTotal=0}serialize(){return JSON.stringify(this,(t,r)=>r instanceof Map?{__isMap:!0,data:Array.from(r.entries())}:r)}getItems(){return this.cartItems}getAmt(){return this.amount}getSubTotal(){return this.subTotal}};var Fu=class n{constructor(e){this.auth=e}login(e,t){return R(this,null,function*(){let i=(yield WV(this.auth,e,t)).user,s=Sn(Zt,`users/${i.uid}`),a=yield br(s);if(a.exists())return a.id;throw new Error("User information not found in Firestore")})}register(e,t){return R(this,null,function*(){try{let i=(yield HV(this.auth,e,t)).user,s=Sn(Zt,`users/${i.uid}`);return yield eO(s,{email:e,password:t,orders:[],cart:new to().serialize()}),i}catch(r){console.error("There was an error creating user: ",r)}return null})}logout(){return this.auth.signOut().then(()=>{alert("You have signed out.")}).catch(e=>(console.error(`Error signing out: ${e}`),!1)),!0}static \u0275fac=function(t){return new(t||n)(ce(Oc))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};function oX(n,e){n&1&&(S(0,"div",1)(1,"h4",5),N(2,"Loading..."),D()())}function aX(n,e){n&1&&(S(0,"div",1)(1,"h4",5),N(2,"There are no orders in your order history"),D()())}function cX(n,e){if(n&1){let t=dn();S(0,"a",10),fe("click",function(i){let s=ln(t).$implicit,a=re(5);return i.preventDefault(),un(a.toOrderDetails(s.id))}),S(1,"div",11)(2,"div",8),N(3),D(),S(4,"div",8),N(5),gr(6,"date"),D(),S(7,"div",8),N(8),gr(9,"currency"),D()()()}if(n&2){let t=e.$implicit;k(3),qe(t.id),k(2),qe(Rm(6,3,t.date,"dd/MM/yyy")),k(3),qe(To(9,6,t.total))}}function lX(n,e){if(n&1&&(S(0,"div",7)(1,"div",8),N(2,"Order ID"),D(),S(3,"div",8),N(4,"Date"),D(),S(5,"div",8),N(6,"Total"),D()(),Cn(7,cX,10,8,"a",9,Tn)),n&2){let t=re(4);k(7),Dn(t.orders)}}function uX(n,e){if(n&1&&(S(0,"div",2)(1,"h3",3),N(2,"Email:"),D(),S(3,"h3",6),N(4),D()(),S(5,"h3"),N(6,"Orders:"),D(),K(7,aX,3,0,"div",1)(8,lX,9,0)),n&2){let t=re(3);k(4),qe(t.userInfo.email),k(3),G(t.orders.length===0?7:8)}}function dX(n,e){n&1&&(S(0,"h1"),N(1,"There was an error fetching user information."),D())}function hX(n,e){if(n&1&&K(0,uX,9,2)(1,dX,2,0,"h1"),n&2){let t=re(2);G(t.userInfo?0:1)}}function fX(n,e){if(n&1){let t=dn();S(0,"div",2)(1,"h1",3),N(2,"Account Details"),D(),S(3,"button",4),fe("click",function(){ln(t);let i=re();return un(i.userLogout())}),N(4,"Logout"),D()(),K(5,oX,3,0,"div",1)(6,hX,2,1)}if(n&2){let t=re();k(5),G(t.loading?5:6)}}function pX(n,e){n&1&&(S(0,"div",1)(1,"h4",5),N(2,"Please login to see account info."),D()())}var Y_=class n{constructor(e,t,r,i,s){this.router=e;this.route=t;this.loggedService=r;this.eventService=i;this.authService=s}loading=!0;logged;userID="";userInfo;orders=[];userLogout(){this.authService.logout()&&this.eventService.emit("userLogout",{})}toOrderDetails(e){this.router.navigate(["user",this.userID,"order",e])}ngOnInit(){return R(this,null,function*(){if(this.loggedService.state.subscribe(e=>{this.logged=e}),this.logged){this.route.paramMap.subscribe(e=>{this.userID=e.get("userID")});try{let e=Sn(Zt,"users",this.userID),r=(yield br(e)).data();this.userInfo={email:r.email,orders:r.orders},this.userInfo.orders.forEach(i=>R(this,null,function*(){let s=Sn(Zt,"orders",i),c=(yield br(s)).data();this.orders.push({id:i,date:c.orderDate.toDate(),total:c.total})}))}catch(e){console.error("Error fetching user info:",e)}finally{this.loading=!1}}})}static \u0275fac=function(t){return new(t||n)(H(hn),H(vr),H(Jo),H(lt),H(Fu))};static \u0275cmp=pe({type:n,selectors:[["user-page"]],standalone:!0,features:[me],decls:3,vars:1,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-center","align-items-center",2,"height","20vh"],[1,"row","my-3"],[1,"col-sm-2","col-md-2","col-lg-2"],[1,"btn","btn-primary","col-sm-1","col-md-1","col-lg-1",3,"click"],[1,"mt-3"],[1,"col-sm-10","col-md-10","col-lg-10"],[1,"row","my-2"],[1,"col-sm-4","col-md-4","col-lg-4"],["href","#",2,"text-decoration","none"],["href","#",2,"text-decoration","none",3,"click"],[1,"row","my-1","p-2"]],template:function(t,r){t&1&&(S(0,"div",0),K(1,fX,7,1)(2,pX,3,0,"div",1),D()),t&2&&(k(),G(r.logged?1:2))},dependencies:[Cs,Il,Wm]})};function mX(n,e){n&1&&(S(0,"small",10),N(1,"This field is required"),D())}function gX(n,e){n&1&&(S(0,"small",10),N(1,"Please enter a valid email"),D())}function yX(n,e){if(n&1&&K(0,mX,2,0,"small",10)(1,gX,2,0,"small",10),n&2){let t,r,i=re();G((t=i.loginForm.get("loginEmail"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.loginForm.get("loginEmail"))!=null&&r.hasError("email")?1:-1)}}function _X(n,e){n&1&&(S(0,"small",10),N(1,"This field is required"),D())}function vX(n,e){if(n&1&&K(0,_X,2,0,"small",10),n&2){let t,r=re();G((t=r.loginForm.get("loginPassword"))!=null&&t.hasError("required")?0:-1)}}function EX(n,e){n&1&&(S(0,"small",10),N(1,"This field is required"),D())}function wX(n,e){n&1&&(S(0,"small",10),N(1,"Please enter a valid email"),D())}function IX(n,e){if(n&1&&K(0,EX,2,0,"small",10)(1,wX,2,0,"small",10),n&2){let t,r,i=re();G((t=i.registerForm.get("newEmail"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.registerForm.get("newEmail"))!=null&&r.hasError("email")?1:-1)}}function bX(n,e){n&1&&(S(0,"small",10),N(1,"This field is required"),D())}function TX(n,e){n&1&&(S(0,"small",10),N(1,"Please enter a password with at least 8 characters"),D())}function CX(n,e){if(n&1&&K(0,bX,2,0,"small",10)(1,TX,2,0,"small",10),n&2){let t,r,i=re();G((t=i.registerForm.get("newPassword"))!=null&&t.hasError("required")?0:-1),k(),G((r=i.registerForm.get("newPassword"))!=null&&r.hasError("invalidPassword")?1:-1)}}var J_=class n{constructor(e,t){this.auth=e;this.eventService=t}loginEmail="";loginPassword="";newEmail="";newPassword="";loginForm=new ri({loginEmail:new at("",[et.required,et.email]),loginPassword:new at("",[et.required])});registerForm=new ri({newEmail:new at("",[et.required,et.email]),newPassword:new at("",[et.required,Dk])});login(){this.auth.login(this.loginEmail,this.loginPassword).then(e=>{this.eventService.emit("userLogin",e)})}register(){this.auth.register(this.newEmail,this.newPassword)}static \u0275fac=function(t){return new(t||n)(H(Fu),H(lt))};static \u0275cmp=pe({type:n,selectors:[["login-page"]],standalone:!0,features:[me],decls:33,vars:12,consts:[[1,"container",3,"ngSubmit","formGroup"],["id","loginModalLabel",1,"modal-title","fs-5","my-3"],[1,"form-label"],["type","text","formControlName","loginEmail",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","loginPassword",1,"form-control",3,"ngModelChange","ngModel"],[1,"pt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"container","pt-3",3,"ngSubmit","formGroup"],["type","text","formControlName","newEmail",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","newPassword",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-danger"]],template:function(t,r){if(t&1&&(S(0,"div")(1,"form",0),fe("ngSubmit",function(s){return s.preventDefault(),r.login()}),S(2,"h1",1),N(3,"Log in to your account"),D(),S(4,"div")(5,"label",2),N(6,"Email"),D(),S(7,"input",3),Ze("ngModelChange",function(s){return tt(r.loginEmail,s)||(r.loginEmail=s),s}),D(),K(8,yX,2,2),D(),S(9,"div")(10,"label",2),N(11,"Password"),D(),S(12,"input",4),Ze("ngModelChange",function(s){return tt(r.loginPassword,s)||(r.loginPassword=s),s}),D(),K(13,vX,1,1),D(),S(14,"div",5)(15,"button",6),N(16,"Login"),D()()(),S(17,"form",7),fe("ngSubmit",function(s){return s.preventDefault(),r.register()}),S(18,"h1",1),N(19,"Create a new account"),D(),S(20,"div")(21,"label",2),N(22,"Email"),D(),S(23,"input",8),Ze("ngModelChange",function(s){return tt(r.newEmail,s)||(r.newEmail=s),s}),D(),K(24,IX,2,2),D(),S(25,"div")(26,"label",2),N(27,"Password"),D(),S(28,"input",9),Ze("ngModelChange",function(s){return tt(r.newPassword,s)||(r.newPassword=s),s}),D(),K(29,CX,2,2),D(),S(30,"div",5)(31,"button",6),N(32,"Register"),D()()()()),t&2){let i,s,a,c;k(),Fe("formGroup",r.loginForm),k(6),Xe("ngModel",r.loginEmail),k(),G((i=r.loginForm.get("loginEmail"))!=null&&i.invalid&&((i=r.loginForm.get("loginEmail"))!=null&&i.dirty||(i=r.loginForm.get("loginEmail"))!=null&&i.touched)?8:-1),k(4),Xe("ngModel",r.loginPassword),k(),G((s=r.loginForm.get("loginPassword"))!=null&&s.invalid&&((s=r.loginForm.get("loginPassword"))!=null&&s.dirty||(s=r.loginForm.get("loginPassword"))!=null&&s.touched)?13:-1),k(2),Fe("disabled",r.loginForm.invalid),k(2),Fe("formGroup",r.registerForm),k(6),Xe("ngModel",r.newEmail),k(),G((a=r.registerForm.get("newEmail"))!=null&&a.invalid&&((a=r.registerForm.get("newEmail"))!=null&&a.dirty||(a=r.registerForm.get("newEmail"))!=null&&a.touched)?24:-1),k(4),Xe("ngModel",r.newPassword),k(),G((c=r.registerForm.get("newPassword"))!=null&&c.invalid&&((c=r.registerForm.get("newPassword"))!=null&&c.dirty||(c=r.registerForm.get("newPassword"))!=null&&c.touched)?29:-1),k(2),Fe("disabled",r.registerForm.invalid)}},dependencies:[Er,Mo,Ai,Si,Po,kl,Xa,Za]})};var X_=class n{transform(e){if(!e)return"";let t=e.slice(-4);return e.slice(0,-4).replace(/\d/g,"X")+t}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=oh({name:"maskCreditCard",type:n,pure:!0,standalone:!0})};function DX(n,e){n&1&&(S(0,"div",1)(1,"h4",2),N(2,"Loading..."),D()())}function AX(n,e){if(n&1&&(S(0,"div",8)(1,"h4",9),N(2),D(),S(3,"h4",10),N(4),gr(5,"currency"),D()()),n&2){let t=e.$implicit;k(2),qa("(",t.grade,")-",t.name,""),k(2),qe(To(5,3,t.price))}}function SX(n,e){if(n&1&&(S(0,"h1",3),N(1,"Order Details"),D(),S(2,"div",4)(3,"div",5),N(4,"Order ID"),D(),S(5,"div",6),N(6),D()(),S(7,"div",4)(8,"div",5),N(9,"Order Date"),D(),S(10,"div",6),N(11),gr(12,"date"),D()(),S(13,"div",4)(14,"div",5),N(15,"Order Subtotal"),D(),S(16,"div",6),N(17),gr(18,"currency"),D()(),S(19,"div",4)(20,"div",5),N(21,"Order Tax"),D(),S(22,"div",6),N(23),gr(24,"currency"),D()(),S(25,"div",4)(26,"div",5),N(27,"Order Total"),D(),S(28,"div",6),N(29),gr(30,"currency"),D()(),S(31,"div")(32,"h3",7),N(33,"Order Items"),D(),Cn(34,AX,6,5,"div",8,Tn),D(),S(36,"div")(37,"h3",5),N(38,"Billing Info"),D(),S(39,"div",4)(40,"div",5),N(41,"Name"),D(),S(42,"div",6),N(43),D()(),S(44,"div",4)(45,"div",5),N(46,"Email"),D(),S(47,"div",6),N(48),D()(),S(49,"div",4)(50,"div",5),N(51,"Card"),D(),S(52,"div",6),N(53),gr(54,"maskCreditCard"),D()(),S(55,"div",4)(56,"div",5),N(57,"Address"),D(),S(58,"div",6),N(59),D()()(),S(60,"div")(61,"h3",5),N(62,"Delivery Info"),D(),S(63,"div",4)(64,"div",5),N(65,"Name"),D(),S(66,"div",6),N(67),D()(),S(68,"div",4)(69,"div",5),N(70,"Email"),D(),S(71,"div",6),N(72),D()(),S(73,"div",4)(74,"div",5),N(75,"Phone"),D(),S(76,"div",6),N(77),D()(),S(78,"div",4)(79,"div",5),N(80,"Address"),D(),S(81,"div",6),N(82),D()()()),n&2){let t=re();k(6),qe(t.orderID),k(5),qe(Rm(12,19,t.orderInfo.orderDate,"dd/MM/yyy")),k(6),qe(To(18,22,t.orderInfo.subTotal)),k(6),qe(To(24,24,t.orderInfo.tax)),k(6),qe(To(30,26,t.orderInfo.total)),k(5),Dn(t.orderInfo.items),k(9),qa("",t.orderInfo.checkoutInfo._fname," ",t.orderInfo.checkoutInfo._lname,""),k(5),qe(t.orderInfo.checkoutInfo._email),k(5),qe(To(54,28,t.orderInfo.checkoutInfo._card)),k(6),Sm("",t.orderInfo.checkoutInfo._address," ",t.orderInfo.checkoutInfo._city," ",t.orderInfo.deliveryInfo._zipcode,""),k(8),qa("",t.orderInfo.deliveryInfo._fname," ",t.orderInfo.deliveryInfo._lname,""),k(5),qe(t.orderInfo.deliveryInfo._email),k(5),qe(t.orderInfo.deliveryInfo._phone),k(5),Sm("",t.orderInfo.deliveryInfo._address," ",t.orderInfo.deliveryInfo._city," ",t.orderInfo.deliveryInfo._zipcode,"")}}var Z_=class n{constructor(e,t){this.route=e;this.loggedService=t}loading=!0;orderID;userID;orderInfo;logged;falseUser=!1;ngOnInit(){return R(this,null,function*(){if(this.loggedService.state.subscribe(e=>{this.logged=e}),this.logged){this.route.paramMap.subscribe(e=>{this.orderID=e.get("orderID"),this.userID=e.get("userID")});try{let e=Sn(Zt,"orders",this.orderID),r=(yield br(e)).data();if(this.userID!=r.account){this.falseUser=!0,this.loading=!1;return}let i=[];r.items.forEach(s=>{i.push(JSON.parse(s))}),this.orderInfo={account:r.account,amount:r.amount,checkoutInfo:JSON.parse(r.checkoutInfo),deliveryInfo:JSON.parse(r.deliveryInfo),items:i,orderDate:r.orderDate.toDate(),subTotal:r.subTotal,tax:r.tax,total:r.total}}catch(e){console.error("Error fetching order info:",e)}finally{this.loading=!1}}})}static \u0275fac=function(t){return new(t||n)(H(vr),H(Jo))};static \u0275cmp=pe({type:n,selectors:[["app-order-details"]],standalone:!0,features:[me],decls:3,vars:1,consts:[[1,"container-fluid","m-2"],[1,"d-flex","justify-content-center","align-items-center",2,"height","20vh"],[1,"mt-3"],[2,"font-weight","bold"],[1,"row"],[1,"col-sm-2","col-md-2","col-lg-2",2,"font-weight","bold"],[1,"col-sm-2","col-md-2","col-lg-2"],[1,"col-sm-2","col-md-2","col-lg-2","mt-3",2,"font-weight","bold"],[1,"row","px-3"],[1,"col-sm-4","col-md-4","col-lg-4","p-0"],[1,"col-sm-2","col-md-2","col-lg-2","p-0"]],template:function(t,r){t&1&&(S(0,"div",0),K(1,DX,3,0,"div",1)(2,SX,83,30),D()),t&2&&(k(),G(r.loading?1:2))},dependencies:[Cs,Il,Wm,X_]})};var QV=[{path:"",component:qy},{path:"details/:productID",component:I_},{path:"login",component:J_},{path:"checkout",component:T_},{path:"delivery",component:C_},{path:"user/:userID/order/:orderID",component:Z_},{path:"user/:userID",component:Y_},{path:"**",component:yg}];var BD={providers:[qx({eventCoalescing:!0}),hP(QV),wN()]};function RX(n,e){if(n&1){let t=dn();S(0,"a",17),fe("click",function(i){ln(t);let s=re();return i.preventDefault(),un(s.profile())}),Se(1,"img",18),S(2,"div",19),N(3,"Profile"),D()()}}function xX(n,e){if(n&1){let t=dn();S(0,"a",17),fe("click",function(i){ln(t);let s=re();return i.preventDefault(),un(s.toLoginPage())}),Se(1,"img",18),S(2,"div",19),N(3,"Profile"),D()()}}var ev=class n{constructor(e){this.router=e}items=0;logged;userID;toHomepage(){this.router.navigate([""])}toLoginPage(){this.router.navigate(["login"])}profile(){this.router.navigate(["user/",this.userID])}static \u0275fac=function(t){return new(t||n)(H(hn))};static \u0275cmp=pe({type:n,selectors:[["navbar"]],inputs:{items:"items",logged:"logged",userID:"userID"},standalone:!0,features:[me],decls:20,vars:2,consts:[["role","banner",1,"toolbar"],["href","#",3,"click"],["height","100%","alt","HE Logo","src","Hobbies Emporium.png"],[1,"spacer"],["href","#",1,"profileLink"],["type","button","data-bs-toggle","modal","data-bs-target","#cartModal",1,"btn","cart-button"],["id","cart","alt","Cart Logo","src","shopping_cart.png",1,"cartLogo","p-2"],[1,"cartTag"],[1,"cartNumber"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/HobbiesEmporium","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/HobbiesEmporium","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["href","#",1,"profileLink",3,"click"],["height","30","id","profile","alt","Profile Logo","src","profile_icon.png",1,"profileLogo","m-0"],[1,"profileTag"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"a",1),fe("click",function(s){return s.preventDefault(),r.toHomepage()}),Se(2,"img",2),D(),Se(3,"div",3),K(4,RX,4,0,"a",4)(5,xX,4,0,"a",4),S(6,"button",5),Se(7,"img",6),S(8,"div",7),N(9,"Cart"),D(),S(10,"div",8),N(11),D()(),S(12,"a",9),Mw(),S(13,"svg",10),Se(14,"rect",11)(15,"path",12),D()(),CR(),S(16,"a",13),Mw(),S(17,"svg",14),Se(18,"path",15)(19,"path",16),D()()()),t&2&&(k(4),G(r.logged?4:5),k(7),qe(r.items))},styles:[".spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:sticky;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}nav[_ngcontent-%COMP%]{max-height:60px;background-color:#1976d2}img[_ngcontent-%COMP%]{max-height:60px;margin:0 16px}.profileLink[_ngcontent-%COMP%]{position:relative}.profileTag[_ngcontent-%COMP%]{position:absolute;top:25%;color:#fff;font-size:10px;opacity:1;transform:translateY(130%);opacity:0}.profileLink[_ngcontent-%COMP%]:hover   .profileTag[_ngcontent-%COMP%]{opacity:1}.cart-button[_ngcontent-%COMP%]{position:relative;padding:5px 10px 5px 5px}.cartNumber[_ngcontent-%COMP%]{position:absolute;top:15%;right:15%;color:#fff;width:15px;border-radius:50%;background-color:#fb2f38;font-size:10px}.cartTag[_ngcontent-%COMP%]{position:absolute;color:#fff;font-size:10px;bottom:0;opacity:1;transform:translate(100%);opacity:0}.cart-button[_ngcontent-%COMP%]:hover   .cartTag[_ngcontent-%COMP%]{opacity:1}#cart[_ngcontent-%COMP%]{height:40px;margin:0}#twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}#youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}#twitter-logo[_ngcontent-%COMP%]:hover, #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}"]})};var tv=class n{constructor(e){this.eventService=e}cartItem;increment(){this.cartItem[1].amount<3&&this.eventService.emit("incrementCartCount",this.cartItem[0])}decrement(){this.cartItem[1].amount>1&&this.eventService.emit("decrementCartCount",this.cartItem[0])}removeItem(){this.eventService.emit("removeItem",this.cartItem[0])}static \u0275fac=function(t){return new(t||n)(H(lt))};static \u0275cmp=pe({type:n,selectors:[["cart-item"]],inputs:{cartItem:"cartItem"},standalone:!0,features:[me],decls:19,vars:3,consts:[[1,"row"],[1,"col-sm-9","col-md-9","col-lg-9","d-flex"],[1,"col-sm-2","col-md-2","col-lg-2","d-flex","p-0"],[1,"pagination"],[1,"page-item"],[1,"page-link"],["aria-label","Previous",1,"btn","btn-primary",3,"click"],["aria-hidden","true"],["aria-label","Next",1,"btn","btn-primary",3,"click"],[1,"col-sm-1","col-md-1","col-lg-1","d-flex","p-0"],[1,"btn-close",3,"click"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1),N(2),D(),S(3,"div",2)(4,"div")(5,"ul",3)(6,"li",4)(7,"span",5),N(8),D()(),S(9,"li",4)(10,"button",6),fe("click",function(){return r.decrement()}),S(11,"span",7),N(12,"-"),D()()(),S(13,"li",4)(14,"button",8),fe("click",function(){return r.increment()}),S(15,"span",7),N(16,"+"),D()()()()()(),S(17,"div",9)(18,"button",10),fe("click",function(){return r.removeItem()}),D()()()),t&2&&(k(2),qa(" (",r.cartItem[1].grade,") ",r.cartItem[1].name," "),k(6),qe(r.cartItem[1].amount))},styles:[".d-flex[_ngcontent-%COMP%]{align-items:center}.pagination[_ngcontent-%COMP%]{margin:auto}"]})};var nv=class n{currentCart=new It(null);setCurrentCart(e){this.currentCart.next(e)}getCartData(){return this.currentCart.asObservable()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};function PX(n,e){if(n&1&&Se(0,"cart-item",13),n&2){let t=e.$implicit;Fe("cartItem",t)}}function MX(n,e){if(n&1&&Cn(0,PX,1,1,"cart-item",13,Tn),n&2){let t=re();Dn(t.cart.getItems())}}function OX(n,e){n&1&&(S(0,"div"),N(1,"No items in your cart yet."),D())}var rv=class n{constructor(e,t){this.router=e;this.cartService=t}cart;logged;toCheckout(){this.cart.getAmt()===0?alert("There are no items in your cart to checkout."):this.logged?(this.cartService.setCurrentCart(this.cart),this.router.navigate(["checkout"])):alert("Please sign in or create an account to proceed.")}static \u0275fac=function(t){return new(t||n)(H(hn),H(nv))};static \u0275cmp=pe({type:n,selectors:[["cart-modal"]],inputs:{cart:"cart",logged:"logged"},standalone:!0,features:[me],decls:22,vars:7,consts:[["id","cartModal","tabindex","-1","aria-labelledby","cartModalLabel","aria-hidden","true",1,"modal","modal-xl","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cartModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","justify-content-between"],[1,"col-sm-9","col-md-9","col-lg-9"],[1,"col-sm-3","col-md-3","col-lg-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[3,"cartItem"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),N(5,"Your Shopping Cart"),D(),Se(6,"button",5),D(),S(7,"div",6),K(8,MX,2,0)(9,OX,2,0,"div"),Se(10,"hr"),S(11,"div",7)(12,"div",8),N(13,"Subtotal:"),D(),S(14,"div",9),N(15),gr(16,"currency"),D()()(),S(17,"div",10)(18,"button",11),N(19,"Close"),D(),S(20,"button",12),fe("click",function(){return r.toCheckout()}),N(21,"Checkout"),D()()()()()),t&2&&(k(8),G(r.cart.getAmt()>0?8:9),k(7),qe(Vx(16,2,r.cart.getSubTotal(),"USD",!0,"1.2-2")))},dependencies:[tv,Il],styles:[".modal[_ngcontent-%COMP%]{position:absolute;inset:10px 0 0;z-index:10040;overflow:auto;overflow-y:auto}"]})};var iv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pe({type:n,selectors:[["thankyou-modal"]],standalone:!0,features:[me],decls:12,vars:0,consts:[["id","thankyouModal","tabindex","-1","aria-labelledby","thankyouModalLabel","aria-hidden","true",1,"modal","modal-xl","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","thankyouModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"]],template:function(t,r){t&1&&(S(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),N(5,"Hobbies Emporium Support"),D(),Se(6,"button",5),D(),S(7,"div",6),N(8," Thank you for your purchase! For more details on your order check your account or check the phone number you have provided for your order. "),D(),S(9,"div",7)(10,"button",8),N(11,"Close"),D()()()()())}})};var sv=class n{setData(e,t){sessionStorage.setItem(e,JSON.stringify(t))}getData(e){let t=sessionStorage.getItem(e);return t?JSON.parse(t):null}setObjectWithMap(e,t){let r=JSON.stringify(t,(i,s)=>s instanceof Map?{__isMap:!0,data:Array.from(s.entries())}:s);sessionStorage.setItem(e,r)}getObjectWithMap(e){let t=sessionStorage.getItem(e);return t?JSON.parse(t,(r,i)=>i&&i.__isMap?new Map(i.data):i):null}removeData(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var ov=class n{constructor(e,t,r,i){this.router=t;this.loggedService=r;this.sessionService=i;e.listen("addToCart",s=>{this.cart.addItem(s),alert("item added to cart"),this.sessionService.setObjectWithMap("userCartInfo",this.cart),this.loggedIn&&this.updateFirestoreUserCart()}),e.listen("incrementCartCount",s=>{this.cart.itemIncrement(s),this.sessionService.setObjectWithMap("userCartInfo",this.cart),this.loggedIn&&this.updateFirestoreUserCart()}),e.listen("decrementCartCount",s=>{this.cart.itemDecrement(s),this.sessionService.setObjectWithMap("userCartInfo",this.cart),this.loggedIn&&this.updateFirestoreUserCart()}),e.listen("removeItem",s=>{this.cart.removeItem(s),this.sessionService.setObjectWithMap("userCartInfo",this.cart),this.loggedIn&&this.updateFirestoreUserCart()}),e.listen("checkoutInfo",s=>{this.userCheckoutInfo=s,this.sessionService.setData("userCheckoutInfo",s)}),e.listen("deliveryInfo",s=>R(this,null,function*(){this.userDeliveryInfo=s,this.sessionService.setData("userDeliveryInfo",s);try{let a=jy(Zt,"orders"),c=Sn(Zt,`users/${this.userID}`),f=(yield br(c)).data().orders,g=[];this.cart.getItems().forEach(I=>{g.push(JSON.stringify(I))}),tO(a,{account:this.userID,items:g,amount:this.cart.getAmt(),subTotal:this.cart.getSubTotal(),tax:parseFloat((this.cart.getSubTotal()*.2).toFixed(2)),total:parseFloat((this.cart.getSubTotal()*1.2).toFixed(2)),orderDate:new Date,checkoutInfo:JSON.stringify(this.userCheckoutInfo),deliveryInfo:JSON.stringify(this.userDeliveryInfo)}).then(I=>R(this,null,function*(){f.push(I.id),yield KT(c,{orders:f})}))}catch(a){console.error("There was an error creating order: ",a);return}this.cart.clearCart(),this.sessionService.removeData("userCartInfo"),this.loggedIn&&this.updateFirestoreUserCart()})),e.listen("userLogout",s=>{this.loggedIn=!1,this.loggedService.setLoggedState(!1),this.sessionService.removeData("userID"),this.cart=new to}),e.listen("userLogin",s=>{this.userLogin(s)})}title="HobbiesEmporium";cart=new to;loggedIn=!1;userID="";userCheckoutInfo=new Du;userDeliveryInfo=new Su;updateFirestoreUserCart(){return R(this,null,function*(){let e=Sn(Zt,`users/${this.userID}`);yield KT(e,{cart:this.cart.serialize()})})}coalesceCarts(){return R(this,null,function*(){let e=Sn(Zt,`users/${this.userID}`),i=(yield br(e)).data().cart,s=JSON.parse(i,(h,f)=>f&&f.__isMap?new Map(f.data):f),a=this.cart.getAmt()+s.amount,c=this.cart.getSubTotal()+s.subTotal,l=new Map([...this.cart.getItems(),...s.cartItems]);return new to(l,a,c)})}sessionLogin(e){this.loggedService.setLoggedState(!0),this.loggedIn=!0,this.userID=e,this.sessionService.setData("userID",e)}userLogin(e){this.sessionLogin(e),this.coalesceCarts().then(t=>{this.cart=t,this.updateFirestoreUserCart(),this.sessionService.setObjectWithMap("userCartInfo",this.cart)}),this.router.navigate(["user/",this.userID])}ngOnInit(){alert("This is a demo website, please do not provide any real personal information.");let e=this.sessionService.getData("userID"),t=this.sessionService.getObjectWithMap("userCartInfo"),r=this.sessionService.getData("userCheckoutInfo"),i=this.sessionService.getData("userDeliveryInfo");e&&this.sessionLogin(e),t&&(this.cart=new to(t.cartItems,t.amount,t.subTotal)),r&&(this.userCheckoutInfo=r),i&&(this.userDeliveryInfo=i)}static \u0275fac=function(t){return new(t||n)(H(lt),H(hn),H(Jo),H(sv))};static \u0275cmp=pe({type:n,selectors:[["app-root"]],standalone:!0,features:[me],decls:5,vars:5,consts:[[1,"main"],[3,"cart","logged"],[1,"sticky-top",3,"items","logged","userID"]],template:function(t,r){t&1&&(S(0,"div",0),Se(1,"cart-modal",1)(2,"thankyou-modal")(3,"navbar",2)(4,"router-outlet"),D()),t&2&&(k(),Fe("cart",r.cart)("logged",r.loggedIn),k(2),Fe("items",r.cart.getAmt())("logged",r.loggedIn)("userID",r.userID))},dependencies:[o0,ev,rv,iv],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column}p[_ngcontent-%COMP%]{margin:0}']})};var YV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JV={};var $D,XV;(function(){var n;function e(E,m){function _(){}_.prototype=m.prototype,E.D=m.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(v,w,C){for(var y=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)y[nt-2]=arguments[nt];return m.prototype[w].apply(v,y)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,_){_||(_=0);var v=Array(16);if(typeof m=="string")for(var w=0;16>w;++w)v[w]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(w=0;16>w;++w)v[w]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=E.g[0],_=E.g[1],w=E.g[2];var C=E.g[3],y=m+(C^_&(w^C))+v[0]+3614090360&4294967295;m=_+(y<<7&4294967295|y>>>25),y=C+(w^m&(_^w))+v[1]+3905402710&4294967295,C=m+(y<<12&4294967295|y>>>20),y=w+(_^C&(m^_))+v[2]+606105819&4294967295,w=C+(y<<17&4294967295|y>>>15),y=_+(m^w&(C^m))+v[3]+3250441966&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(C^_&(w^C))+v[4]+4118548399&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(w^m&(_^w))+v[5]+1200080426&4294967295,C=m+(y<<12&4294967295|y>>>20),y=w+(_^C&(m^_))+v[6]+2821735955&4294967295,w=C+(y<<17&4294967295|y>>>15),y=_+(m^w&(C^m))+v[7]+4249261313&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(C^_&(w^C))+v[8]+1770035416&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(w^m&(_^w))+v[9]+2336552879&4294967295,C=m+(y<<12&4294967295|y>>>20),y=w+(_^C&(m^_))+v[10]+4294925233&4294967295,w=C+(y<<17&4294967295|y>>>15),y=_+(m^w&(C^m))+v[11]+2304563134&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(C^_&(w^C))+v[12]+1804603682&4294967295,m=_+(y<<7&4294967295|y>>>25),y=C+(w^m&(_^w))+v[13]+4254626195&4294967295,C=m+(y<<12&4294967295|y>>>20),y=w+(_^C&(m^_))+v[14]+2792965006&4294967295,w=C+(y<<17&4294967295|y>>>15),y=_+(m^w&(C^m))+v[15]+1236535329&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(w^C&(_^w))+v[1]+4129170786&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^w&(m^_))+v[6]+3225465664&4294967295,C=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(C^m))+v[11]+643717713&4294967295,w=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(w^C))+v[0]+3921069994&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^C&(_^w))+v[5]+3593408605&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^w&(m^_))+v[10]+38016083&4294967295,C=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(C^m))+v[15]+3634488961&4294967295,w=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(w^C))+v[4]+3889429448&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^C&(_^w))+v[9]+568446438&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^w&(m^_))+v[14]+3275163606&4294967295,C=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(C^m))+v[3]+4107603335&4294967295,w=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(w^C))+v[8]+1163531501&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^C&(_^w))+v[13]+2850285829&4294967295,m=_+(y<<5&4294967295|y>>>27),y=C+(_^w&(m^_))+v[2]+4243563512&4294967295,C=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(C^m))+v[7]+1735328473&4294967295,w=C+(y<<14&4294967295|y>>>18),y=_+(C^m&(w^C))+v[12]+2368359562&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(_^w^C)+v[5]+4294588738&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^w)+v[8]+2272392833&4294967295,C=m+(y<<11&4294967295|y>>>21),y=w+(C^m^_)+v[11]+1839030562&4294967295,w=C+(y<<16&4294967295|y>>>16),y=_+(w^C^m)+v[14]+4259657740&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^C)+v[1]+2763975236&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^w)+v[4]+1272893353&4294967295,C=m+(y<<11&4294967295|y>>>21),y=w+(C^m^_)+v[7]+4139469664&4294967295,w=C+(y<<16&4294967295|y>>>16),y=_+(w^C^m)+v[10]+3200236656&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^C)+v[13]+681279174&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^w)+v[0]+3936430074&4294967295,C=m+(y<<11&4294967295|y>>>21),y=w+(C^m^_)+v[3]+3572445317&4294967295,w=C+(y<<16&4294967295|y>>>16),y=_+(w^C^m)+v[6]+76029189&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^C)+v[9]+3654602809&4294967295,m=_+(y<<4&4294967295|y>>>28),y=C+(m^_^w)+v[12]+3873151461&4294967295,C=m+(y<<11&4294967295|y>>>21),y=w+(C^m^_)+v[15]+530742520&4294967295,w=C+(y<<16&4294967295|y>>>16),y=_+(w^C^m)+v[2]+3299628645&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(w^(_|~C))+v[0]+4096336452&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~w))+v[7]+1126891415&4294967295,C=m+(y<<10&4294967295|y>>>22),y=w+(m^(C|~_))+v[14]+2878612391&4294967295,w=C+(y<<15&4294967295|y>>>17),y=_+(C^(w|~m))+v[5]+4237533241&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~C))+v[12]+1700485571&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~w))+v[3]+2399980690&4294967295,C=m+(y<<10&4294967295|y>>>22),y=w+(m^(C|~_))+v[10]+4293915773&4294967295,w=C+(y<<15&4294967295|y>>>17),y=_+(C^(w|~m))+v[1]+2240044497&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~C))+v[8]+1873313359&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~w))+v[15]+4264355552&4294967295,C=m+(y<<10&4294967295|y>>>22),y=w+(m^(C|~_))+v[6]+2734768916&4294967295,w=C+(y<<15&4294967295|y>>>17),y=_+(C^(w|~m))+v[13]+1309151649&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~C))+v[4]+4149444226&4294967295,m=_+(y<<6&4294967295|y>>>26),y=C+(_^(m|~w))+v[11]+3174756917&4294967295,C=m+(y<<10&4294967295|y>>>22),y=w+(m^(C|~_))+v[2]+718787259&4294967295,w=C+(y<<15&4294967295|y>>>17),y=_+(C^(w|~m))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(w+(y<<21&4294967295|y>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var _=m-this.blockSize,v=this.B,w=this.h,C=0;C<m;){if(w==0)for(;C<=_;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<m;)if(v[w++]=E.charCodeAt(C++),w==this.blockSize){i(this,v),w=0;break}}else for(;C<m;)if(v[w++]=E[C++],w==this.blockSize){i(this,v),w=0;break}}this.h=w,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var _=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=_&255,_/=256;for(this.u(E),E=Array(16),m=_=0;4>m;++m)for(var v=0;32>v;v+=8)E[_++]=this.g[m]>>>v&255;return E};function s(E,m){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=m(E)}function a(E,m){this.h=m;for(var _=[],v=!0,w=E.length-1;0<=w;w--){var C=E[w]|0;v&&C==m||(_[w]=C,v=!1)}this.g=_}var c={};function l(E){return-128<=E&&128>E?s(E,function(m){return new a([m|0],0>m?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return P(h(-E));for(var m=[],_=1,v=0;E>=_;v++)m[v]=E/_|0,_*=4294967296;return new a(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return P(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(m,8)),v=g,w=0;w<E.length;w+=8){var C=Math.min(8,E.length-w),y=parseInt(E.substring(w,w+C),m);8>C?(C=h(Math.pow(m,C)),v=v.j(C).add(h(y))):(v=v.j(_),v=v.add(h(y)))}return v}var g=l(0),I=l(1),T=l(16777216);n=a.prototype,n.m=function(){if(M(this))return-P(this).m();for(var E=0,m=1,_=0;_<this.g.length;_++){var v=this.i(_);E+=(0<=v?v:4294967296+v)*m,m*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(M(this))return"-"+P(this).toString(E);for(var m=h(Math.pow(E,6)),_=this,v="";;){var w=$(_,m).g;_=V(_,w.j(m));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=w,x(_))return C+v;for(;6>C.length;)C="0"+C;v=C+v}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=V(this,E),M(E)?-1:x(E)?0:1};function P(E){for(var m=E.g.length,_=[],v=0;v<m;v++)_[v]=~E.g[v];return new a(_,~E.h).add(I)}n.abs=function(){return M(this)?P(this):this},n.add=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0,w=0;w<=m;w++){var C=v+(this.i(w)&65535)+(E.i(w)&65535),y=(C>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);v=y>>>16,C&=65535,y&=65535,_[w]=y<<16|C}return new a(_,_[_.length-1]&-2147483648?-1:0)};function V(E,m){return E.add(P(m))}n.j=function(E){if(x(this)||x(E))return g;if(M(this))return M(E)?P(this).j(P(E)):P(P(this).j(E));if(M(E))return P(this.j(P(E)));if(0>this.l(T)&&0>E.l(T))return h(this.m()*E.m());for(var m=this.g.length+E.g.length,_=[],v=0;v<2*m;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var w=0;w<E.g.length;w++){var C=this.i(v)>>>16,y=this.i(v)&65535,nt=E.i(w)>>>16,Mt=E.i(w)&65535;_[2*v+2*w]+=y*Mt,L(_,2*v+2*w),_[2*v+2*w+1]+=C*Mt,L(_,2*v+2*w+1),_[2*v+2*w+1]+=y*nt,L(_,2*v+2*w+1),_[2*v+2*w+2]+=C*nt,L(_,2*v+2*w+2)}for(v=0;v<m;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=m;v<2*m;v++)_[v]=0;return new a(_,0)};function L(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function F(E,m){this.g=E,this.h=m}function $(E,m){if(x(m))throw Error("division by zero");if(x(E))return new F(g,g);if(M(E))return m=$(P(E),m),new F(P(m.g),P(m.h));if(M(m))return m=$(E,P(m)),new F(P(m.g),m.h);if(30<E.g.length){if(M(E)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var _=I,v=m;0>=v.l(E);)_=Y(_),v=Y(v);var w=z(_,1),C=z(v,1);for(v=z(v,2),_=z(_,2);!x(v);){var y=C.add(v);0>=y.l(E)&&(w=w.add(_),C=y),v=z(v,1),_=z(_,1)}return m=V(E,w.j(m)),new F(w,m)}for(w=g;0<=E.l(m);){for(_=Math.max(1,Math.floor(E.m()/m.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),C=h(_),y=C.j(m);M(y)||0<y.l(E);)_-=v,C=h(_),y=C.j(m);x(C)&&(C=I),w=w.add(C),E=V(E,y)}return new F(w,E)}n.A=function(E){return $(this,E).h},n.and=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)&E.i(v);return new a(_,this.h&E.h)},n.or=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)|E.i(v);return new a(_,this.h|E.h)},n.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)^E.i(v);return new a(_,this.h^E.h)};function Y(E){for(var m=E.g.length+1,_=[],v=0;v<m;v++)_[v]=E.i(v)<<1|E.i(v-1)>>>31;return new a(_,E.h)}function z(E,m){var _=m>>5;m%=32;for(var v=E.g.length-_,w=[],C=0;C<v;C++)w[C]=0<m?E.i(C+_)>>>m|E.i(C+_+1)<<32-m:E.i(C+_);return new a(w,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XV=JV.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,$D=JV.Integer=a}).apply(typeof YV<"u"?YV:typeof self<"u"?self:typeof window<"u"?window:{});var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},no={};var ZV,VX,eF,tF,nF,rF,iF,sF,oF;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,d){return o==Array.prototype||o==Object.prototype||(o[u]=d.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof av=="object"&&av];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=t(this);function i(o,u){if(u)e:{var d=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var b=o[p];if(!(b in d))break e;d=d[b]}o=o[o.length-1],p=d[o],u=u(p),u!=p&&u!=null&&e(d,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var d=0,p=!1,b={next:function(){if(!p&&d<o.length){var A=d++;return{value:u(A,o[A]),done:!1}}return p=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,d){return d})}});var a=a||{},c=this||self;function l(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function h(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function f(o,u,d){return o.call.apply(o.bind,arguments)}function g(o,u,d){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,p),o.apply(u,b)}}return function(){return o.apply(u,arguments)}}function I(o,u,d){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,I.apply(null,arguments)}function T(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function x(o,u){function d(){}d.prototype=u.prototype,o.aa=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(p,b,A){for(var O=Array(arguments.length-2),te=2;te<arguments.length;te++)O[te-2]=arguments[te];return u.prototype[b].apply(p,O)}}function M(o){let u=o.length;if(0<u){let d=Array(u);for(let p=0;p<u;p++)d[p]=o[p];return d}return[]}function P(o,u){for(let d=1;d<arguments.length;d++){let p=arguments[d];if(l(p)){let b=o.length||0,A=p.length||0;o.length=b+A;for(let O=0;O<A;O++)o[b+O]=p[O]}else o.push(p)}}class V{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function L(o){return/^[\s\xa0]*$/.test(o)}function F(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function $(o){return $[" "](o),o}$[" "]=function(){};var Y=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function z(o,u,d){for(let p in o)u.call(d,o[p],p,o)}function E(o,u){for(let d in o)u.call(void 0,o[d],d,o)}function m(o){let u={};for(let d in o)u[d]=o[d];return u}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(o,u){let d,p;for(let b=1;b<arguments.length;b++){p=arguments[b];for(d in p)o[d]=p[d];for(let A=0;A<_.length;A++)d=_[A],Object.prototype.hasOwnProperty.call(p,d)&&(o[d]=p[d])}}function w(o){var u=1;o=o.split(":");let d=[];for(;0<u&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function C(o){c.setTimeout(()=>{throw o},0)}function y(){var o=mn;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class nt{constructor(){this.h=this.g=null}add(u,d){let p=Mt.get();p.set(u,d),this.h?this.h.next=p:this.g=p,this.h=p}}var Mt=new V(()=>new Wt,o=>o.reset());class Wt{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,sn=!1,mn=new nt,di=()=>{let o=c.Promise.resolve(void 0);ht=()=>{o.then(ca)}};var ca=()=>{for(var o;o=y();){try{o.h.call(o.g)}catch(d){C(d)}var u=Mt;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}sn=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var hi=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let d=()=>{};c.addEventListener("test",d,u),c.removeEventListener("test",d,u)}catch{}return o}();function Tt(o,u){if(Ce.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(Y){e:{try{$(u.nodeName);var b=!0;break e}catch{}b=!1}b||(u=null)}}else d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:$i[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Tt.aa.h.call(this)}}x(Tt,Ce);var $i={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),Nr=0;function la(o,u,d,p,b){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!p,this.ha=b,this.key=++Nr,this.da=this.fa=!1}function Pr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function qn(o){this.src=o,this.g={},this.h=0}qn.prototype.add=function(o,u,d,p,b){var A=o.toString();o=this.g[A],o||(o=this.g[A]=[],this.h++);var O=fi(o,u,p,b);return-1<O?(u=o[O],d||(u.fa=!1)):(u=new la(u,this.src,A,!!p,b),u.fa=d,o.push(u)),u};function qi(o,u){var d=u.type;if(d in o.g){var p=o.g[d],b=Array.prototype.indexOf.call(p,u,void 0),A;(A=0<=b)&&Array.prototype.splice.call(p,b,1),A&&(Pr(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function fi(o,u,d,p){for(var b=0;b<o.length;++b){var A=o[b];if(!A.da&&A.listener==u&&A.capture==!!d&&A.ha==p)return b}return-1}var zi="closure_lm_"+(1e6*Math.random()|0),Hi={};function ro(o,u,d,p,b){if(p&&p.once)return ua(o,u,d,p,b);if(Array.isArray(u)){for(var A=0;A<u.length;A++)ro(o,u[A],d,p,b);return null}return d=mi(d),o&&o[on]?o.K(u,d,h(p)?!!p.capture:!!p,b):io(o,u,d,!1,p,b)}function io(o,u,d,p,b,A){if(!u)throw Error("Invalid event type");var O=h(b)?!!b.capture:!!b,te=Mr(o);if(te||(o[zi]=te=new qn(o)),d=te.add(u,d,p,O,A),d.proxy)return d;if(p=$u(),d.proxy=p,p.src=o,p.listener=d,o.addEventListener)hi||(b=O),b===void 0&&(b=!1),o.addEventListener(u.toString(),p,b);else if(o.attachEvent)o.attachEvent(so(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function $u(){function o(d){return u.call(o.src,o.listener,d)}let u=Lc;return o}function ua(o,u,d,p,b){if(Array.isArray(u)){for(var A=0;A<u.length;A++)ua(o,u[A],d,p,b);return null}return d=mi(d),o&&o[on]?o.L(u,d,h(p)?!!p.capture:!!p,b):io(o,u,d,!0,p,b)}function zn(o,u,d,p,b){if(Array.isArray(u))for(var A=0;A<u.length;A++)zn(o,u[A],d,p,b);else p=h(p)?!!p.capture:!!p,d=mi(d),o&&o[on]?(o=o.i,u=String(u).toString(),u in o.g&&(A=o.g[u],d=fi(A,d,p,b),-1<d&&(Pr(A[d]),Array.prototype.splice.call(A,d,1),A.length==0&&(delete o.g[u],o.h--)))):o&&(o=Mr(o))&&(u=o.g[u.toString()],o=-1,u&&(o=fi(u,d,p,b)),(d=-1<o?u[o]:null)&&ur(d))}function ur(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[on])qi(u.i,o);else{var d=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(d,p,o.capture):u.detachEvent?u.detachEvent(so(d),p):u.addListener&&u.removeListener&&u.removeListener(p),(d=Mr(u))?(qi(d,o),d.h==0&&(d.src=null,u[zi]=null)):Pr(o)}}}function so(o){return o in Hi?Hi[o]:Hi[o]="on"+o}function Lc(o,u){if(o.da)o=!0;else{u=new Tt(u,this);var d=o.listener,p=o.ha||o.src;o.fa&&ur(o),o=d.call(p,u)}return o}function Mr(o){return o=o[zi],o instanceof qn?o:null}var pi="__closure_events_fn_"+(1e9*Math.random()>>>0);function mi(o){return typeof o=="function"?o:(o[pi]||(o[pi]=function(u){return o.handleEvent(u)}),o[pi])}function Re(){ft.call(this),this.i=new qn(this),this.M=this,this.F=null}x(Re,ft),Re.prototype[on]=!0,Re.prototype.removeEventListener=function(o,u,d,p){zn(this,o,u,d,p)};function ke(o,u){var d,p=o.F;if(p)for(d=[];p;p=p.F)d.push(p);if(o=o.M,p=u.type||u,typeof u=="string")u=new Ce(u,o);else if(u instanceof Ce)u.target=u.target||o;else{var b=u;u=new Ce(p,o),v(u,b)}if(b=!0,d)for(var A=d.length-1;0<=A;A--){var O=u.g=d[A];b=Gi(O,p,!0,u)&&b}if(O=u.g=o,b=Gi(O,p,!0,u)&&b,b=Gi(O,p,!1,u)&&b,d)for(A=0;A<d.length;A++)O=u.g=d[A],b=Gi(O,p,!1,u)&&b}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var d=o.g[u],p=0;p<d.length;p++)Pr(d[p]);delete o.g[u],o.h--}}this.F=null},Re.prototype.K=function(o,u,d,p){return this.i.add(String(o),u,!1,d,p)},Re.prototype.L=function(o,u,d,p){return this.i.add(String(o),u,!0,d,p)};function Gi(o,u,d,p){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var b=!0,A=0;A<u.length;++A){var O=u[A];if(O&&!O.da&&O.capture==d){var te=O.listener,Pe=O.ha||O.src;O.fa&&qi(o.i,O),b=te.call(Pe,p)!==!1&&b}}return b&&!p.defaultPrevented}function qu(o,u,d){if(typeof o=="function")d&&(o=I(o,d));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function zu(o){o.g=qu(()=>{o.g=null,o.i&&(o.i=!1,zu(o))},o.l);let u=o.h;o.h=null,o.m.apply(null,u)}class mv extends ft{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:zu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(o){ft.call(this),this.h=o,this.g={}}x(Or,ft);var Hu=[];function Gu(o){z(o.g,function(u,d){this.g.hasOwnProperty(d)&&ur(u)},o),o.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Gu(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var da=c.JSON.stringify,gv=c.JSON.parse,yv=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function ha(){}ha.prototype.h=null;function Wu(o){return o.h||(o.h=o.i())}function Ku(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fa(){Ce.call(this,"d")}x(fa,Ce);function pa(){Ce.call(this,"c")}x(pa,Ce);var gn={},Qu=null;function Wi(){return Qu=Qu||new Re}gn.La="serverreachability";function Yu(o){Ce.call(this,gn.La,o)}x(Yu,Ce);function Vr(o){let u=Wi();ke(u,new Yu(u))}gn.STAT_EVENT="statevent";function Ju(o,u){Ce.call(this,gn.STAT_EVENT,o),this.stat=u}x(Ju,Ce);function He(o){let u=Wi();ke(u,new Ju(u,o))}gn.Ma="timingevent";function Xu(o,u){Ce.call(this,gn.Ma,o),this.size=u}x(Xu,Ce);function Fr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},u)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function _v(o,u,d,p,b,A){o.info(function(){if(o.g)if(A)for(var O="",te=A.split("&"),Pe=0;Pe<te.length;Pe++){var J=te[Pe].split("=");if(1<J.length){var Be=J[0];J=J[1];var $e=Be.split("_");O=2<=$e.length&&$e[1]=="type"?O+(Be+"="+J+"&"):O+(Be+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+p+") [attempt "+b+"]: "+u+`
`+d+`
`+O})}function vv(o,u,d,p,b,A,O){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+b+"]: "+u+`
`+d+`
`+A+" "+O})}function Hn(o,u,d,p){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+wv(o,d)+(p?" "+p:"")})}function Ev(o,u){o.info(function(){return"TIMEOUT: "+u})}Lr.prototype.info=function(){};function wv(o,u){if(!o.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var p=d[o];if(!(2>p.length)){var b=p[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return da(d)}catch{return u}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ma;function Qi(){}x(Qi,ha),Qi.prototype.g=function(){return new XMLHttpRequest},Qi.prototype.i=function(){return{}},ma=new Qi;function Kt(o,u,d,p){this.j=o,this.i=u,this.l=d,this.R=p||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ed}function ed(){this.i=null,this.g="",this.h=!1}var td={},ga={};function ya(o,u,d){o.L=1,o.v=Zi(Ot(u)),o.m=d,o.P=!0,nd(o,null)}function nd(o,u){o.F=Date.now(),Yi(o),o.A=Ot(o.v);var d=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),gd(d.i,"t",p),o.C=0,d=o.j.J,o.h=new ed,o.g=Od(o.j,d?u:null,!o.m),0<o.O&&(o.M=new mv(I(o.Y,o,o.g),o.O)),u=o.U,d=o.g,p=o.ca;var b="readystatechange";Array.isArray(b)||(b&&(Hu[0]=b.toString()),b=Hu);for(var A=0;A<b.length;A++){var O=ro(d,b[A],p||u.handleEvent,!1,u.h||u);if(!O)break;u.g[O.key]=O}u=o.H?m(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Vr(),_v(o.i,o.u,o.A,o.l,o.R,o.m)}Kt.prototype.ca=function(o){o=o.target;let u=this.M;u&&kt(o)==3?u.j():this.Y(o)},Kt.prototype.Y=function(o){try{if(o==this.g)e:{let $e=kt(this.g);var u=this.g.Ba();let Kn=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||bd(this.g)))){this.J||$e!=4||u==7||(u==8||0>=Kn?Vr(3):Vr(2)),_a(this);var d=this.g.Z();this.X=d;t:if(rd(this)){var p=bd(this.g);o="";var b=p.length,A=kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Ur(this);var O="";break t}this.h.i=new c.TextDecoder}for(u=0;u<b;u++)this.h.h=!0,o+=this.h.i.decode(p[u],{stream:!(A&&u==b-1)});p.length=0,this.h.g+=o,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=d==200,vv(this.i,this.u,this.A,this.l,this.R,$e,d),this.o){if(this.T&&!this.K){t:{if(this.g){var te,Pe=this.g;if((te=Pe.g?Pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(te)){var J=te;break t}}J=null}if(d=J)Hn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,d);else{this.o=!1,this.s=3,He(12),yn(this),Ur(this);break e}}if(this.P){d=!0;let pt;for(;!this.J&&this.C<O.length;)if(pt=Iv(this,O),pt==ga){$e==4&&(this.s=4,He(14),d=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==td){this.s=4,He(15),Hn(this.i,this.l,O,"[Invalid Chunk]"),d=!1;break}else Hn(this.i,this.l,pt,null),va(this,pt);if(rd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||O.length!=0||this.h.h||(this.s=1,He(16),d=!1),this.o=this.o&&d,!d)Hn(this.i,this.l,O,"[Invalid Chunked Response]"),yn(this),Ur(this);else if(0<O.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ca(Be),Be.M=!0,He(11))}}else Hn(this.i,this.l,O,null),va(this,O);$e==4&&yn(this),this.o&&!this.J&&($e==4?xd(this.j,this):(this.o=!1,Yi(this)))}else Uv(this.g),d==400&&0<O.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),yn(this),Ur(this)}}}catch{}finally{}};function rd(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Iv(o,u){var d=o.C,p=u.indexOf(`
`,d);return p==-1?ga:(d=Number(u.substring(d,p)),isNaN(d)?td:(p+=1,p+d>u.length?ga:(u=u.slice(p,p+d),o.C=p+d,u)))}Kt.prototype.cancel=function(){this.J=!0,yn(this)};function Yi(o){o.S=Date.now()+o.I,id(o,o.I)}function id(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Fr(I(o.ba,o),u)}function _a(o){o.B&&(c.clearTimeout(o.B),o.B=null)}Kt.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(Ev(this.i,this.A),this.L!=2&&(Vr(),He(17)),yn(this),this.s=2,Ur(this)):id(this,this.S-o)};function Ur(o){o.j.G==0||o.J||xd(o.j,o)}function yn(o){_a(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Gu(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function va(o,u){try{var d=o.j;if(d.G!=0&&(d.g==o||Ea(d.h,o))){if(!o.K&&Ea(d.h,o)&&d.G==3){try{var p=d.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var b=p;if(b[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)is(d),ns(d);else break e;Ta(d),He(18)}}else d.za=b[1],0<d.za-d.T&&37500>b[2]&&d.F&&d.v==0&&!d.C&&(d.C=Fr(I(d.Za,d),6e3));if(1>=ad(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else vn(d,11)}else if((o.K||d.g==o)&&is(d),!L(u))for(b=d.Da.g.parse(u),u=0;u<b.length;u++){let J=b[u];if(d.T=J[0],J=J[1],d.G==2)if(J[0]=="c"){d.K=J[1],d.ia=J[2];let Be=J[3];Be!=null&&(d.la=Be,d.j.info("VER="+d.la));let $e=J[4];$e!=null&&(d.Aa=$e,d.j.info("SVER="+d.Aa));let Kn=J[5];Kn!=null&&typeof Kn=="number"&&0<Kn&&(p=1.5*Kn,d.L=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;let pt=o.g;if(pt){let os=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var A=p.h;A.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(wa(A,A.h),A.h=null))}if(p.D){let Da=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(p.ya=Da,se(p.I,p.D,Da))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),p=d;var O=o;if(p.qa=Md(p,p.J?p.ia:null,p.W),O.K){cd(p.h,O);var te=O,Pe=p.L;Pe&&(te.I=Pe),te.B&&(_a(te),Yi(te)),p.g=O}else Sd(p);0<d.i.length&&rs(d)}else J[0]!="stop"&&J[0]!="close"||vn(d,7);else d.G==3&&(J[0]=="stop"||J[0]=="close"?J[0]=="stop"?vn(d,7):ba(d):J[0]!="noop"&&d.l&&d.l.ta(J),d.v=0)}}Vr(4)}catch{}}var bv=class{constructor(o,u){this.g=o,this.map=u}};function sd(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function od(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ad(o){return o.h?1:o.g?o.g.size:0}function Ea(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function wa(o,u){o.g?o.g.add(u):o.h=u}function cd(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}sd.prototype.cancel=function(){if(this.i=ld(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function ld(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(let d of o.g.values())u=u.concat(d.D);return u}return M(o.i)}function Tv(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(l(o)){for(var u=[],d=o.length,p=0;p<d;p++)u.push(o[p]);return u}u=[],d=0;for(p in o)u[d++]=o[p];return u}function Cv(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(l(o)||typeof o=="string"){var u=[];o=o.length;for(var d=0;d<o;d++)u.push(d);return u}u=[],d=0;for(let p in o)u[d++]=p;return u}}}function ud(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(l(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var d=Cv(o),p=Tv(o),b=p.length,A=0;A<b;A++)u.call(void 0,p[A],d&&d[A],o)}var dd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dv(o,u){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var p=o[d].indexOf("="),b=null;if(0<=p){var A=o[d].substring(0,p);b=o[d].substring(p+1)}else A=o[d];u(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function _n(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof _n){this.h=o.h,Ji(this,o.j),this.o=o.o,this.g=o.g,Xi(this,o.s),this.l=o.l;var u=o.i,d=new $r;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),hd(this,d),this.m=o.m}else o&&(u=String(o).match(dd))?(this.h=!1,Ji(this,u[1]||"",!0),this.o=jr(u[2]||""),this.g=jr(u[3]||"",!0),Xi(this,u[4]),this.l=jr(u[5]||"",!0),hd(this,u[6]||"",!0),this.m=jr(u[7]||"")):(this.h=!1,this.i=new $r(null,this.h))}_n.prototype.toString=function(){var o=[],u=this.j;u&&o.push(Br(u,fd,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Br(u,fd,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Br(d,d.charAt(0)=="/"?Rv:Sv,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Br(d,Nv)),o.join("")};function Ot(o){return new _n(o)}function Ji(o,u,d){o.j=d?jr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Xi(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function hd(o,u,d){u instanceof $r?(o.i=u,Pv(o.i,o.h)):(d||(u=Br(u,xv)),o.i=new $r(u,o.h))}function se(o,u,d){o.i.set(u,d)}function Zi(o){return se(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function jr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Br(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,Av),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Av(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var fd=/[#\/\?@]/g,Sv=/[#\?:]/g,Rv=/[#\?]/g,xv=/[#\?@]/g,Nv=/#/g;function $r(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function Qt(o){o.g||(o.g=new Map,o.h=0,o.i&&Dv(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}n=$r.prototype,n.add=function(o,u){Qt(this),this.i=null,o=Gn(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function pd(o,u){Qt(o),u=Gn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function md(o,u){return Qt(o),u=Gn(o,u),o.g.has(u)}n.forEach=function(o,u){Qt(this),this.g.forEach(function(d,p){d.forEach(function(b){o.call(u,b,p,this)},this)},this)},n.na=function(){Qt(this);let o=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let p=0;p<u.length;p++){let b=o[p];for(let A=0;A<b.length;A++)d.push(u[p])}return d},n.V=function(o){Qt(this);let u=[];if(typeof o=="string")md(this,o)&&(u=u.concat(this.g.get(Gn(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)u=u.concat(o[d])}return u},n.set=function(o,u){return Qt(this),this.i=null,o=Gn(this,o),md(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},n.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function gd(o,u,d){pd(o,u),0<d.length&&(o.i=null,o.g.set(Gn(o,u),M(d)),o.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var p=u[d];let A=encodeURIComponent(String(p)),O=this.V(p);for(p=0;p<O.length;p++){var b=A;O[p]!==""&&(b+="="+encodeURIComponent(String(O[p]))),o.push(b)}}return this.i=o.join("&")};function Gn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Pv(o,u){u&&!o.j&&(Qt(o),o.i=null,o.g.forEach(function(d,p){var b=p.toLowerCase();p!=b&&(pd(this,p),gd(this,b,d))},o)),o.j=u}function Mv(o,u){let d=new Lr;if(c.Image){let p=new Image;p.onload=T(Yt,d,"TestLoadImage: loaded",!0,u,p),p.onerror=T(Yt,d,"TestLoadImage: error",!1,u,p),p.onabort=T(Yt,d,"TestLoadImage: abort",!1,u,p),p.ontimeout=T(Yt,d,"TestLoadImage: timeout",!1,u,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else u(!1)}function Ov(o,u){let d=new Lr,p=new AbortController,b=setTimeout(()=>{p.abort(),Yt(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:p.signal}).then(A=>{clearTimeout(b),A.ok?Yt(d,"TestPingServer: ok",!0,u):Yt(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(b),Yt(d,"TestPingServer: error",!1,u)})}function Yt(o,u,d,p,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),p(d)}catch{}}function kv(){this.g=new yv}function Vv(o,u,d){let p=d||"";try{ud(o,function(b,A){let O=b;h(b)&&(O=da(b)),u.push(p+A+"="+encodeURIComponent(O))})}catch(b){throw u.push(p+"type="+encodeURIComponent("_badmap")),b}}function qr(o){this.l=o.Ub||null,this.j=o.eb||!1}x(qr,ha),qr.prototype.g=function(){return new es(this.l,this.j)},qr.prototype.i=function(o){return function(){return o}}({});function es(o,u){Re.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(es,Re),n=es.prototype,n.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Hr(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yd(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function yd(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?zr(this):Hr(this),this.readyState==3&&yd(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,zr(this))},n.Qa=function(o){this.g&&(this.response=o,zr(this))},n.ga=function(){this.g&&zr(this)};function zr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Hr(o)}n.setRequestHeader=function(o,u){this.u.append(o,u)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function Hr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function _d(o){let u="";return z(o,function(d,p){u+=p,u+=":",u+=d,u+=`\r
`}),u}function Ia(o,u,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=_d(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):se(o,u,d))}function ue(o){Re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ue,Re);var Fv=/^https?$/i,Lv=["POST","PUT"];n=ue.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,u,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ma.g(),this.v=this.o?Wu(this.o):Wu(ma),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(A){vd(this,A);return}if(o=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var b in p)d.set(b,p[b]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let A of p.keys())d.set(A,p.get(A));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Lv,u,void 0))||p||b||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of d)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Id(this),this.u=!0,this.g.send(o),this.u=!1}catch(A){vd(this,A)}};function vd(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,Ed(o),ts(o)}function Ed(o){o.A||(o.A=!0,ke(o,"complete"),ke(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,ke(this,"complete"),ke(this,"abort"),ts(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ue.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wd(this):this.bb())},n.bb=function(){wd(this)};function wd(o){if(o.h&&typeof a<"u"&&(!o.v[1]||kt(o)!=4||o.Z()!=2)){if(o.u&&kt(o)==4)qu(o.Ea,0,o);else if(ke(o,"readystatechange"),kt(o)==4){o.h=!1;try{let O=o.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var p;if(p=O===0){var b=String(o.D).match(dd)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),p=!Fv.test(b?b.toLowerCase():"")}d=p}if(d)ke(o,"complete"),ke(o,"success");else{o.m=6;try{var A=2<kt(o)?o.g.statusText:""}catch{A=""}o.l=A+" ["+o.Z()+"]",Ed(o)}}finally{ts(o)}}}}function ts(o,u){if(o.g){Id(o);let d=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||ke(o,"ready");try{d.onreadystatechange=p}catch{}}}function Id(o){o.I&&(c.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function kt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<kt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),gv(u)}};function bd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uv(o){let u={};o=(o.g&&2<=kt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(L(o[p]))continue;var d=w(o[p]);let b=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let A=u[b]||[];u[b]=A,A.push(d)}E(u,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function Td(o){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new sd(o&&o.concurrentRequestLimit),this.Da=new kv,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Td.prototype,n.la=8,n.G=1,n.connect=function(o,u,d,p){He(0),this.W=o,this.H=u||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.I=Md(this,null,this.W),rs(this)};function ba(o){if(Cd(o),o.G==3){var u=o.U++,d=Ot(o.I);if(se(d,"SID",o.K),se(d,"RID",u),se(d,"TYPE","terminate"),Wr(o,d),u=new Kt(o,o.j,u),u.L=2,u.v=Zi(Ot(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=u.v,d=!0),d||(u.g=Od(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Yi(u)}Pd(o)}function ns(o){o.g&&(Ca(o),o.g.cancel(),o.g=null)}function Cd(o){ns(o),o.u&&(c.clearTimeout(o.u),o.u=null),is(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function rs(o){if(!od(o.h)&&!o.s){o.s=!0;var u=o.Ga;ht||di(),sn||(ht(),sn=!0),mn.add(u,o),o.B=0}}function jv(o,u){return ad(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Fr(I(o.Ga,o,u),Nd(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let b=new Kt(this,this.j,o),A=this.o;if(this.S&&(A?(A=m(A),v(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=Ad(this,b,u),d=Ot(this.I),se(d,"RID",o),se(d,"CVER",22),this.D&&se(d,"X-HTTP-Session-Id",this.D),Wr(this,d),A&&(this.O?u="headers="+encodeURIComponent(String(_d(A)))+"&"+u:this.m&&Ia(d,this.m,A)),wa(this.h,b),this.Ua&&se(d,"TYPE","init"),this.P?(se(d,"$req",u),se(d,"SID","null"),b.T=!0,ya(b,d,null)):ya(b,d,u),this.G=2}}else this.G==3&&(o?Dd(this,o):this.i.length==0||od(this.h)||Dd(this))};function Dd(o,u){var d;u?d=u.l:d=o.U++;let p=Ot(o.I);se(p,"SID",o.K),se(p,"RID",d),se(p,"AID",o.T),Wr(o,p),o.m&&o.o&&Ia(p,o.m,o.o),d=new Kt(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),u&&(o.i=u.D.concat(o.i)),u=Ad(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),wa(o.h,d),ya(d,p,u)}function Wr(o,u){o.H&&z(o.H,function(d,p){se(u,p,d)}),o.l&&ud({},function(d,p){se(u,p,d)})}function Ad(o,u,d){d=Math.min(o.i.length,d);var p=o.l?I(o.l.Na,o.l,o):null;e:{var b=o.i;let A=-1;for(;;){let O=["count="+d];A==-1?0<d?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let te=!0;for(let Pe=0;Pe<d;Pe++){let J=b[Pe].g,Be=b[Pe].map;if(J-=A,0>J)A=Math.max(0,b[Pe].g-100),te=!1;else try{Vv(Be,O,"req"+J+"_")}catch{p&&p(Be)}}if(te){p=O.join("&");break e}}}return o=o.i.splice(0,d),u.D=o,p}function Sd(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;ht||di(),sn||(ht(),sn=!0),mn.add(u,o),o.v=0}}function Ta(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Fr(I(o.Fa,o),Nd(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,Rd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Fr(I(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),ns(this),Rd(this))};function Ca(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function Rd(o){o.g=new Kt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=Ot(o.qa);se(u,"RID","rpc"),se(u,"SID",o.K),se(u,"AID",o.T),se(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&se(u,"TO",o.ja),se(u,"TYPE","xmlhttp"),Wr(o,u),o.m&&o.o&&Ia(u,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Zi(Ot(u)),d.m=null,d.P=!0,nd(d,o)}n.Za=function(){this.C!=null&&(this.C=null,ns(this),Ta(this),He(19))};function is(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function xd(o,u){var d=null;if(o.g==u){is(o),Ca(o),o.g=null;var p=2}else if(Ea(o.h,u))d=u.D,cd(o.h,u),p=1;else return;if(o.G!=0){if(u.o)if(p==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var b=o.B;p=Wi(),ke(p,new Xu(p,d)),rs(o)}else Sd(o);else if(b=u.s,b==3||b==0&&0<u.X||!(p==1&&jv(o,u)||p==2&&Ta(o)))switch(d&&0<d.length&&(u=o.h,u.i=u.i.concat(d)),b){case 1:vn(o,5);break;case 4:vn(o,10);break;case 3:vn(o,6);break;default:vn(o,2)}}}function Nd(o,u){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*u}function vn(o,u){if(o.j.info("Error code "+u),u==2){var d=I(o.fb,o),p=o.Xa;let b=!p;p=new _n(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ji(p,"https"),Zi(p),b?Mv(p.toString(),d):Ov(p.toString(),d)}else He(2);o.G=0,o.l&&o.l.sa(u),Pd(o),Cd(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function Pd(o){if(o.G=0,o.ka=[],o.l){let u=ld(o.h);(u.length!=0||o.i.length!=0)&&(P(o.ka,u),P(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function Md(o,u,d){var p=d instanceof _n?Ot(d):new _n(d);if(p.g!="")u&&(p.g=u+"."+p.g),Xi(p,p.s);else{var b=c.location;p=b.protocol,u=u?u+"."+b.hostname:b.hostname,b=+b.port;var A=new _n(null);p&&Ji(A,p),u&&(A.g=u),b&&Xi(A,b),d&&(A.l=d),p=A}return d=o.D,u=o.ya,d&&u&&se(p,d,u),se(p,"VER",o.la),Wr(o,p),p}function Od(o,u,d){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new ue(new qr({eb:d})):new ue(o.pa),u.Ha(o.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function kd(){}n=kd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ss(){}ss.prototype.g=function(o,u){return new rt(o,u)};function rt(o,u){Re.call(this),this.g=new Td(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!L(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!L(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Wn(this)}x(rt,Re),rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rt.prototype.close=function(){ba(this.g)},rt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=da(o),o=d);u.i.push(new bv(u.Ya++,o)),u.G==3&&rs(u)},rt.prototype.N=function(){this.g.l=null,delete this.j,ba(this.g),delete this.g,rt.aa.N.call(this)};function Vd(o){fa.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(let d in u){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}x(Vd,fa);function Fd(){pa.call(this),this.status=1}x(Fd,pa);function Wn(o){this.g=o}x(Wn,kd),Wn.prototype.ua=function(){ke(this.g,"a")},Wn.prototype.ta=function(o){ke(this.g,new Vd(o))},Wn.prototype.sa=function(o){ke(this.g,new Fd)},Wn.prototype.ra=function(){ke(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,rt.prototype.send=rt.prototype.o,rt.prototype.open=rt.prototype.m,rt.prototype.close=rt.prototype.close,oF=no.createWebChannelTransport=function(){return new ss},sF=no.getStatEventTarget=function(){return Wi()},iF=no.Event=gn,rF=no.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,nF=no.ErrorCode=Ki,Zu.COMPLETE="complete",tF=no.EventType=Zu,Ku.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",Re.prototype.listen=Re.prototype.K,eF=no.WebChannel=Ku,VX=no.FetchXmlHttpFactory=qr,ue.prototype.listenOnce=ue.prototype.L,ue.prototype.getLastError=ue.prototype.Ka,ue.prototype.getLastErrorCode=ue.prototype.Ba,ue.prototype.getStatus=ue.prototype.Z,ue.prototype.getResponseJson=ue.prototype.Oa,ue.prototype.getResponseText=ue.prototype.oa,ue.prototype.send=ue.prototype.ea,ue.prototype.setWithCredentials=ue.prototype.Ha,ZV=no.XhrIo=ue}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var aF="@firebase/firestore";var nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");var Jf="10.14.0";var Uu=new Xo("@firebase/firestore");function ui(n,...e){if(Uu.logLevel<=Ke.DEBUG){let t=e.map(iA);Uu.debug(`Firestore (${Jf}): ${n}`,...t)}}function hF(n,...e){if(Uu.logLevel<=Ke.ERROR){let t=e.map(iA);Uu.error(`Firestore (${Jf}): ${n}`,...t)}}function FX(n,...e){if(Uu.logLevel<=Ke.WARN){let t=e.map(iA);Uu.warn(`Firestore (${Jf}): ${n}`,...t)}}function iA(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function $n(n="Unexpected state"){let e=`FIRESTORE (${Jf}) INTERNAL ASSERTION FAILED: `+n;throw hF(e),new Error(e)}function kc(n,e){n||$n()}var Nn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},rn=class extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Vc=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var cv=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nn.UNAUTHENTICATED))}shutdown(){}},HD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},GD=class{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){kc(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new Vc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vc,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let l=s;e.enqueueRetryable(()=>R(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{ui("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(ui("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vc)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ui("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kc(typeof r.accessToken=="string"),new cv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return kc(e===null||typeof e=="string"),new nn(e)}},WD=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},KD=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WD(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},QD=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},YD=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){kc(this.o===void 0);let r=s=>{s.error!=null&&ui("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,ui("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{ui("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):ui("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kc(typeof t.token=="string"),this.R=t.token,new QD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function fF(n,e){return n<e?-1:n>e?1:0}var JD=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&$n(),r===void 0?r=e.length-t:r>e.length-t&&$n(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},aa=class n extends JD{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new rn(Nn.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}};var Fc=class n{constructor(e){this.path=e}static fromPath(e){return new n(aa.fromString(e))}static fromName(e){return new n(aa.fromString(e).popFirst(5))}static empty(){return new n(aa.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&aa.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return aa.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new aa(e.slice()))}};var XD=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};XD.UNKNOWN_ID=-1;function LX(n){return n.name==="IndexedDbTransactionError"}function UX(n){return n===0&&1/n==-1/0}var jX=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fge=[...jX,"documentOverlays"],BX=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$X=BX,qX=[...$X,"indexConfiguration","indexState","indexEntries"];var pge=[...qX,"globals"];var ju=class n{constructor(e,t){this.comparator=e,this.root=t||Bi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}},Lu=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bi=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $n();let e=this.left.check();if(e!==this.right.check())throw $n();return e+(this.isRed()?0:1)}};Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1;Bi.EMPTY=new class{constructor(){this.size=0}get key(){throw $n()}get value(){throw $n()}get color(){throw $n()}get left(){throw $n()}get right(){throw $n()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Bi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lv=class n{constructor(e){this.comparator=e,this.data=new ju(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(e){return new uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},uv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ZD=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Bu=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ZD("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fF(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Bu.EMPTY_BYTE_STRING=new Bu("");var zX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function HX(n){if(kc(!!n),typeof n=="string"){let e=0,t=zX.exec(n);if(kc(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yf(n.seconds),nanos:Yf(n.nanos)}}function Yf(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function GX(n){return typeof n=="string"?Bu.fromBase64String(n):Bu.fromUint8Array(n)}var eA=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function WX(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function KX(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var gge=new ju(Fc.comparator);var yge=new ju(Fc.comparator);var _ge=new ju(Fc.comparator),vge=new lv(Fc.comparator);var Ege=new lv(fF);var cF,je;(je=cF||(cF={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";var wge=new $D([4294967295,4294967295],0);var dv=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Yf(e.integerValue));else if("doubleValue"in e){let r=Yf(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),UX(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=HX(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(GX(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?KX(e)?this.dt(t,Number.MAX_SAFE_INTEGER):WX(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):$n()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let a="value",c=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Yf(c)),this.Vt(a,t),this.Tt(s[a],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Fc.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};dv.vt=new dv;var Ige=new Uint8Array(0);var ji=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(41943040,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);function qD(){return typeof document<"u"?document:null}var tA=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&ui("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var nA=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,c=new n(e,t,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rn(Nn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var lF,uF;(uF=lF||(lF={})).ea="default",uF.Cache="cache";function QX(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var dF=new Map;function YX(n,e,t,r){if(e===!0&&r===!0)throw new rn(Nn.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JX(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$n()}function XX(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new rn(Nn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=JX(n);throw new rn(Nn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var hv=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new rn(Nn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new rn(Nn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QX((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rn(Nn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rn(Nn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rn(Nn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fv=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rn(Nn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rn(Nn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zD;switch(r.type){case"firstParty":return new KD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rn(Nn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return R(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=dF.get(t);r&&(ui("ComponentProvider","Removing Datastore"),dF.delete(t),r.terminate())}(this),Promise.resolve()}};function pF(n,e,t,r={}){var i;let s=(n=XX(n,fv))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&FX("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=nn.MOCK_USER;else{c=Nk(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new rn(Nn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nn(h)}n._authCredentials=new HD(new cv(c,l))}}var pv=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tA(this,"async_queue_retry"),this.Vu=()=>{let r=qD();r&&ui("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=qD();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=qD();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Vc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return R(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!LX(e))throw e;ui("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw hF("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=nA.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&$n()}verifyOperationInProgress(){}wu(){return R(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var rA=class extends fv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pv,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return R(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new pv(e),this._firestoreClient=void 0,yield e}})}};function mF(n,e){let t=typeof n=="object"?n:Nu(),r=typeof n=="string"?n:e||"(default)",i=Uf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=xk("firestore");s&&pF(i,...s)}return i}var bge=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(i){Jf=i})(ta),ea(new xr("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),c=new rA(new GD(r.getProvider("auth-internal")),new YD(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new rn(Nn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eA(h.options.projectId,f)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),$t(aF,"4.7.3",e),$t(aF,"4.7.3","esm2017")})();var Xf=class{constructor(e){return e}},gF="firestore",sA=class{constructor(){return jf(gF)}};var oA=new X("angularfire2.firestore-instances");function ZX(n,e){let t=x_(gF,n,e);return t&&new Xf(t)}function eZ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Xf(r)}}var tZ={provide:sA,deps:[[new Fn,oA]]},nZ={provide:Xf,useFactory:ZX,deps:[[new Fn,oA],Js]};function yF(n,...e){return $t("angularfire",Sc.full,"fst"),fr([nZ,tZ,{provide:oA,useFactory:eZ(n),multi:!0,deps:[Qe,Vn,Ou,Rc,[new Fn,Qf],[new Fn,Mu],...e]}])}var _F=na(mF,!0);var rZ=[Wk(()=>Kk($y.firebaseConfig)),zV(()=>GV()),yF(()=>_F())];RN(ov,ve(q({},BD),{providers:[...BD.providers||[],...rZ]})).catch(n=>console.error(n));
