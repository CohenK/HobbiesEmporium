var LS=Object.defineProperty,dL=Object.defineProperties;var hL=Object.getOwnPropertyDescriptors;var VS=Object.getOwnPropertySymbols,fL=Object.getPrototypeOf,pL=Object.prototype.hasOwnProperty,mL=Object.prototype.propertyIsEnumerable,gL=Reflect.get;var FS=(n,e,t)=>e in n?LS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e)=>{for(var t in e||={})pL.call(e,t)&&FS(n,t,e[t]);if(VS)for(var t of VS(e))mL.call(e,t)&&FS(n,t,e[t]);return n},Ie=(n,e)=>dL(n,hL(e));var yL=(n,e)=>{for(var t in e)LS(n,t,{get:e[t],enumerable:!0})};var hs=(n,e,t)=>gL(fL(n),t,e);var R=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{c(t.next(l))}catch(h){i(h)}},a=l=>{try{c(t.throw(l))}catch(h){i(h)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);c((t=t.apply(n,e)).next())});function US(n,e){return Object.is(n,e)}var $t=null,yp=!1,_p=1,fs=Symbol("SIGNAL");function xe(n){let e=$t;return $t=n,e}function jS(){return $t}var nh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function cE(n){if(yp)throw new Error("");if($t===null)return;$t.consumerOnSignalRead(n);let e=$t.nextProducerIndex++;if(Ip($t),e<$t.producerNode.length&&$t.producerNode[e]!==n&&th($t)){let t=$t.producerNode[e];wp(t,$t.producerIndexOfThis[e])}$t.producerNode[e]!==n&&($t.producerNode[e]=n,$t.producerIndexOfThis[e]=th($t)?zS(n,$t,e):0),$t.producerLastReadVersion[e]=n.version}function _L(){_p++}function BS(n){if(!(th(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===_p)){if(!n.producerMustRecompute(n)&&!uE(n)){n.dirty=!1,n.lastCleanEpoch=_p;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=_p}}function $S(n){if(n.liveConsumerNode===void 0)return;let e=yp;yp=!0;try{for(let t of n.liveConsumerNode)t.dirty||vL(t)}finally{yp=e}}function qS(){return $t?.consumerAllowSignalWrites!==!1}function vL(n){n.dirty=!0,$S(n),n.consumerMarkedDirty?.(n)}function Ep(n){return n&&(n.nextProducerIndex=0),xe(n)}function lE(n,e){if(xe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(th(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)wp(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function uE(n){Ip(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(BS(t),r!==t.version))return!0}return!1}function dE(n){if(Ip(n),th(n))for(let e=0;e<n.producerNode.length;e++)wp(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function zS(n,e,t){if(HS(n),n.liveConsumerNode.length===0&&GS(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=zS(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function wp(n,e){if(HS(n),n.liveConsumerNode.length===1&&GS(n))for(let r=0;r<n.producerNode.length;r++)wp(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ip(i),i.producerIndexOfThis[r]=e}}function th(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ip(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function HS(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function GS(n){return n.producerNode!==void 0}function WS(n){let e=Object.create(EL);e.computation=n;let t=()=>{if(BS(e),cE(e),e.value===vp)throw e.error;return e.value};return t[fs]=e,t}var oE=Symbol("UNSET"),aE=Symbol("COMPUTING"),vp=Symbol("ERRORED"),EL=Ie(B({},nh),{value:oE,dirty:!0,error:null,equal:US,producerMustRecompute(n){return n.value===oE||n.value===aE},producerRecomputeValue(n){if(n.value===aE)throw new Error("Detected cycle in computations.");let e=n.value;n.value=aE;let t=Ep(n),r;try{r=n.computation()}catch(i){r=vp,n.error=i}finally{lE(n,t)}if(e!==oE&&e!==vp&&r!==vp&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function wL(){throw new Error}var KS=wL;function QS(){KS()}function YS(n){KS=n}var IL=null;function JS(n){let e=Object.create(ZS);e.value=n;let t=()=>(cE(e),e.value);return t[fs]=e,t}function hE(n,e){qS()||QS(),n.equal(n.value,e)||(n.value=e,bL(n))}function XS(n,e){qS()||QS(),hE(n,e(n.value))}var ZS=Ie(B({},nh),{equal:US,value:void 0});function bL(n){n.version++,_L(),$S(n),IL?.()}function _e(n){return typeof n=="function"}function Wc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var bp=Wc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Va(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(s){e=s instanceof bp?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{eA(s)}catch(a){e=e??[],a instanceof bp?e=[...e,...a.errors]:e.push(a)}}if(e)throw new bp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)eA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Va(t,e)}remove(e){let{_finalizers:t}=this;t&&Va(t,e),e instanceof n&&e._removeParent(this)}};Et.EMPTY=(()=>{let n=new Et;return n.closed=!0,n})();var fE=Et.EMPTY;function Tp(n){return n instanceof Et||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function eA(n){_e(n)?n():n.unsubscribe()}var Jr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Kc={setTimeout(n,e,...t){let{delegate:r}=Kc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Kc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Cp(n){Kc.setTimeout(()=>{let{onUnhandledError:e}=Jr;if(e)e(n);else throw n})}function rh(){}var tA=pE("C",void 0,void 0);function nA(n){return pE("E",void 0,n)}function rA(n){return pE("N",n,void 0)}function pE(n,e,t){return{kind:n,value:e,error:t}}var Fa=null;function Qc(n){if(Jr.useDeprecatedSynchronousErrorHandling){let e=!Fa;if(e&&(Fa={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Fa;if(Fa=null,t)throw r}}else n()}function iA(n){Jr.useDeprecatedSynchronousErrorHandling&&Fa&&(Fa.errorThrown=!0,Fa.error=n)}var La=class extends Et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tp(e)&&e.add(this)):this.destination=DL}static create(e,t,r){return new Yc(e,t,r)}next(e){this.isStopped?gE(rA(e),this):this._next(e)}error(e){this.isStopped?gE(nA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gE(tA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TL=Function.prototype.bind;function mE(n,e){return TL.call(n,e)}var yE=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Dp(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Dp(r)}else Dp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Dp(t)}}},Yc=class extends La{constructor(e,t,r){super();let i;if(_e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Jr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&mE(e.next,s),error:e.error&&mE(e.error,s),complete:e.complete&&mE(e.complete,s)}):i=e}this.destination=new yE(i)}};function Dp(n){Jr.useDeprecatedSynchronousErrorHandling?iA(n):Cp(n)}function CL(n){throw n}function gE(n,e){let{onStoppedNotification:t}=Jr;t&&Kc.setTimeout(()=>t(n,e))}var DL={closed:!0,next:rh,error:CL,complete:rh};var Jc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tr(n){return n}function _E(...n){return vE(n)}function vE(n){return n.length===0?tr:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=AL(t)?t:new Yc(t,r,i);return Qc(()=>{let{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=sA(r),new r((i,s)=>{let a=new Yc({next:c=>{try{t(c)}catch(l){s(l),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Jc](){return this}pipe(...t){return vE(t)(this)}toPromise(t){return t=sA(t),new t((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function sA(n){var e;return(e=n??Jr.Promise)!==null&&e!==void 0?e:Promise}function SL(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}function AL(n){return n&&n instanceof La||SL(n)&&Tp(n)}function EE(n){return _e(n?.lift)}function Le(n){return e=>{if(EE(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(n,e,t,r,i){return new wE(n,e,t,r,i)}var wE=class extends La{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(c){try{t(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Xc(){return Le((n,e)=>{let t=null;n._refCount++;let r=Ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Zc=class extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,EE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Et;let t=this.getSubject();e.add(this.source.subscribe(Ne(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Et.EMPTY)}return e}refCount(){return Xc()(this)}};var oA=Wc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var St=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Sp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new oA}next(t){Qc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Qc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?fE:(this.currentObservers=null,s.push(t),new Et(()=>{this.currentObservers=null,Va(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Re;return t.source=this,t}}return n.create=(e,t)=>new Sp(e,t),n})(),Sp=class extends St{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:fE}};var Tt=class extends St{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var IE={now(){return(IE.delegate||Date).now()},delegate:void 0};var Ap=class extends Et{constructor(e,t){super()}schedule(e,t=0){return this}};var ih={setInterval(n,e,...t){let{delegate:r}=ih;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ih;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var el=class extends Ap{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return ih.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ih.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Va(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var tl=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};tl.now=IE.now;var nl=class extends tl{constructor(e,t=tl.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var bE=new nl(el);var xp=class extends el{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Rp=class extends nl{};var TE=new Rp(xp);var nr=new Re(n=>n.complete());function aA(n){return n&&_e(n.schedule)}function cA(n){return n[n.length-1]}function Pp(n){return _e(cA(n))?n.pop():void 0}function po(n){return aA(cA(n))?n.pop():void 0}function CE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function uA(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function c(p){try{h(r.next(p))}catch(g){a(g)}}function l(p){try{h(r.throw(p))}catch(g){a(g)}}function h(p){p.done?s(p.value):i(p.value).then(c,l)}h((r=r.apply(n,e||[])).next())})}function lA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ua(n){return this instanceof Ua?(this.v=n,this):new Ua(n)}function dA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(T){return function(P){return Promise.resolve(P).then(T,g)}}function c(T,P){r[T]&&(i[T]=function(M){return new Promise(function(N,V){s.push([T,M,N,V])>1||l(T,M)})},P&&(i[T]=P(i[T])))}function l(T,P){try{h(r[T](P))}catch(M){I(s[0][3],M)}}function h(T){T.value instanceof Ua?Promise.resolve(T.value.v).then(p,g):I(s[0][2],T)}function p(T){l("next",T)}function g(T){l("throw",T)}function I(T,P){T(P),s.shift(),s.length&&l(s[0][0],s[0][1])}}function hA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof lA=="function"?lA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(c,l){a=n[s](a),i(c,l,a.done,a.value)})}}function i(s,a,c,l){Promise.resolve(l).then(function(h){s({value:h,done:c})},a)}}var Np=n=>n&&typeof n.length=="number"&&typeof n!="function";function Mp(n){return _e(n?.then)}function Op(n){return _e(n[Jc])}function kp(n){return Symbol.asyncIterator&&_e(n?.[Symbol.asyncIterator])}function Vp(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function xL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fp=xL();function Lp(n){return _e(n?.[Fp])}function Up(n){return dA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ua(t.read());if(i)return yield Ua(void 0);yield yield Ua(r)}}finally{t.releaseLock()}})}function jp(n){return _e(n?.getReader)}function At(n){if(n instanceof Re)return n;if(n!=null){if(Op(n))return RL(n);if(Np(n))return PL(n);if(Mp(n))return NL(n);if(kp(n))return fA(n);if(Lp(n))return ML(n);if(jp(n))return OL(n)}throw Vp(n)}function RL(n){return new Re(e=>{let t=n[Jc]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PL(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function NL(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Cp)})}function ML(n){return new Re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function fA(n){return new Re(e=>{kL(n,e).catch(t=>e.error(t))})}function OL(n){return fA(Up(n))}function kL(n,e){var t,r,i,s;return uA(this,void 0,void 0,function*(){try{for(t=hA(n);r=yield t.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Fn(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function mo(n,e=0){return Le((t,r)=>{t.subscribe(Ne(r,i=>Fn(r,n,()=>r.next(i),e),()=>Fn(r,n,()=>r.complete(),e),i=>Fn(r,n,()=>r.error(i),e)))})}function go(n,e=0){return Le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function pA(n,e){return At(n).pipe(go(e),mo(e))}function mA(n,e){return At(n).pipe(go(e),mo(e))}function gA(n,e){return new Re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function yA(n,e){return new Re(t=>{let r;return Fn(t,e,()=>{r=n[Fp](),Fn(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){t.error(a);return}s?t.complete():t.next(i)},0,!0)}),()=>_e(r?.return)&&r.return()})}function Bp(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{Fn(t,e,()=>{let r=n[Symbol.asyncIterator]();Fn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function _A(n,e){return Bp(Up(n),e)}function vA(n,e){if(n!=null){if(Op(n))return pA(n,e);if(Np(n))return gA(n,e);if(Mp(n))return mA(n,e);if(kp(n))return Bp(n,e);if(Lp(n))return yA(n,e);if(jp(n))return _A(n,e)}throw Vp(n)}function lt(n,e){return e?vA(n,e):At(n)}function de(...n){let e=po(n);return lt(n,e)}function rl(n,e){let t=_e(n)?n:()=>n,r=i=>i.error(t());return new Re(e?i=>e.schedule(r,0,i):r)}function DE(n){return!!n&&(n instanceof Re||_e(n.lift)&&_e(n.subscribe))}var ps=Wc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function he(n,e){return Le((t,r)=>{let i=0;t.subscribe(Ne(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:VL}=Array;function FL(n,e){return VL(e)?n(...e):n(e)}function $p(n){return he(e=>FL(n,e))}var{isArray:LL}=Array,{getPrototypeOf:UL,prototype:jL,keys:BL}=Object;function qp(n){if(n.length===1){let e=n[0];if(LL(e))return{args:e,keys:null};if($L(e)){let t=BL(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function $L(n){return n&&typeof n=="object"&&UL(n)===jL}function zp(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function sh(...n){let e=po(n),t=Pp(n),{args:r,keys:i}=qp(n);if(r.length===0)return lt([],e);let s=new Re(qL(r,e,i?a=>zp(i,a):tr));return t?s.pipe($p(t)):s}function qL(n,e,t=tr){return r=>{EA(e,()=>{let{length:i}=n,s=new Array(i),a=i,c=i;for(let l=0;l<i;l++)EA(e,()=>{let h=lt(n[l],e),p=!1;h.subscribe(Ne(r,g=>{s[l]=g,p||(p=!0,c--),c||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}function EA(n,e,t){n?Fn(t,n,e):e()}function wA(n,e,t,r,i,s,a,c){let l=[],h=0,p=0,g=!1,I=()=>{g&&!l.length&&!h&&e.complete()},T=M=>h<r?P(M):l.push(M),P=M=>{s&&e.next(M),h++;let N=!1;At(t(M,p++)).subscribe(Ne(e,V=>{i?.(V),s?T(V):e.next(V)},()=>{N=!0},void 0,()=>{if(N)try{for(h--;l.length&&h<r;){let V=l.shift();a?Fn(e,a,()=>P(V)):P(V)}I()}catch(V){e.error(V)}}))};return n.subscribe(Ne(e,T,()=>{g=!0,I()})),()=>{c?.()}}function xt(n,e,t=1/0){return _e(e)?xt((r,i)=>he((s,a)=>e(r,s,i,a))(At(n(r,i))),t):(typeof e=="number"&&(t=e),Le((r,i)=>wA(r,i,n,t)))}function il(n=1/0){return xt(tr,n)}function IA(){return il(1)}function sl(...n){return IA()(lt(n,po(n)))}function Hp(n){return new Re(e=>{At(n()).subscribe(e)})}function SE(...n){let e=Pp(n),{args:t,keys:r}=qp(n),i=new Re(s=>{let{length:a}=t;if(!a){s.complete();return}let c=new Array(a),l=a,h=a;for(let p=0;p<a;p++){let g=!1;At(t[p]).subscribe(Ne(s,I=>{g||(g=!0,h--),c[p]=I},()=>l--,void 0,()=>{(!l||!g)&&(h||s.next(r?zp(r,c):c),s.complete())}))}});return e?i.pipe($p(e)):i}function Ln(n,e){return Le((t,r)=>{let i=0;t.subscribe(Ne(r,s=>n.call(e,s,i++)&&r.next(s)))})}function yo(n){return Le((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Ne(t,void 0,void 0,a=>{s=At(n(a,yo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function bA(n,e,t,r,i){return(s,a)=>{let c=t,l=e,h=0;s.subscribe(Ne(a,p=>{let g=h++;l=c?n(l,p,g):(c=!0,p),r&&a.next(l)},i&&(()=>{c&&a.next(l),a.complete()})))}}function ms(n,e){return _e(e)?xt(n,e,1):xt(n,1)}function _o(n){return Le((e,t)=>{let r=!1;e.subscribe(Ne(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function gs(n){return n<=0?()=>nr:Le((e,t)=>{let r=0;e.subscribe(Ne(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function AE(n){return he(()=>n)}function Gp(n=zL){return Le((e,t)=>{let r=!1;e.subscribe(Ne(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function zL(){return new ps}function ja(n){return Le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function _i(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):tr,gs(1),t?_o(e):Gp(()=>new ps))}function ol(n){return n<=0?()=>nr:Le((e,t)=>{let r=[];e.subscribe(Ne(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function xE(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ln((i,s)=>n(i,s,r)):tr,ol(1),t?_o(e):Gp(()=>new ps))}function RE(n,e){return Le(bA(n,e,arguments.length>=2,!0))}function PE(...n){let e=po(n);return Le((t,r)=>{(e?sl(n,t,e):sl(n,t)).subscribe(r)})}function Un(n,e){return Le((t,r)=>{let i=null,s=0,a=!1,c=()=>a&&!i&&r.complete();t.subscribe(Ne(r,l=>{i?.unsubscribe();let h=0,p=s++;At(n(l,p)).subscribe(i=Ne(r,g=>r.next(e?e(l,g,p,h++):g),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function NE(n){return Le((e,t)=>{At(n).subscribe(Ne(t,()=>t.complete(),rh)),!t.closed&&e.subscribe(t)})}function Rt(n,e,t){let r=_e(n)||e||t?{next:n,error:e,complete:t}:n;return r?Le((i,s)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let c=!0;i.subscribe(Ne(s,l=>{var h;(h=r.next)===null||h===void 0||h.call(r,l),s.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var h;c=!1,(h=r.error)===null||h===void 0||h.call(r,l),s.error(l)},()=>{var l,h;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):tr}var ax="https://g.co/ng/security#xss",ee=class extends Error{constructor(e,t){super(Sm(e,t)),this.code=e}};function Sm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function vh(n){return{toString:n}.toString()}var Wp="__parameters__";function HL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function cx(n,e,t){return vh(()=>{let r=HL(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let a=new i(...s);return c.annotation=a,c;function c(l,h,p){let g=l.hasOwnProperty(Wp)?l[Wp]:Object.defineProperty(l,Wp,{value:[]})[Wp];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(a),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var $a=globalThis;function it(n){for(let e in n)if(n[e]===it)return e;throw Error("Could not find renamed property on target object.")}function GL(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Bn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Bn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function TA(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var WL=it({__forward_ref__:it});function Ti(n){return n.__forward_ref__=Ti,n.toString=function(){return Bn(this())},n}function Tn(n){return lx(n)?n():n}function lx(n){return typeof n=="function"&&n.hasOwnProperty(WL)&&n.__forward_ref__===Ti}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ci(n){return{providers:n.providers||[],imports:n.imports||[]}}function Am(n){return CA(n,dx)||CA(n,hx)}function ux(n){return Am(n)!==null}function CA(n,e){return n.hasOwnProperty(e)?n[e]:null}function KL(n){let e=n&&(n[dx]||n[hx]);return e||null}function DA(n){return n&&(n.hasOwnProperty(SA)||n.hasOwnProperty(QL))?n[SA]:null}var dx=it({\u0275prov:it}),SA=it({\u0275inj:it}),hx=it({ngInjectableDef:it}),QL=it({ngInjectorDef:it}),X=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fx(n){return n&&!!n.\u0275providers}var YL=it({\u0275cmp:it}),JL=it({\u0275dir:it}),XL=it({\u0275pipe:it}),ZL=it({\u0275mod:it}),rm=it({\u0275fac:it}),ah=it({__NG_ELEMENT_ID__:it}),AA=it({__NG_ENV_ID__:it});function ys(n){return typeof n=="string"?n:n==null?"":String(n)}function e2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ys(n)}function t2(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ee(-200,n)}function jw(n,e){throw new ee(-201,!1)}var De=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(De||{}),KE;function px(){return KE}function jn(n){let e=KE;return KE=n,e}function mx(n,e,t){let r=Am(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&De.Optional)return null;if(e!==void 0)return e;jw(n,"Injector")}var n2={},ch=n2,QE="__NG_DI_FLAG__",im="ngTempTokenPath",r2="ngTokenPath",i2=/\n/gm,s2="\u0275",xA="__source",dl;function o2(){return dl}function vo(n){let e=dl;return dl=n,e}function a2(n,e=De.Default){if(dl===void 0)throw new ee(-203,!1);return dl===null?mx(n,void 0,e):dl.get(n,e&De.Optional?null:void 0,e)}function te(n,e=De.Default){return(px()||a2)(Tn(n),e)}function H(n,e=De.Default){return te(n,xm(e))}function xm(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function YE(n){let e=[];for(let t=0;t<n.length;t++){let r=Tn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,s=De.Default;for(let a=0;a<r.length;a++){let c=r[a],l=c2(c);typeof l=="number"?l===-1?i=c.token:s|=l:i=c}e.push(te(i,s))}else e.push(te(r))}return e}function gx(n,e){return n[QE]=e,n.prototype[QE]=e,n}function c2(n){return n[QE]}function l2(n,e,t,r){let i=n[im];throw e[xA]&&i.unshift(e[xA]),n.message=u2(`
`+n.message,i,t,r),n[r2]=i,n[im]=null,n}function u2(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==s2?n.slice(2):n;let i=Bn(e);if(Array.isArray(e))i=e.map(Bn).join(" -> ");else if(typeof e=="object"){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+(typeof c=="string"?JSON.stringify(c):Bn(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(i2,`
  `)}`}var xn=gx(cx("Optional"),8);var yx=gx(cx("SkipSelf"),4);function za(n,e){let t=n.hasOwnProperty(rm);return t?n[rm]:null}function Bw(n,e){n.forEach(t=>Array.isArray(t)?Bw(t,e):e(t))}function _x(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function d2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function h2(n,e,t){let r=Eh(n,e);return r>=0?n[r|1]=t:(r=~r,d2(n,r,e,t)),r}function ME(n,e){let t=Eh(n,e);if(t>=0)return n[t|1]}function Eh(n,e){return f2(n,e,1)}function f2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}var fl={},mr=[],pl=new X(""),vx=new X("",-1),Ex=new X(""),om=class{get(e,t=ch){if(t===ch){let r=new Error(`NullInjectorError: No provider for ${Bn(e)}!`);throw r.name="NullInjectorError",r}return t}},wx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(wx||{}),wi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(wi||{}),Io=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Io||{});function p2(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function JE(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],a=t[r++],c=t[r++];n.setAttribute(e,a,c,s)}else{let s=i,a=t[++r];m2(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),r++}}return r}function Ix(n){return n===3||n===4||n===6}function m2(n){return n.charCodeAt(0)===64}function lh(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?RA(n,t,i,null,e[++r]):RA(n,t,i,null,null))}}return n}function RA(n,e,t,r,i){let s=0,a=n.length;if(e===-1)a=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}a!==-1&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var bx="ng-template";function g2(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&p2(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if($w(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function $w(n){return n.type===4&&n.value!==bx}function y2(n,e,t){let r=n.type===4&&!t?bx:n.value;return e===r}function _2(n,e,t){let r=4,i=n.attrs,s=i!==null?w2(i):0,a=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!a&&!Xr(r)&&!Xr(l))return!1;if(a&&Xr(l))continue;a=!1,r=l|r&1;continue}if(!a)if(r&4){if(r=2|r&1,l!==""&&!y2(n,l,t)||l===""&&e.length===1){if(Xr(r))return!1;a=!0}}else if(r&8){if(i===null||!g2(n,i,l,t)){if(Xr(r))return!1;a=!0}}else{let h=e[++c],p=v2(l,i,$w(n),t);if(p===-1){if(Xr(r))return!1;a=!0;continue}if(h!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&h!==g){if(Xr(r))return!1;a=!0}}}}return Xr(r)||a}function Xr(n){return(n&1)===0}function v2(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let a=e[i];if(a===n)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return I2(e,n)}function E2(n,e,t=!1){for(let r=0;r<e.length;r++)if(_2(n,e[r],t))return!0;return!1}function w2(n){for(let e=0;e<n.length;e++){let t=n[e];if(Ix(t))return e}return n.length}function I2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function PA(n,e){return n?":not("+e.trim()+")":e}function b2(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if(typeof a=="string")if(r&2){let c=n[++t];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Xr(a)&&(e+=PA(s,i),i=""),r=a,s=s||!Xr(r);t++}return i!==""&&(e+=PA(s,i)),e}function T2(n){return n.map(b2).join(",")}function C2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Xr(i))break;i=s}r++}return{attrs:e,classes:t}}function se(n){return vh(()=>{let e=Ax(n),t=Ie(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wi.Emulated,styles:n.styles||mr,_:null,schemas:n.schemas||null,tView:null,id:""});xx(t);let r=n.dependencies;return t.directiveDefs=MA(r,!1),t.pipeDefs=MA(r,!0),t.id=A2(t),t})}function D2(n){return bo(n)||Tx(n)}function S2(n){return n!==null}function Di(n){return vh(()=>({type:n.type,bootstrap:n.bootstrap||mr,declarations:n.declarations||mr,imports:n.imports||mr,exports:n.exports||mr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function NA(n,e){if(n==null)return fl;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,a,c=Io.None;Array.isArray(i)?(c=i[0],s=i[1],a=i[2]??s):(s=i,a=i),e?(t[s]=c!==Io.None?[r,c]:r,e[s]=a):t[s]=r}return t}function Nt(n){return vh(()=>{let e=Ax(n);return xx(e),e})}function wh(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function bo(n){return n[YL]||null}function Tx(n){return n[JL]||null}function Cx(n){return n[XL]||null}function Dx(n){let e=bo(n)||Tx(n)||Cx(n);return e!==null?e.standalone:!1}function Sx(n,e){let t=n[ZL]||null;if(!t&&e===!0)throw new Error(`Type ${Bn(n)} does not have '\u0275mod' property.`);return t}function Ax(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||fl,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||mr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:NA(n.inputs,e),outputs:NA(n.outputs),debugInfo:null}}function xx(n){n.features?.forEach(e=>e(n))}function MA(n,e){if(!n)return null;let t=e?Cx:D2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(S2)}function A2(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function yr(n){return{\u0275providers:n}}function x2(...n){return{\u0275providers:Rx(!0,n),\u0275fromNgModule:!0}}function Rx(n,...e){let t=[],r=new Set,i,s=a=>{t.push(a)};return Bw(e,a=>{let c=a;XE(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&Px(i,s),t}function Px(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];qw(i,s=>{e(s,r)})}}function XE(n,e,t,r){if(n=Tn(n),!n)return!1;let i=null,s=DA(n),a=!s&&bo(n);if(!s&&!a){let l=n.ngModule;if(s=DA(l),s)i=l;else return!1}else{if(a&&!a.standalone)return!1;i=n}let c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let h of l)XE(h,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let h;try{Bw(s.imports,p=>{XE(p,e,t,r)&&(h||=[],h.push(p))})}finally{}h!==void 0&&Px(h,e)}if(!c){let h=za(i)||(()=>new i);e({provide:i,useFactory:h,deps:mr},i),e({provide:Ex,useValue:i,multi:!0},i),e({provide:pl,useValue:()=>te(i),multi:!0},i)}let l=s.providers;if(l!=null&&!c){let h=n;qw(l,p=>{e(p,h)})}}else return!1;return i!==n&&n.providers!==void 0}function qw(n,e){for(let t of n)fx(t)&&(t=t.\u0275providers),Array.isArray(t)?qw(t,e):e(t)}var R2=it({provide:String,useValue:it});function Nx(n){return n!==null&&typeof n=="object"&&R2 in n}function P2(n){return!!(n&&n.useExisting)}function N2(n){return!!(n&&n.useFactory)}function ml(n){return typeof n=="function"}function M2(n){return!!n.useClass}var Rm=new X(""),Xp={},O2={},OE;function zw(){return OE===void 0&&(OE=new om),OE}var Dn=class{},uh=class extends Dn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ew(e,a=>this.processProvider(a)),this.records.set(vx,al(void 0,this)),i.has("environment")&&this.records.set(Dn,al(void 0,this));let s=this.records.get(Rm);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ex,mr,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=vo(this),r=jn(void 0),i;try{return e()}finally{vo(t),jn(r)}}get(e,t=ch,r=De.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(AA))return e[AA](this);r=xm(r);let i,s=vo(this),a=jn(void 0);try{if(!(r&De.SkipSelf)){let l=this.records.get(e);if(l===void 0){let h=U2(e)&&Am(e);h&&this.injectableDefInScope(h)?l=al(ZE(e),Xp):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&De.Self?zw():this.parent;return t=r&De.Optional&&t===ch?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[im]=c[im]||[]).unshift(Bn(e)),s)throw c;return l2(c,e,"R3InjectorError",this.source)}else throw c}finally{jn(a),vo(s)}}resolveInjectorInitializers(){let e=xe(null),t=vo(this),r=jn(void 0),i;try{let s=this.get(pl,mr,De.Self);for(let a of s)a()}finally{vo(t),jn(r),xe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Bn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ee(205,!1)}processProvider(e){e=Tn(e);let t=ml(e)?e:Tn(e&&e.provide),r=V2(e);if(!ml(e)&&e.multi===!0){let i=this.records.get(t);i||(i=al(void 0,Xp,!0),i.factory=()=>YE(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=xe(null);try{return t.value===Xp&&(t.value=O2,t.value=t.factory()),typeof t.value=="object"&&t.value&&L2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Tn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ZE(n){let e=Am(n),t=e!==null?e.factory:za(n);if(t!==null)return t;if(n instanceof X)throw new ee(204,!1);if(n instanceof Function)return k2(n);throw new ee(204,!1)}function k2(n){if(n.length>0)throw new ee(204,!1);let t=KL(n);return t!==null?()=>t.factory(n):()=>new n}function V2(n){if(Nx(n))return al(void 0,n.useValue);{let e=Mx(n);return al(e,Xp)}}function Mx(n,e,t){let r;if(ml(n)){let i=Tn(n);return za(i)||ZE(i)}else if(Nx(n))r=()=>Tn(n.useValue);else if(N2(n))r=()=>n.useFactory(...YE(n.deps||[]));else if(P2(n))r=()=>te(Tn(n.useExisting));else{let i=Tn(n&&(n.useClass||n.provide));if(F2(n))r=()=>new i(...YE(n.deps));else return za(i)||ZE(i)}return r}function al(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function F2(n){return!!n.deps}function L2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function U2(n){return typeof n=="function"||typeof n=="object"&&n instanceof X}function ew(n,e){for(let t of n)Array.isArray(t)?ew(t,e):t&&fx(t)?ew(t.\u0275providers,e):e(t)}function _r(n,e){n instanceof uh&&n.assertNotDestroyed();let t,r=vo(n),i=jn(void 0);try{return e()}finally{vo(r),jn(i)}}function Ox(){return px()!==void 0||o2()!=null}function j2(n){if(!Ox())throw new ee(-203,!1)}function B2(n){return typeof n=="function"}var ws=0,be=1,ge=2,Sn=3,Zr=4,ni=5,dh=6,am=7,hn=8,gl=9,Ii=10,Pt=11,hh=12,OA=13,Sl=14,ei=15,yl=16,cl=17,_l=18,Pm=19,kx=20,Eo=21,kE=22,gr=23,An=25,Vx=1;var Ha=7,cm=8,lm=9,Cn=10,um=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(um||{});function wo(n){return Array.isArray(n)&&typeof n[Vx]=="object"}function Is(n){return Array.isArray(n)&&n[Vx]===!0}function Fx(n){return(n.flags&4)!==0}function Nm(n){return n.componentOffset>-1}function Hw(n){return(n.flags&1)===1}function To(n){return!!n.template}function tw(n){return(n[ge]&512)!==0}var nw=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Lx(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function bs(){return Ux}function Ux(n){return n.type.prototype.ngOnChanges&&(n.setInput=q2),$2}bs.ngInherit=!0;function $2(){let n=Bx(this),e=n?.current;if(e){let t=n.previous;if(t===fl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function q2(n,e,t,r,i){let s=this.declaredInputs[r],a=Bx(n)||z2(n,{previous:fl,current:null}),c=a.current||(a.current={}),l=a.previous,h=l[s];c[s]=new nw(h&&h.currentValue,t,l===fl),Lx(n,e,i,t)}var jx="__ngSimpleChanges__";function Bx(n){return n[jx]||null}function z2(n,e){return n[jx]=e}var kA=null;var vi=function(n,e,t){kA?.(n,e,t)},$x="svg",H2="math";function bi(n){for(;Array.isArray(n);)n=n[ws];return n}function qx(n,e){return bi(e[n])}function vr(n,e){return bi(e[n.index])}function Gw(n,e){return n.data[e]}function Ww(n,e){return n[e]}function Do(n,e){let t=e[n];return wo(t)?t:t[ws]}function Kw(n){return(n[ge]&128)===128}function G2(n){return Is(n[Sn])}function vl(n,e){return e==null?null:n[e]}function zx(n){n[cl]=0}function Hx(n){n[ge]&1024||(n[ge]|=1024,Kw(n)&&Om(n))}function W2(n,e){for(;n>0;)e=e[Sl],n--;return e}function Mm(n){return!!(n[ge]&9216||n[gr]?.dirty)}function rw(n){n[Ii].changeDetectionScheduler?.notify(8),n[ge]&64&&(n[ge]|=1024),Mm(n)&&Om(n)}function Om(n){n[Ii].changeDetectionScheduler?.notify(0);let e=Ga(n);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!Kw(e)));)e=Ga(e)}function Gx(n,e){if((n[ge]&256)===256)throw new ee(911,!1);n[Eo]===null&&(n[Eo]=[]),n[Eo].push(e)}function K2(n,e){if(n[Eo]===null)return;let t=n[Eo].indexOf(e);t!==-1&&n[Eo].splice(t,1)}function Ga(n){let e=n[Sn];return Is(e)?e[Sn]:e}var Ce={lFrame:nR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wx=!1;function Q2(){return Ce.lFrame.elementDepthCount}function Y2(){Ce.lFrame.elementDepthCount++}function J2(){Ce.lFrame.elementDepthCount--}function Kx(){return Ce.bindingsEnabled}function X2(){return Ce.skipHydrationRootTNode!==null}function Z2(n){return Ce.skipHydrationRootTNode===n}function eU(){Ce.skipHydrationRootTNode=null}function Me(){return Ce.lFrame.lView}function fn(){return Ce.lFrame.tView}function Mt(n){return Ce.lFrame.contextLView=n,n[hn]}function Ot(n){return Ce.lFrame.contextLView=null,n}function $n(){let n=Qx();for(;n!==null&&n.type===64;)n=n.parent;return n}function Qx(){return Ce.lFrame.currentTNode}function tU(){let n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ih(n,e){let t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function Yx(){return Ce.lFrame.isParent}function nU(){Ce.lFrame.isParent=!1}function Jx(){return Wx}function VA(n){Wx=n}function km(){let n=Ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Xx(){return Ce.lFrame.bindingIndex}function rU(n){return Ce.lFrame.bindingIndex=n}function Al(){return Ce.lFrame.bindingIndex++}function Qw(n){let e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function iU(){return Ce.lFrame.inI18n}function sU(n,e){let t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,iw(e)}function oU(){return Ce.lFrame.currentDirectiveIndex}function iw(n){Ce.lFrame.currentDirectiveIndex=n}function aU(n){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Zx(n){Ce.lFrame.currentQueryIndex=n}function cU(n){let e=n[be];return e.type===2?e.declTNode:e.type===1?n[ni]:null}function eR(n,e,t){if(t&De.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&De.Host);)if(i=cU(s),i===null||(s=s[Sl],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Ce.lFrame=tR();return r.currentTNode=e,r.lView=n,!0}function Yw(n){let e=tR(),t=n[be];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function tR(){let n=Ce.lFrame,e=n===null?null:n.child;return e===null?nR(n):e}function nR(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function rR(){let n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var iR=rR;function Jw(){let n=rR();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function lU(n){return(Ce.lFrame.contextLView=W2(n,Ce.lFrame.contextLView))[hn]}function Ts(){return Ce.lFrame.selectedIndex}function Wa(n){Ce.lFrame.selectedIndex=n}function Vm(){let n=Ce.lFrame;return Gw(n.tView,n.selectedIndex)}function Xw(){Ce.lFrame.currentNamespace=$x}function sR(){uU()}function uU(){Ce.lFrame.currentNamespace=null}function dU(){return Ce.lFrame.currentNamespace}var oR=!0;function Zw(){return oR}function eI(n){oR=n}function hU(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let a=Ux(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function tI(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:p}=s;a&&(n.contentHooks??=[]).push(-t,a),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),l&&(n.viewHooks??=[]).push(-t,l),h&&((n.viewHooks??=[]).push(t,h),(n.viewCheckHooks??=[]).push(t,h)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function Zp(n,e,t){aR(n,e,3,t)}function em(n,e,t,r){(n[ge]&3)===t&&aR(n,e,t,r)}function VE(n,e){let t=n[ge];(t&3)===e&&(t&=16383,t+=1,n[ge]=t)}function aR(n,e,t,r){let i=r!==void 0?n[cl]&65535:0,s=r??-1,a=e.length-1,c=0;for(let l=i;l<a;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(n[cl]+=65536),(c<s||s==-1)&&(fU(n,t,e,l),n[cl]=(n[cl]&4294901760)+l+2),l++}function FA(n,e){vi(4,n,e);let t=xe(null);try{e.call(n)}finally{xe(t),vi(5,n,e)}}function fU(n,e,t,r){let i=t[r]<0,s=t[r+1],a=i?-t[r]:t[r],c=n[a];i?n[ge]>>14<n[cl]>>16&&(n[ge]&3)===e&&(n[ge]+=16384,FA(c,s)):FA(c,s)}var hl=-1,Ka=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function pU(n){return n instanceof Ka}function mU(n){return(n.flags&8)!==0}function gU(n){return(n.flags&16)!==0}var FE={},sw=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=xm(r);let i=this.injector.get(e,FE,r);return i!==FE||t===FE?i:this.parentInjector.get(e,t,r)}};function cR(n){return n!==hl}function dm(n){return n&32767}function yU(n){return n>>16}function hm(n,e){let t=yU(n),r=e;for(;t>0;)r=r[Sl],t--;return r}var ow=!0;function fm(n){let e=ow;return ow=n,e}var _U=256,lR=_U-1,uR=5,vU=0,Ei={};function EU(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ah)&&(r=t[ah]),r==null&&(r=t[ah]=vU++);let i=r&lR,s=1<<i;e.data[n+(i>>uR)]|=s}function pm(n,e){let t=dR(n,e);if(t!==-1)return t;let r=e[be];r.firstCreatePass&&(n.injectorIndex=e.length,LE(r.data,n),LE(e,null),LE(r.blueprint,null));let i=nI(n,e),s=n.injectorIndex;if(cR(i)){let a=dm(i),c=hm(i,e),l=c[be].data;for(let h=0;h<8;h++)e[s+h]=c[a+h]|l[a+h]}return e[s+8]=i,s}function LE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function nI(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=gR(i),r===null)return hl;if(t++,i=i[Sl],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return hl}function aw(n,e,t){EU(n,e,t)}function wU(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(Ix(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function hR(n,e,t){if(t&De.Optional||n!==void 0)return n;jw(e,"NodeInjector")}function fR(n,e,t,r){if(t&De.Optional&&r===void 0&&(r=null),!(t&(De.Self|De.Host))){let i=n[gl],s=jn(void 0);try{return i?i.get(e,r,t&De.Optional):mx(e,r,t&De.Optional)}finally{jn(s)}}return hR(r,e,t)}function pR(n,e,t,r=De.Default,i){if(n!==null){if(e[ge]&2048&&!(r&De.Self)){let a=DU(n,e,t,r,Ei);if(a!==Ei)return a}let s=mR(n,e,t,r,Ei);if(s!==Ei)return s}return fR(e,t,r,i)}function mR(n,e,t,r,i){let s=TU(t);if(typeof s=="function"){if(!eR(e,n,r))return r&De.Host?hR(i,t,r):fR(e,t,r,i);try{let a;if(a=s(r),a==null&&!(r&De.Optional))jw(t);else return a}finally{iR()}}else if(typeof s=="number"){let a=null,c=dR(n,e),l=hl,h=r&De.Host?e[ei][ni]:null;for((c===-1||r&De.SkipSelf)&&(l=c===-1?nI(n,e):e[c+8],l===hl||!UA(r,!1)?c=-1:(a=e[be],c=dm(l),e=hm(l,e)));c!==-1;){let p=e[be];if(LA(s,c,p.data)){let g=IU(c,e,t,a,r,h);if(g!==Ei)return g}l=e[c+8],l!==hl&&UA(r,e[be].data[c+8]===h)&&LA(s,c,e)?(a=p,c=dm(l),e=hm(l,e)):c=-1}}return i}function IU(n,e,t,r,i,s){let a=e[be],c=a.data[n+8],l=r==null?Nm(c)&&ow:r!=a&&(c.type&3)!==0,h=i&De.Host&&s===c,p=bU(c,a,t,l,h);return p!==null?El(e,a,p,c):Ei}function bU(n,e,t,r,i){let s=n.providerIndexes,a=e.data,c=s&1048575,l=n.directiveStart,h=n.directiveEnd,p=s>>20,g=r?c:c+p,I=i?c+p:h;for(let T=g;T<I;T++){let P=a[T];if(T<l&&t===P||T>=l&&P.type===t)return T}if(i){let T=a[l];if(T&&To(T)&&T.type===t)return l}return null}function El(n,e,t,r){let i=n[t],s=e.data;if(pU(i)){let a=i;a.resolving&&t2(e2(s[t]));let c=fm(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?jn(a.injectImpl):null,p=eR(n,r,De.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&hU(t,s[t],e)}finally{h!==null&&jn(h),fm(c),a.resolving=!1,iR()}}return i}function TU(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ah)?n[ah]:void 0;return typeof e=="number"?e>=0?e&lR:CU:e}function LA(n,e,t){let r=1<<n;return!!(t[e+(n>>uR)]&r)}function UA(n,e){return!(n&De.Self)&&!(n&De.Host&&e)}var qa=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return pR(this._tNode,this._lView,e,xm(r),t)}};function CU(){return new qa($n(),Me())}function Ja(n){return vh(()=>{let e=n.prototype.constructor,t=e[rm]||cw(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[rm]||cw(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function cw(n){return lx(n)?()=>{let e=cw(Tn(n));return e&&e()}:za(n)}function DU(n,e,t,r,i){let s=n,a=e;for(;s!==null&&a!==null&&a[ge]&2048&&!(a[ge]&512);){let c=mR(s,a,t,r|De.Self,Ei);if(c!==Ei)return c;let l=s.parent;if(!l){let h=a[kx];if(h){let p=h.get(t,Ei,r);if(p!==Ei)return p}l=gR(a),a=a[Sl]}s=l}return i}function gR(n){let e=n[be],t=e.type;return t===2?e.declTNode:t===1?n[ni]:null}function rI(n){return wU($n(),n)}function jA(n,e=null,t=null,r){let i=yR(n,e,t,r);return i.resolveInjectorInitializers(),i}function yR(n,e=null,t=null,r,i=new Set){let s=[t||mr,x2(n)];return r=r||(typeof n=="object"?void 0:Bn(n)),new uh(s,e||zw(),r||null,i)}var nn=class n{static{this.THROW_IF_NOT_FOUND=ch}static{this.NULL=new om}static create(e,t){if(Array.isArray(e))return jA({name:""},t,e,"");{let r=e.name??"";return jA({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=K({token:n,providedIn:"any",factory:()=>te(vx)})}static{this.__NG_ELEMENT_ID__=-1}};var SU=new X("");SU.__NG_ELEMENT_ID__=n=>{let e=$n();if(e===null)throw new ee(204,!1);if(e.type&2)return e.value;if(n&De.Optional)return null;throw new ee(204,!1)};var AU="ngOriginalError";function UE(n){return n[AU]}var _R=!0,iI=(()=>{class n{static{this.__NG_ELEMENT_ID__=xU}static{this.__NG_ENV_ID__=t=>t}}return n})(),lw=class extends iI{constructor(e){super(),this._lView=e}onDestroy(e){return Gx(this._lView,e),()=>K2(this._lView,e)}};function xU(){return new lw(Me())}var So=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}}return n})();var uw=class extends St{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Ox()&&(this.destroyRef=H(iI,{optional:!0})??void 0,this.pendingTasks=H(So,{optional:!0})??void 0)}emit(e){let t=xe(null);try{super.next(e)}finally{xe(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),a=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:i,error:s,complete:a});return e instanceof Et&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},dt=uw;function mm(...n){}function vR(n){let e,t;function r(){n=mm;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function BA(n){return queueMicrotask(()=>n()),()=>{n=mm}}var sI="isAngularZone",gm=sI+"_ID",RU=0,ze=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dt(!1),this.onMicrotaskEmpty=new dt(!1),this.onStable=new dt(!1),this.onError=new dt(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=_R}=e;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=s,MU(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sI)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ee(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,PU,mm,mm);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},PU={};function oI(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function NU(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){vR(()=>{n.callbackScheduled=!1,dw(n),n.isCheckStableRunning=!0,oI(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),dw(n)}function MU(n){let e=()=>{NU(n)},t=RU++;n._inner=n._inner.fork({name:"angular",properties:{[sI]:!0,[gm]:t,[gm+t]:!0},onInvokeTask:(r,i,s,a,c,l)=>{if(OU(l))return r.invokeTask(s,a,c,l);try{return $A(n),r.invokeTask(s,a,c,l)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),qA(n)}},onInvoke:(r,i,s,a,c,l,h)=>{try{return $A(n),r.invoke(s,a,c,l,h)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!kU(l)&&e(),qA(n)}},onHasTask:(r,i,s,a)=>{r.hasTask(s,a),i===s&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,dw(n),oI(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,s,a)=>(r.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function dw(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function $A(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qA(n){n._nesting--,oI(n)}var hw=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dt,this.onMicrotaskEmpty=new dt,this.onStable=new dt,this.onError=new dt}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function OU(n){return ER(n,"__ignore_ng_zone__")}function kU(n){return ER(n,"__scheduler_tick__")}function ER(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var _s=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&UE(e);for(;t&&UE(t);)t=UE(t);return t||null}},VU=new X("",{providedIn:"root",factory:()=>{let n=H(ze),e=H(_s);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function FU(){return aI($n(),Me())}function aI(n,e){return new ri(vr(n,e))}var ri=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=FU}}return n})();function wR(n){return(n.flags&128)===128}var IR=new Map,LU=0;function UU(){return LU++}function jU(n){IR.set(n[Pm],n)}function fw(n){IR.delete(n[Pm])}var zA="__ngContext__";function Qa(n,e){wo(e)?(n[zA]=e[Pm],jU(e)):n[zA]=e}function bR(n){return CR(n[hh])}function TR(n){return CR(n[Zr])}function CR(n){for(;n!==null&&!Is(n);)n=n[Zr];return n}var pw;function DR(n){pw=n}function BU(){if(pw!==void 0)return pw;if(typeof document<"u")return document;throw new ee(210,!1)}var cI=new X("",{providedIn:"root",factory:()=>$U}),$U="ng",lI=new X(""),Er=new X("",{providedIn:"platform",factory:()=>"unknown"});var uI=new X("",{providedIn:"root",factory:()=>BU().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qU="h",zU="b";var HU=()=>null;function dI(n,e,t=!1){return HU(n,e,t)}var SR=!1,GU=new X("",{providedIn:"root",factory:()=>SR});var Kp;function WU(){if(Kp===void 0&&(Kp=null,$a.trustedTypes))try{Kp=$a.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kp}function HA(n){return WU()?.createScriptURL(n)||n}var ym=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ax})`}};function bh(n){return n instanceof ym?n.changingThisBreaksApplicationSecurity:n}function hI(n,e){let t=KU(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ax})`)}return t===e}function KU(n){return n instanceof ym&&n.getTypeName()||null}var QU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AR(n){return n=String(n),n.match(QU)?n:"unsafe:"+n}var Fm=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Fm||{});function Th(n){let e=RR();return e?e.sanitize(Fm.URL,n)||"":hI(n,"URL")?bh(n):AR(ys(n))}function YU(n){let e=RR();if(e)return HA(e.sanitize(Fm.RESOURCE_URL,n)||"");if(hI(n,"ResourceURL"))return HA(bh(n));throw new ee(904,!1)}function JU(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?YU:Th}function xR(n,e,t){return JU(e,t)(n)}function RR(){let n=Me();return n&&n[Ii].sanitizer}function PR(n){return n instanceof Function?n():n}function XU(n){return(n??H(nn)).get(Er)==="browser"}var vs=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vs||{}),ZU;function fI(n,e){return ZU(n,e)}function ll(n,e,t,r,i){if(r!=null){let s,a=!1;Is(r)?s=r:wo(r)&&(a=!0,r=r[ws]);let c=bi(r);n===0&&t!==null?i==null?kR(e,t,c):_m(e,t,c,i||null,!0):n===1&&t!==null?_m(e,t,c,i||null,!0):n===2?pj(e,c,a):n===3&&e.destroyNode(c),s!=null&&gj(e,n,s,t,i)}}function ej(n,e){return n.createText(e)}function tj(n,e,t){n.setValue(e,t)}function NR(n,e,t){return n.createElement(e,t)}function nj(n,e){MR(n,e),e[ws]=null,e[ni]=null}function rj(n,e,t,r,i,s){r[ws]=i,r[ni]=e,Um(n,r,t,1,i,s)}function MR(n,e){e[Ii].changeDetectionScheduler?.notify(9),Um(n,e,e[Pt],2,null,null)}function ij(n){let e=n[hh];if(!e)return jE(n[be],n);for(;e;){let t=null;if(wo(e))t=e[hh];else{let r=e[Cn];r&&(t=r)}if(!t){for(;e&&!e[Zr]&&e!==n;)wo(e)&&jE(e[be],e),e=e[Sn];e===null&&(e=n),wo(e)&&jE(e[be],e),t=e&&e[Zr]}e=t}}function sj(n,e,t,r){let i=Cn+r,s=t.length;r>0&&(t[i-1][Zr]=e),r<s-Cn?(e[Zr]=t[i],_x(t,Cn+r,e)):(t.push(e),e[Zr]=null),e[Sn]=t;let a=e[yl];a!==null&&t!==a&&OR(a,e);let c=e[_l];c!==null&&c.insertView(n),rw(e),e[ge]|=128}function OR(n,e){let t=n[lm],r=e[Sn];if(wo(r))n[ge]|=um.HasTransplantedViews;else{let i=r[Sn][ei];e[ei]!==i&&(n[ge]|=um.HasTransplantedViews)}t===null?n[lm]=[e]:t.push(e)}function pI(n,e){let t=n[lm],r=t.indexOf(e);t.splice(r,1)}function fh(n,e){if(n.length<=Cn)return;let t=Cn+e,r=n[t];if(r){let i=r[yl];i!==null&&i!==n&&pI(i,r),e>0&&(n[t-1][Zr]=r[Zr]);let s=sm(n,Cn+e);nj(r[be],r);let a=s[_l];a!==null&&a.detachView(s[be]),r[Sn]=null,r[Zr]=null,r[ge]&=-129}return r}function Lm(n,e){if(!(e[ge]&256)){let t=e[Pt];t.destroyNode&&Um(n,e,t,3,null,null),ij(e)}}function jE(n,e){if(e[ge]&256)return;let t=xe(null);try{e[ge]&=-129,e[ge]|=256,e[gr]&&dE(e[gr]),aj(n,e),oj(n,e),e[be].type===1&&e[Pt].destroy();let r=e[yl];if(r!==null&&Is(e[Sn])){r!==e[Sn]&&pI(r,e);let i=e[_l];i!==null&&i.detachView(n)}fw(e)}finally{xe(t)}}function oj(n,e){let t=n.cleanup,r=e[am];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[am]=null);let i=e[Eo];if(i!==null){e[Eo]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function aj(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ka)){let s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let c=i[s[a]],l=s[a+1];vi(4,c,l);try{l.call(c)}finally{vi(5,c,l)}}else{vi(4,i,s);try{s.call(i)}finally{vi(5,i,s)}}}}}function cj(n,e,t){return lj(n,e.parent,t)}function lj(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ws];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===wi.None||s===wi.Emulated)return null}return vr(r,t)}}function _m(n,e,t,r,i){n.insertBefore(e,t,r,i)}function kR(n,e,t){n.appendChild(e,t)}function GA(n,e,t,r,i){r!==null?_m(n,e,t,r,i):kR(n,e,t)}function VR(n,e){return n.parentNode(e)}function uj(n,e){return n.nextSibling(e)}function dj(n,e,t){return fj(n,e,t)}function hj(n,e,t){return n.type&40?vr(n,t):null}var fj=hj,WA;function mI(n,e,t,r){let i=cj(n,r,e),s=e[Pt],a=r.parent||e[ni],c=dj(a,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)GA(s,i,t[l],c,!1);else GA(s,i,t,c,!1);WA!==void 0&&WA(s,r,e,t,i)}function oh(n,e){if(e!==null){let t=e.type;if(t&3)return vr(e,n);if(t&4)return mw(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return oh(n,r);{let i=n[e.index];return Is(i)?mw(-1,i):bi(i)}}else{if(t&128)return oh(n,e.next);if(t&32)return fI(e,n)()||bi(n[e.index]);{let r=FR(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ga(n[ei]);return oh(i,r)}else return oh(n,e.next)}}}return null}function FR(n,e){if(e!==null){let r=n[ei][ni],i=e.projection;return r.projection[i]}return null}function mw(n,e){let t=Cn+n+1;if(t<e.length){let r=e[t],i=r[be].firstChild;if(i!==null)return oh(r,i)}return e[Ha]}function pj(n,e,t){n.removeChild(null,e,t)}function gI(n,e,t,r,i,s,a){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],l=t.type;if(a&&e===0&&(c&&Qa(bi(c),r),t.flags|=2),(t.flags&32)!==32)if(l&8)gI(n,e,t.child,r,i,s,!1),ll(e,n,i,c,s);else if(l&32){let h=fI(t,r),p;for(;p=h();)ll(e,n,i,p,s);ll(e,n,i,c,s)}else l&16?mj(n,e,r,t,i,s):ll(e,n,i,c,s);t=a?t.projectionNext:t.next}}function Um(n,e,t,r,i,s){gI(t,r,n.firstChild,e,i,s,!1)}function mj(n,e,t,r,i,s){let a=t[ei],l=a[ni].projection[r.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++){let p=l[h];ll(e,n,i,p,s)}else{let h=l,p=a[Sn];wR(r)&&(h.flags|=128),gI(n,e,h,p,i,s,!0)}}function gj(n,e,t,r,i){let s=t[Ha],a=bi(t);s!==a&&ll(e,n,r,s,i);for(let c=Cn;c<t.length;c++){let l=t[c];Um(l[be],l,n,e,r,s)}}function yj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:vs.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=vs.Important),n.setStyle(t,r,i,s))}}function _j(n,e,t){n.setAttribute(e,"style",t)}function LR(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function UR(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&JE(n,e,r),i!==null&&LR(n,e,i),s!==null&&_j(n,e,s)}var qn={};function O(n=1){jR(fn(),Me(),Ts()+n,!1)}function jR(n,e,t,r){if(!r)if((e[ge]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Zp(e,s,t)}else{let s=n.preOrderHooks;s!==null&&em(e,s,0,t)}Wa(t)}function $(n,e=De.Default){let t=Me();if(t===null)return te(n,e);let r=$n();return pR(r,t,Tn(n),e)}function BR(){let n="invalid";throw new Error(n)}function $R(n,e,t,r,i,s){let a=xe(null);try{let c=null;i&Io.SignalBased&&(c=e[r][fs]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Io.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):Lx(e,c,r,s)}finally{xe(a)}}function vj(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Wa(~i);else{let s=i,a=t[++r],c=t[++r];sU(a,s);let l=e[s];c(2,l)}}}finally{Wa(-1)}}function jm(n,e,t,r,i,s,a,c,l,h,p){let g=e.blueprint.slice();return g[ws]=i,g[ge]=r|4|128|8|64,(h!==null||n&&n[ge]&2048)&&(g[ge]|=2048),zx(g),g[Sn]=g[Sl]=n,g[hn]=t,g[Ii]=a||n&&n[Ii],g[Pt]=c||n&&n[Pt],g[gl]=l||n&&n[gl]||null,g[ni]=s,g[Pm]=UU(),g[dh]=p,g[kx]=h,g[ei]=e.type==2?n[ei]:g,g}function Bm(n,e,t,r,i){let s=n.data[e];if(s===null)s=Ej(n,e,t,r,i),iU()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let a=tU();s.injectorIndex=a===null?-1:a.injectorIndex}return Ih(s,!0),s}function Ej(n,e,t,r,i){let s=Qx(),a=Yx(),c=a?s:s&&s.parent,l=n.data[e]=Cj(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=l),s!==null&&(a?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function qR(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zR(n,e,t,r,i){let s=Ts(),a=r&2;try{Wa(-1),a&&e.length>An&&jR(n,e,An,!1),vi(a?2:0,i),t(r,i)}finally{Wa(s),vi(a?3:1,i)}}function HR(n,e,t){if(Fx(e)){let r=xe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let a=i;a<s;a++){let c=n.data[a];if(c.contentQueries){let l=t[a];c.contentQueries(1,l,a)}}}finally{xe(r)}}}function GR(n,e,t){Kx()&&(Pj(n,e,t,vr(t,e)),(t.flags&64)===64&&JR(n,e,t))}function WR(n,e,t=vr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let a=r[s+1],c=a===-1?t(e,n):n[a];n[i++]=c}}}function KR(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=yI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function yI(n,e,t,r,i,s,a,c,l,h,p){let g=An+r,I=g+i,T=wj(g,I),P=typeof h=="function"?h():h;return T[be]={type:n,blueprint:T,template:t,queries:null,viewQuery:c,declTNode:e,data:T.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:P,incompleteFirstPass:!1,ssrId:p}}function wj(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:qn);return t}function Ij(n,e,t,r){let s=r.get(GU,SR)||t===wi.ShadowDom,a=n.selectRootElement(e,s);return bj(a),a}function bj(n){Tj(n)}var Tj=()=>null;function Cj(n,e,t,r,i,s){let a=e?e.injectorIndex:-1,c=0;return X2()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function KA(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let a=e[s];if(a===void 0)continue;r??={};let c,l=Io.None;Array.isArray(a)?(c=a[0],l=a[1]):c=a;let h=s;if(i!==null){if(!i.hasOwnProperty(s))continue;h=i[s]}n===0?QA(r,t,h,c,l):QA(r,t,h,c)}return r}function QA(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function Dj(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,a=e.attrs,c=[],l=null,h=null;for(let p=r;p<i;p++){let g=s[p],I=t?t.get(g):null,T=I?I.inputs:null,P=I?I.outputs:null;l=KA(0,g.inputs,p,l,T),h=KA(1,g.outputs,p,h,P);let M=l!==null&&a!==null&&!$w(e)?$j(l,p,a):null;c.push(M)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=l,e.outputs=h}function Sj(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _I(n,e,t,r,i,s,a,c){let l=vr(e,t),h=e.inputs,p;!c&&h!=null&&(p=h[r])?(vI(n,t,p,r,i),Nm(e)&&Aj(t,e.index)):e.type&3?(r=Sj(r),i=a!=null?a(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function Aj(n,e){let t=Do(e,n);t[ge]&16||(t[ge]|=64)}function QR(n,e,t,r){if(Kx()){let i=r===null?null:{"":-1},s=Mj(n,t),a,c;s===null?a=c=null:[a,c]=s,a!==null&&YR(n,e,t,a,i,c),i&&Oj(t,r,i)}t.mergedAttrs=lh(t.mergedAttrs,t.attrs)}function YR(n,e,t,r,i,s){for(let h=0;h<r.length;h++)aw(pm(t,e),n,r[h].type);Vj(t,n.data.length,r.length);for(let h=0;h<r.length;h++){let p=r[h];p.providersResolver&&p.providersResolver(p)}let a=!1,c=!1,l=qR(n,e,r.length,null);for(let h=0;h<r.length;h++){let p=r[h];t.mergedAttrs=lh(t.mergedAttrs,p.hostAttrs),Fj(n,t,e,l,p),kj(l,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let g=p.type.prototype;!a&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),a=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),l++}Dj(n,t,s)}function xj(n,e,t,r,i){let s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let c=~e.index;Rj(a)!=c&&a.push(c),a.push(t,r,s)}}function Rj(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Pj(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Nm(t)&&Lj(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||pm(t,e),Qa(r,e);let a=t.initialInputs;for(let c=i;c<s;c++){let l=n.data[c],h=El(e,n,c,t);if(Qa(h,e),a!==null&&Bj(e,c-i,h,l,t,a),To(l)){let p=Do(t.index,e);p[hn]=El(e,n,c,t)}}}function JR(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,a=oU();try{Wa(s);for(let c=r;c<i;c++){let l=n.data[c],h=e[c];iw(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Nj(l,h)}}finally{Wa(-1),iw(a)}}function Nj(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Mj(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let a=t[s];if(E2(e,a.selectors,!1))if(r||(r=[]),To(a))if(a.findHostDirectiveDefs!==null){let c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a);let l=c.length;gw(n,e,l)}else r.unshift(a),gw(n,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function gw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Oj(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new ee(-301,!1);r.push(e[i],s)}}}function kj(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;To(e)&&(t[""]=n)}}function Vj(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Fj(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=za(i.type,!0)),a=new Ka(s,To(i),$);n.blueprint[r]=a,t[r]=a,xj(n,e,r,qR(n,t,i.hostVars,qn),i)}function Lj(n,e,t){let r=vr(e,n),i=KR(t),s=n[Ii].rendererFactory,a=16;t.signals?a=4096:t.onPush&&(a=64);let c=$m(n,jm(n,i,null,a,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function Uj(n,e,t,r,i,s){let a=vr(n,e);jj(e[Pt],a,s,n.value,t,r,i)}function jj(n,e,t,r,i,s,a){if(s==null)n.removeAttribute(e,i,t);else{let c=a==null?ys(s):a(s,r||"",i);n.setAttribute(e,i,c,t)}}function Bj(n,e,t,r,i,s){let a=s[e];if(a!==null)for(let c=0;c<a.length;){let l=a[c++],h=a[c++],p=a[c++],g=a[c++];$R(r,t,l,h,p,g)}}function $j(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let a=n[s];for(let c=0;c<a.length;c+=3)if(a[c]===e){r.push(s,a[c+1],a[c+2],t[i+1]);break}}i+=2}return r}function XR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function ZR(n,e){let t=n.contentQueries;if(t!==null){let r=xe(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a!==-1){let c=n.data[a];Zx(s),c.contentQueries(2,e[a],a)}}}finally{xe(r)}}}function $m(n,e){return n[hh]?n[OA][Zr]=e:n[hh]=e,n[OA]=e,e}function yw(n,e,t){Zx(0);let r=xe(null);try{e(n,t)}finally{xe(r)}}function qj(n){return n[am]??=[]}function zj(n){return n.cleanup??=[]}function eP(n,e){let t=n[gl],r=t?t.get(_s,null):null;r&&r.handleError(e)}function vI(n,e,t,r,i){for(let s=0;s<t.length;){let a=t[s++],c=t[s++],l=t[s++],h=e[a],p=n.data[a];$R(p,h,r,c,l,i)}}function EI(n,e,t){let r=qx(e,n);tj(n[Pt],r,t)}function Hj(n,e){let t=Do(e,n),r=t[be];Gj(r,t);let i=t[ws];i!==null&&t[dh]===null&&(t[dh]=dI(i,t[gl])),wI(r,t,t[hn])}function Gj(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function wI(n,e,t){Yw(e);try{let r=n.viewQuery;r!==null&&yw(1,r,t);let i=n.template;i!==null&&zR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[_l]?.finishViewCreation(n),n.staticContentQueries&&ZR(n,e),n.staticViewQueries&&yw(2,n.viewQuery,t);let s=n.components;s!==null&&Wj(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,Jw()}}function Wj(n,e){for(let t=0;t<e.length;t++)Hj(n,e[t])}function II(n,e,t,r){let i=xe(null);try{let s=e.tView,c=n[ge]&4096?4096:16,l=jm(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=n[e.index];l[yl]=h;let p=n[_l];return p!==null&&(l[_l]=p.createEmbeddedView(s)),wI(s,l,t),l}finally{xe(i)}}function tP(n,e){let t=Cn+e;if(t<n.length)return n[t]}function ph(n,e){return!e||e.firstChild===null||wR(n)}function qm(n,e,t,r=!0){let i=e[be];if(sj(i,e,n,t),r){let a=mw(t,n),c=e[Pt],l=VR(c,n[Ha]);l!==null&&rj(i,n[ni],c,e,l,a)}let s=e[dh];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function nP(n,e){let t=fh(n,e);return t!==void 0&&Lm(t[be],t),t}function vm(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(bi(s)),Is(s)&&Kj(s,r);let a=t.type;if(a&8)vm(n,e,t.child,r);else if(a&32){let c=fI(t,e),l;for(;l=c();)r.push(l)}else if(a&16){let c=FR(e,t);if(Array.isArray(c))r.push(...c);else{let l=Ga(e[ei]);vm(l[be],l,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function Kj(n,e){for(let t=Cn;t<n.length;t++){let r=n[t],i=r[be].firstChild;i!==null&&vm(r[be],r,i,e)}n[Ha]!==n[ws]&&e.push(n[Ha])}var rP=[];function Qj(n){return n[gr]??Yj(n)}function Yj(n){let e=rP.pop()??Object.create(Xj);return e.lView=n,e}function Jj(n){n.lView[gr]!==n&&(n.lView=null,rP.push(n))}var Xj=Ie(B({},nh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Om(n.lView)},consumerOnSignalRead(){this.lView[gr]=this}});function Zj(n){let e=n[gr]??Object.create(eB);return e.lView=n,e}var eB=Ie(B({},nh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ga(n.lView);for(;e&&!iP(e[be]);)e=Ga(e);e&&Hx(e)},consumerOnSignalRead(){this.lView[gr]=this}});function iP(n){return n.type!==2}var tB=100;function sP(n,e=!0,t=0){let r=n[Ii],i=r.rendererFactory,s=!1;s||i.begin?.();try{nB(n,t)}catch(a){throw e&&eP(n,a),a}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function nB(n,e){let t=Jx();try{VA(!0),_w(n,e);let r=0;for(;Mm(n);){if(r===tB)throw new ee(103,!1);r++,_w(n,1)}}finally{VA(t)}}function rB(n,e,t,r){let i=e[ge];if((i&256)===256)return;let s=!1,a=!1;!s&&e[Ii].inlineEffectRunner?.flush(),Yw(e);let c=!0,l=null,h=null;s||(iP(n)?(h=Qj(e),l=Ep(h)):jS()===null?(c=!1,h=Zj(e),l=Ep(h)):e[gr]&&(dE(e[gr]),e[gr]=null));try{zx(e),rU(n.bindingStartIndex),t!==null&&zR(n,e,t,2,r);let p=(i&3)===3;if(!s)if(p){let T=n.preOrderCheckHooks;T!==null&&Zp(e,T,null)}else{let T=n.preOrderHooks;T!==null&&em(e,T,0,null),VE(e,0)}if(a||iB(e),oP(e,0),n.contentQueries!==null&&ZR(n,e),!s)if(p){let T=n.contentCheckHooks;T!==null&&Zp(e,T)}else{let T=n.contentHooks;T!==null&&em(e,T,1),VE(e,1)}vj(n,e);let g=n.components;g!==null&&cP(e,g,0);let I=n.viewQuery;if(I!==null&&yw(2,I,r),!s)if(p){let T=n.viewCheckHooks;T!==null&&Zp(e,T)}else{let T=n.viewHooks;T!==null&&em(e,T,2),VE(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[kE]){for(let T of e[kE])T();e[kE]=null}s||(e[ge]&=-73)}catch(p){throw s||Om(e),p}finally{h!==null&&(lE(h,l),c&&Jj(h)),Jw()}}function oP(n,e){for(let t=bR(n);t!==null;t=TR(t))for(let r=Cn;r<t.length;r++){let i=t[r];aP(i,e)}}function iB(n){for(let e=bR(n);e!==null;e=TR(e)){if(!(e[ge]&um.HasTransplantedViews))continue;let t=e[lm];for(let r=0;r<t.length;r++){let i=t[r];Hx(i)}}}function sB(n,e,t){let r=Do(e,n);aP(r,t)}function aP(n,e){Kw(n)&&_w(n,e)}function _w(n,e){let r=n[be],i=n[ge],s=n[gr],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(s?.dirty&&uE(s)),a||=!1,s&&(s.dirty=!1),n[ge]&=-9217,a)rB(r,n,r.template,n[hn]);else if(i&8192){oP(n,1);let c=r.components;c!==null&&cP(n,c,1)}}function cP(n,e,t){for(let r=0;r<e.length;r++)sB(n,e[r],t)}function bI(n,e){let t=Jx()?64:1088;for(n[Ii].changeDetectionScheduler?.notify(e);n;){n[ge]|=t;let r=Ga(n);if(tw(n)&&!r)return n;n=r}return null}var wl=class{get rootNodes(){let e=this._lView,t=e[be];return vm(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[hn]}set context(e){this._lView[hn]=e}get destroyed(){return(this._lView[ge]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Sn];if(Is(e)){let t=e[cm],r=t?t.indexOf(this):-1;r>-1&&(fh(e,r),sm(t,r))}this._attachedToViewContainer=!1}Lm(this._lView[be],this._lView)}onDestroy(e){Gx(this._lView,e)}markForCheck(){bI(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){rw(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,sP(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=tw(this._lView),t=this._lView[yl];t!==null&&!e&&pI(t,this._lView),MR(this._lView[be],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=e;let t=tw(this._lView),r=this._lView[yl];r!==null&&!t&&OR(r,this._lView),rw(this._lView)}};var Roe=new RegExp(`^(\\d+)*(${zU}|${qU})*(.*)`);var oB=()=>null;function mh(n,e){return oB(n,e)}var Il=class{},zm=new X("",{providedIn:"root",factory:()=>!1});var lP=new X(""),uP=new X(""),vw=class{},Em=class{};function aB(n){let e=Error(`No component factory found for ${Bn(n)}.`);return e[cB]=n,e}var cB="ngComponent";var Ew=class{resolveComponentFactory(e){throw aB(e)}},bl=class{static{this.NULL=new Ew}},Tl=class{},Si=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>lB()}}return n})();function lB(){let n=Me(),e=$n(),t=Do(e.index,n);return(wo(t)?t:n)[Pt]}var uB=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>null})}}return n})();function ww(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")s=c;else if(s==1)i=TA(i,c);else if(s==2){let l=c,h=e[++a];r=TA(r,l+": "+h+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var wm=class extends bl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=bo(e);return new Cl(t,this.ngModule)}};function YA(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),a=s?i[0]:i,c=s?i[1]:Io.None;e?t.push({propName:a,templateName:r,isSignal:(c&Io.SignalBased)!==0}):t.push({propName:a,templateName:r})}return t}function dB(n){let e=n.toLowerCase();return e==="svg"?$x:e==="math"?H2:null}var Cl=class extends Em{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=YA(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return YA(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=T2(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=xe(null);try{i=i||this.ngModule;let a=i instanceof Dn?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let c=a?new sw(e,a):e,l=c.get(Tl,null);if(l===null)throw new ee(407,!1);let h=c.get(uB,null),p=c.get(Il,null),g={rendererFactory:l,sanitizer:h,inlineEffectRunner:null,changeDetectionScheduler:p},I=l.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",P=r?Ij(I,r,this.componentDef.encapsulation,c):NR(I,T,dB(T)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let N=null;P!==null&&(N=dI(P,c,!0));let V=yI(0,null,null,1,0,null,null,null,null,null,null),L=jm(null,V,null,M,null,null,g,I,c,null,N);Yw(L);let F,z,J=null;try{let G=this.componentDef,E,m=null;G.findHostDirectiveDefs?(E=[],m=new Map,G.findHostDirectiveDefs(G,E,m),E.push(G)):E=[G];let _=hB(L,P);J=fB(_,P,G,E,L,g,I),z=Gw(V,An),P&&gB(I,G,P,r),t!==void 0&&yB(z,this.ngContentSelectors,t),F=mB(J,G,E,m,L,[_B]),wI(V,L,null)}catch(G){throw J!==null&&fw(J),fw(L),G}finally{Jw()}return new Iw(this.componentType,F,aI(z,L),L,z)}finally{xe(s)}}},Iw=class extends vw{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new wl(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;vI(s[be],s,i,e,t),this.previousInputValues.set(e,t);let a=Do(this._tNode.index,s);bI(a,1)}}get injector(){return new qa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hB(n,e){let t=n[be],r=An;return n[r]=e,Bm(t,r,2,"#host",null)}function fB(n,e,t,r,i,s,a){let c=i[be];pB(r,n,e,a);let l=null;e!==null&&(l=dI(e,i[gl]));let h=s.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let g=jm(i,KR(t),null,p,i[n.index],n,s,h,null,null,l);return c.firstCreatePass&&gw(c,n,r.length-1),$m(i,g),i[n.index]=g}function pB(n,e,t,r){for(let i of n)e.mergedAttrs=lh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ww(e,e.mergedAttrs,!0),t!==null&&UR(r,t,e))}function mB(n,e,t,r,i,s){let a=$n(),c=i[be],l=vr(a,i);YR(c,i,a,t,null,r);for(let p=0;p<t.length;p++){let g=a.directiveStart+p,I=El(i,c,g,a);Qa(I,i)}JR(c,i,a),l&&Qa(l,i);let h=El(i,c,a.directiveStart+a.componentOffset,a);if(n[hn]=i[hn]=h,s!==null)for(let p of s)p(h,e);return HR(c,a,i),h}function gB(n,e,t,r){if(r)JE(n,t,["ng-version","18.2.12"]);else{let{attrs:i,classes:s}=C2(e.selectors[0]);i&&JE(n,t,i),s&&s.length>0&&LR(n,t,s.join(" "))}}function yB(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function _B(){let n=$n();tI(Me()[be],n)}var Hm=(()=>{class n{static{this.__NG_ELEMENT_ID__=vB}}return n})();function vB(){let n=$n();return wB(n,Me())}var EB=Hm,dP=class extends EB{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return aI(this._hostTNode,this._hostLView)}get injector(){return new qa(this._hostTNode,this._hostLView)}get parentInjector(){let e=nI(this._hostTNode,this._hostLView);if(cR(e)){let t=hm(e,this._hostLView),r=dm(e),i=t[be].data[r+8];return new qa(i,t)}else return new qa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=JA(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let a=mh(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,a);return this.insertImpl(c,i,ph(this._hostTNode,a)),c}createComponent(e,t,r,i,s){let a=e&&!B2(e),c;if(a)c=t;else{let P=t||{};c=P.index,r=P.injector,i=P.projectableNodes,s=P.environmentInjector||P.ngModuleRef}let l=a?e:new Cl(bo(e)),h=r||this.parentInjector;if(!s&&l.ngModule==null){let M=(a?h:this.parentInjector).get(Dn,null);M&&(s=M)}let p=bo(l.componentType??{}),g=mh(this._lContainer,p?.id??null),I=g?.firstChild??null,T=l.create(h,i,I,s);return this.insertImpl(T.hostView,c,ph(this._hostTNode,g)),T}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(G2(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[Sn],h=new dP(l,l[ni],l[Sn]);h.detach(h.indexOf(e))}}let s=this._adjustIndex(t),a=this._lContainer;return qm(a,i,s,r),e.attachToViewContainerRef(),_x(BE(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=JA(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=fh(this._lContainer,t);r&&(sm(BE(this._lContainer),t),Lm(r[be],r))}detach(e){let t=this._adjustIndex(e,-1),r=fh(this._lContainer,t);return r&&sm(BE(this._lContainer),t)!=null?new wl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function JA(n){return n[cm]}function BE(n){return n[cm]||(n[cm]=[])}function wB(n,e){let t,r=e[n.index];return Is(r)?t=r:(t=XR(r,e,null,n),e[n.index]=t,$m(e,t)),bB(t,e,n,r),new dP(t,n,e)}function IB(n,e){let t=n[Pt],r=t.createComment(""),i=vr(e,n),s=VR(t,i);return _m(t,s,r,uj(t,i),!1),r}var bB=DB,TB=()=>!1;function CB(n,e,t){return TB(n,e,t)}function DB(n,e,t,r){if(n[Ha])return;let i;t.type&8?i=bi(r):i=IB(e,t),n[Ha]=i}var XA=new Set;function Cs(n){XA.has(n)||(XA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function SB(n){return typeof n=="function"&&n[fs]!==void 0}function xl(n,e){Cs("NgSignals");let t=JS(n),r=t[fs];return e?.equal&&(r.equal=e.equal),t.set=i=>hE(r,i),t.update=i=>XS(r,i),t.asReadonly=AB.bind(t),t}function AB(){let n=this[fs];if(n.readonlyFn===void 0){let e=()=>this();e[fs]=n,n.readonlyFn=e}return n.readonlyFn}function hP(n){return SB(n)&&typeof n.set=="function"}function xB(n){return Object.getPrototypeOf(n.prototype).constructor}function wr(n){let e=xB(n.type),t=!0,r=[n];for(;e;){let i;if(To(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ee(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let a=n;a.inputs=Qp(n.inputs),a.inputTransforms=Qp(n.inputTransforms),a.declaredInputs=Qp(n.declaredInputs),a.outputs=Qp(n.outputs);let c=i.hostBindings;c&&OB(n,c);let l=i.viewQuery,h=i.contentQueries;if(l&&NB(n,l),h&&MB(n,h),RB(n,i),GL(n.outputs,i.outputs),To(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let a=0;a<s.length;a++){let c=s[a];c&&c.ngInherit&&c(n),c===wr&&(t=!1)}}e=Object.getPrototypeOf(e)}PB(r)}function RB(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function PB(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=lh(i.hostAttrs,t=lh(t,i.hostAttrs))}}function Qp(n){return n===fl?{}:n===mr?[]:n}function NB(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function MB(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function OB(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function TI(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Co=class{},gh=class{};var bw=class extends Co{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wm(this);let s=Sx(e);this._bootstrapComponents=PR(s.bootstrap),this._r3Injector=yR(e,t,[{provide:Co,useValue:this},{provide:bl,useValue:this.componentFactoryResolver},...r],Bn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Tw=class extends gh{constructor(e){super(),this.moduleType=e}create(e){return new bw(this.moduleType,e,[])}};var Im=class extends Co{constructor(e){super(),this.componentFactoryResolver=new wm(this),this.instance=null;let t=new uh([...e.providers,{provide:Co,useValue:this},{provide:bl,useValue:this.componentFactoryResolver}],e.parent||zw(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gm(n,e,t=null){return new Im({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function Wm(n,e,t){return n[e]=t}function kB(n,e){return n[e]}function ti(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function yh(n,e,t,r){let i=ti(n,e,t);return ti(n,e+1,r)||i}function VB(n,e,t,r,i){let s=yh(n,e,t,r);return ti(n,e+2,i)||s}function FB(n,e,t,r,i,s){let a=yh(n,e,t,r);return yh(n,e+2,i,s)||a}function LB(n){return(n.flags&32)===32}function UB(n,e,t,r,i,s,a,c,l){let h=e.consts,p=Bm(e,n,4,a||null,c||null);QR(e,t,p,vl(h,l)),tI(e,p);let g=p.tView=yI(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function Cw(n,e,t,r,i,s,a,c,l,h){let p=t+An,g=e.firstCreatePass?UB(p,e,n,r,i,s,a,c,l):e.data[p];Ih(g,!1);let I=jB(e,n,g,t);Zw()&&mI(e,n,I,g),Qa(I,n);let T=XR(I,n,I,g);return n[p]=T,$m(n,T),CB(T,g,n),Hw(g)&&GR(e,n,g),l!=null&&WR(n,g,h),g}function Q(n,e,t,r,i,s,a,c){let l=Me(),h=fn(),p=vl(h.consts,s);return Cw(l,h,n,e,t,r,i,p,a,c),Q}var jB=BB;function BB(n,e,t,r){return eI(!0),e[Pt].createComment("")}var ul=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ul||{}),fP=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Dw=class n{constructor(){this.ngZone=H(ze),this.scheduler=H(Il),this.errorHandler=H(_s,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ul.EarlyRead,ul.Write,ul.MixedReadWrite,ul.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}},Sw=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function CI(n,e){!e?.injector&&j2(CI);let t=e?.injector??H(nn);return XU(t)?(Cs("NgAfterNextRender"),qB(n,t,e,!0)):zB}function $B(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function qB(n,e,t,r){let i=e.get(fP);i.impl??=e.get(Dw);let s=t?.phase??ul.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(iI):null,c=new Sw(i.impl,$B(n,s),r,a);return i.impl.register(c),c}var zB={destroy(){}};function Rl(n,e,t,r){let i=Me(),s=Al();if(ti(i,s,e)){let a=fn(),c=Vm();Uj(c,i,n,e,t,r)}return Rl}function pP(n,e,t,r){return ti(n,Al(),t)?e+ys(t)+r:qn}function HB(n,e,t,r,i,s){let a=Xx(),c=yh(n,a,t,i);return Qw(2),c?e+ys(t)+r+ys(i)+s:qn}function GB(n,e,t,r,i,s,a,c){let l=Xx(),h=VB(n,l,t,i,a);return Qw(3),h?e+ys(t)+r+ys(i)+s+ys(a)+c:qn}function Yp(n,e){return n<<17|e<<2}function Ya(n){return n>>17&32767}function WB(n){return(n&2)==2}function KB(n,e){return n&131071|e<<17}function Aw(n){return n|2}function Dl(n){return(n&131068)>>2}function $E(n,e){return n&-131069|e<<2}function QB(n){return(n&1)===1}function xw(n){return n|1}function YB(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,c=Ya(a),l=Dl(a);n[r]=t;let h=!1,p;if(Array.isArray(t)){let g=t;p=g[1],(p===null||Eh(g,p)>0)&&(h=!0)}else p=t;if(i)if(l!==0){let I=Ya(n[c+1]);n[r+1]=Yp(I,c),I!==0&&(n[I+1]=$E(n[I+1],r)),n[c+1]=KB(n[c+1],r)}else n[r+1]=Yp(c,0),c!==0&&(n[c+1]=$E(n[c+1],r)),c=r;else n[r+1]=Yp(l,0),c===0?c=r:n[l+1]=$E(n[l+1],r),l=r;h&&(n[r+1]=Aw(n[r+1])),ZA(n,p,r,!0),ZA(n,p,r,!1),JB(e,p,n,r,s),a=Yp(c,l),s?e.classBindings=a:e.styleBindings=a}function JB(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Eh(s,e)>=0&&(t[r+1]=xw(t[r+1]))}function ZA(n,e,t,r){let i=n[t+1],s=e===null,a=r?Ya(i):Dl(i),c=!1;for(;a!==0&&(c===!1||s);){let l=n[a],h=n[a+1];XB(l,e)&&(c=!0,n[a+1]=r?xw(h):Aw(h)),a=r?Ya(h):Dl(h)}c&&(n[t+1]=r?Aw(i):xw(i))}function XB(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Eh(n,e)>=0:!1}function ve(n,e,t){let r=Me(),i=Al();if(ti(r,i,e)){let s=fn(),a=Vm();_I(s,a,r,n,e,r[Pt],t,!1)}return ve}function ex(n,e,t,r,i){let s=e.inputs,a=i?"class":"style";vI(n,t,s[a],a,r)}function Pl(n,e){return ZB(n,e,null,!0),Pl}function ZB(n,e,t,r){let i=Me(),s=fn(),a=Qw(2);if(s.firstUpdatePass&&t$(s,n,a,r),e!==qn&&ti(i,a,e)){let c=s.data[Ts()];o$(s,c,i,i[Pt],n,i[a+1]=a$(e,t),r,a)}}function e$(n,e){return e>=n.expandoStartIndex}function t$(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Ts()],a=e$(n,t);c$(s,r)&&e===null&&!a&&(e=!1),e=n$(i,s,e,r),YB(i,s,e,t,a,r)}}function n$(n,e,t,r){let i=aU(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=qE(null,n,e,t,r),t=_h(t,e.attrs,r),s=null);else{let a=e.directiveStylingLast;if(a===-1||n[a]!==i)if(t=qE(i,n,e,t,r),s===null){let l=r$(n,e,r);l!==void 0&&Array.isArray(l)&&(l=qE(null,n,e,l[1],r),l=_h(l,e.attrs,r),i$(n,e,r,l))}else s=s$(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function r$(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Dl(r)!==0)return n[Ya(r)]}function i$(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ya(i)]=r}function s$(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let a=n[s].hostAttrs;r=_h(r,a,t)}return _h(r,e.attrs,t)}function qE(n,e,t,r,i){let s=null,a=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<a&&(s=e[c],r=_h(r,s.hostAttrs,i),s!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function _h(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];typeof a=="number"?i=a:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),h2(n,a,t?!0:e[++s]))}return n===void 0?null:n}function o$(n,e,t,r,i,s,a,c){if(!(e.type&3))return;let l=n.data,h=l[c+1],p=QB(h)?tx(l,e,t,i,Dl(h),a):void 0;if(!bm(p)){bm(s)||WB(h)&&(s=tx(l,null,t,i,c,a));let g=qx(Ts(),t);yj(r,a,g,i,s)}}function tx(n,e,t,r,i,s){let a=e===null,c;for(;i>0;){let l=n[i],h=Array.isArray(l),p=h?l[1]:l,g=p===null,I=t[i+1];I===qn&&(I=g?mr:void 0);let T=g?ME(I,r):p===r?I:void 0;if(h&&!bm(T)&&(T=ME(l,r)),bm(T)&&(c=T,a))return c;let P=n[i+1];i=a?Ya(P):Dl(P)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(c=ME(l,r))}return c}function bm(n){return n!==void 0}function a$(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Bn(bh(n)))),n}function c$(n,e){return(n.flags&(e?8:16))!==0}var Rw=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,s),this.attach(i,a)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function zE(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function l$(n,e,t){let r,i,s=0,a=n.length-1,c=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=a&&s<=l;){let h=n.at(s),p=e[s],g=zE(s,h,s,p,t);if(g!==0){g<0&&n.updateValue(s,p),s++;continue}let I=n.at(a),T=e[l],P=zE(a,I,l,T,t);if(P!==0){P<0&&n.updateValue(a,T),a--,l--;continue}let M=t(s,h),N=t(a,I),V=t(s,p);if(Object.is(V,N)){let L=t(l,T);Object.is(L,M)?(n.swap(s,a),n.updateValue(a,T),l--,a--):n.move(a,s),n.updateValue(s,p),s++;continue}if(r??=new Tm,i??=rx(n,s,a,t),Pw(n,r,s,V))n.updateValue(s,p),s++,a++;else if(i.has(V))r.set(M,n.detach(s)),a--;else{let L=n.create(s,e[s]);n.attach(s,L),s++,a++}}for(;s<=l;)nx(n,r,t,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),h=l.next();for(;!h.done&&s<=a;){let p=n.at(s),g=h.value,I=zE(s,p,s,g,t);if(I!==0)I<0&&n.updateValue(s,g),s++,h=l.next();else{r??=new Tm,i??=rx(n,s,a,t);let T=t(s,g);if(Pw(n,r,s,T))n.updateValue(s,g),s++,a++,h=l.next();else if(!i.has(T))n.attach(s,n.create(s,g)),s++,a++,h=l.next();else{let P=t(s,p);r.set(P,n.detach(s)),a--}}}for(;!h.done;)nx(n,r,t,n.length,h.value),h=l.next()}for(;s<=a;)n.destroy(n.detach(a--));r?.forEach(l=>{n.destroy(l)})}function Pw(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function nx(n,e,t,r,i){if(Pw(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function rx(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var Tm=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function W(n,e){Cs("NgControlFlow");let t=Me(),r=Al(),i=t[r]!==qn?t[r]:-1,s=i!==-1?Cm(t,An+i):void 0,a=0;if(ti(t,r,n)){let c=xe(null);try{if(s!==void 0&&nP(s,a),n!==-1){let l=An+n,h=Cm(t,l),p=kw(t[be],l),g=mh(h,p.tView.ssrId),I=II(t,p,e,{dehydratedView:g});qm(h,I,a,ph(p,g))}}finally{xe(c)}}else if(s!==void 0){let c=tP(s,a);c!==void 0&&(c[hn]=e)}}var Nw=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Cn}};function Rn(n){return n}var Mw=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Pn(n,e,t,r,i,s,a,c,l,h,p,g,I){Cs("NgControlFlow");let T=Me(),P=fn(),M=l!==void 0,N=Me(),V=c?a.bind(N[ei][hn]):a,L=new Mw(M,V);N[An+n]=L,Cw(T,P,n+1,e,t,r,i,vl(P.consts,s)),M&&Cw(T,P,n+2,l,h,p,g,vl(P.consts,I))}var Ow=class extends Rw{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Cn}at(e){return this.getLView(e)[hn].$implicit}attach(e,t){let r=t[dh];this.needsIndexUpdate||=e!==this.length,qm(this.lContainer,t,e,ph(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,u$(this.lContainer,e)}create(e,t){let r=mh(this.lContainer,this.templateTNode.tView.ssrId),i=II(this.hostLView,this.templateTNode,new Nw(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Lm(e[be],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[hn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[hn].$index=e}getLView(e){return d$(this.lContainer,e)}};function Nn(n){let e=xe(null),t=Ts();try{let r=Me(),i=r[be],s=r[t],a=t+1,c=Cm(r,a);if(s.liveCollection===void 0){let h=kw(i,a);s.liveCollection=new Ow(c,r,h)}else s.liveCollection.reset();let l=s.liveCollection;if(l$(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let h=Al(),p=l.length===0;if(ti(r,h,p)){let g=t+2,I=Cm(r,g);if(p){let T=kw(i,g),P=mh(I,T.tView.ssrId),M=II(r,T,void 0,{dehydratedView:P});qm(I,M,0,ph(T,P))}else nP(I,0)}}}finally{xe(e)}}function Cm(n,e){return n[e]}function u$(n,e){return fh(n,e)}function d$(n,e){return tP(n,e)}function kw(n,e){return Gw(n,e)}function h$(n,e,t,r,i,s){let a=e.consts,c=vl(a,i),l=Bm(e,n,2,r,c);return QR(e,t,l,vl(a,s)),l.attrs!==null&&ww(l,l.attrs,!1),l.mergedAttrs!==null&&ww(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function D(n,e,t,r){let i=Me(),s=fn(),a=An+n,c=i[Pt],l=s.firstCreatePass?h$(a,s,i,e,t,r):s.data[a],h=f$(s,i,l,c,e,n);i[a]=h;let p=Hw(l);return Ih(l,!0),UR(c,h,l),!LB(l)&&Zw()&&mI(s,i,h,l),Q2()===0&&Qa(h,i),Y2(),p&&(GR(s,i,l),HR(s,l,i)),r!==null&&WR(i,l),D}function C(){let n=$n();Yx()?nU():(n=n.parent,Ih(n,!1));let e=n;Z2(e)&&eU(),J2();let t=fn();return t.firstCreatePass&&(tI(t,n),Fx(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&mU(e)&&ex(t,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gU(e)&&ex(t,e,Me(),e.stylesWithoutHost,!1),C}function Ee(n,e,t,r){return D(n,e,t,r),C(),Ee}var f$=(n,e,t,r,i,s)=>(eI(!0),NR(r,i,dU()));function qt(){return Me()}var Ba=void 0;function p$(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var m$=["en",[["a","p"],["AM","PM"],Ba],[["AM","PM"],Ba,Ba],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ba,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ba,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ba,"{1} 'at' {0}",Ba],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",p$],HE={};function zn(n){let e=g$(n),t=ix(e);if(t)return t;let r=e.split("-")[0];if(t=ix(r),t)return t;if(r==="en")return m$;throw new ee(701,!1)}function ix(n){return n in HE||(HE[n]=$a.ng&&$a.ng.common&&$a.ng.common.locales&&$a.ng.common.locales[n]),HE[n]}var _t=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(_t||{});function g$(n){return n.toLowerCase().replace(/_/g,"-")}var Dm="en-US",y$="USD";var _$=Dm;function v$(n){typeof n=="string"&&(_$=n.toLowerCase().replace(/_/g,"-"))}var E$=(n,e,t)=>{};function le(n,e,t,r){let i=Me(),s=fn(),a=$n();return mP(s,i,i[Pt],a,n,e,r),le}function w$(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===t&&i[s+1]===r){let c=e[am],l=i[s+2];return c.length>l?c[l]:null}typeof a=="string"&&(s+=2)}return null}function mP(n,e,t,r,i,s,a){let c=Hw(r),h=n.firstCreatePass&&zj(n),p=e[hn],g=qj(e),I=!0;if(r.type&3||a){let M=vr(r,e),N=a?a(M):M,V=g.length,L=a?z=>a(bi(z[r.index])):r.index,F=null;if(!a&&c&&(F=w$(n,e,i,r.index)),F!==null){let z=F.__ngLastListenerFn__||F;z.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,I=!1}else{s=ox(r,e,p,s),E$(M,i,s);let z=t.listen(N,i,s);g.push(s,z),h&&h.push(i,L,V,V+1)}}else s=ox(r,e,p,s);let T=r.outputs,P;if(I&&T!==null&&(P=T[i])){let M=P.length;if(M)for(let N=0;N<M;N+=2){let V=P[N],L=P[N+1],J=e[V][L].subscribe(s),G=g.length;g.push(s,J),h&&h.push(i,r.index,G,-(G+1))}}}function sx(n,e,t,r){let i=xe(null);try{return vi(6,e,t),t(r)!==!1}catch(s){return eP(n,s),!1}finally{vi(7,e,t),xe(i)}}function ox(n,e,t,r){return function i(s){if(s===Function)return r;let a=n.componentOffset>-1?Do(n.index,e):e;bI(a,5);let c=sx(e,t,r,s),l=i.__ngNextListenerFn__;for(;l;)c=sx(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return c}}function ne(n=1){return lU(n)}function DI(n,e,t){return gP(n,"",e,"",t),DI}function gP(n,e,t,r,i){let s=Me(),a=pP(s,e,t,r);if(a!==qn){let c=fn(),l=Vm();_I(c,l,s,n,a,s[Pt],i,!1)}return gP}function I$(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function x(n,e=""){let t=Me(),r=fn(),i=n+An,s=r.firstCreatePass?Bm(r,i,1,e,null):r.data[i],a=b$(r,t,s,e,n);t[i]=a,Zw()&&mI(r,t,a,s),Ih(s,!1)}var b$=(n,e,t,r,i)=>(eI(!0),ej(e[Pt],r));function He(n){return rn("",n,""),He}function rn(n,e,t){let r=Me(),i=pP(r,n,e,t);return i!==qn&&EI(r,Ts(),i),rn}function Xa(n,e,t,r,i){let s=Me(),a=HB(s,n,e,t,r,i);return a!==qn&&EI(s,Ts(),a),Xa}function Km(n,e,t,r,i,s,a){let c=Me(),l=GB(c,n,e,t,r,i,s,a);return l!==qn&&EI(c,Ts(),l),Km}function Xe(n,e,t){hP(e)&&(e=e());let r=Me(),i=Al();if(ti(r,i,e)){let s=fn(),a=Vm();_I(s,a,r,n,e,r[Pt],t,!1)}return Xe}function tt(n,e){let t=hP(n);return t&&n.set(e),t}function Ze(n,e){let t=Me(),r=fn(),i=$n();return mP(r,t,t[Pt],i,n,e),Ze}function T$(n,e,t){let r=fn();if(r.firstCreatePass){let i=To(n);Vw(t,r.data,r.blueprint,i,!0),Vw(e,r.data,r.blueprint,i,!1)}}function Vw(n,e,t,r,i){if(n=Tn(n),Array.isArray(n))for(let s=0;s<n.length;s++)Vw(n[s],e,t,r,i);else{let s=fn(),a=Me(),c=$n(),l=ml(n)?n:Tn(n.provide),h=Mx(n),p=c.providerIndexes&1048575,g=c.directiveStart,I=c.providerIndexes>>20;if(ml(n)||!n.multi){let T=new Ka(h,i,$),P=WE(l,e,i?p:p+I,g);P===-1?(aw(pm(c,a),s,l),GE(s,n,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(T),a.push(T)):(t[P]=T,a[P]=T)}else{let T=WE(l,e,p+I,g),P=WE(l,e,p,p+I),M=T>=0&&t[T],N=P>=0&&t[P];if(i&&!N||!i&&!M){aw(pm(c,a),s,l);let V=S$(i?D$:C$,t.length,i,r,h);!i&&N&&(t[P].providerFactory=V),GE(s,n,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(V),a.push(V)}else{let V=yP(t[i?P:T],h,!i&&r);GE(s,n,T>-1?T:P,V)}!i&&r&&N&&t[P].componentProviders++}}}function GE(n,e,t,r){let i=ml(e),s=M2(e);if(i||s){let l=(s?Tn(e.useClass):e).prototype.ngOnDestroy;if(l){let h=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=h.indexOf(t);p===-1?h.push(t,[r,l]):h[p+1].push(r,l)}else h.push(t,l)}}}function yP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function WE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function C$(n,e,t,r){return Fw(this.multi,[])}function D$(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=El(t,t[be],this.providerFactory.index,r);s=c.slice(0,a),Fw(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Fw(i,s);return s}function Fw(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function S$(n,e,t,r,i){let s=new Ka(n,t,$);return s.multi=[],s.index=e,s.componentProviders=0,yP(s,i,r&&!t),s}function Ao(n,e=[]){return t=>{t.providersResolver=(r,i)=>T$(r,i?i(n):n,e)}}var A$=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Rx(!1,t.type),i=r.length>0?Gm([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(te(Dn))})}}return n})();function oe(n){Cs("NgStandalone"),n.getStandaloneInjector=e=>e.get(A$).getOrCreateStandaloneInjector(n)}function Ds(n,e,t){let r=km()+n,i=Me();return i[r]===qn?Wm(i,r,t?e.call(t):e()):kB(i,r)}function SI(n,e){let t=n[e];return t===qn?void 0:t}function x$(n,e,t,r,i,s){let a=e+t;return ti(n,a,i)?Wm(n,a+1,s?r.call(s,i):r(i)):SI(n,a+1)}function R$(n,e,t,r,i,s,a){let c=e+t;return yh(n,c,i,s)?Wm(n,c+2,a?r.call(a,i,s):r(i,s)):SI(n,c+2)}function P$(n,e,t,r,i,s,a,c,l){let h=e+t;return FB(n,h,i,s,a,c)?Wm(n,h+4,l?r.call(l,i,s,a,c):r(i,s,a,c)):SI(n,h+4)}function pn(n,e){let t=fn(),r,i=n+An;t.firstCreatePass?(r=N$(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=za(r.type,!0)),a,c=jn($);try{let l=fm(!1),h=s();return fm(l),I$(t,Me(),i,h),h}finally{jn(c)}}function N$(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function xo(n,e,t){let r=n+An,i=Me(),s=Ww(i,r);return AI(i,r)?x$(i,km(),e,s.transform,t,s):s.transform(t)}function Ro(n,e,t,r){let i=n+An,s=Me(),a=Ww(s,i);return AI(s,i)?R$(s,km(),e,a.transform,t,r,a):a.transform(t,r)}function _P(n,e,t,r,i,s){let a=n+An,c=Me(),l=Ww(c,a);return AI(c,a)?P$(c,km(),e,l.transform,t,r,i,s,l):l.transform(t,r,i,s)}function AI(n,e){return n[be].data[e].pure}var Es=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},vP=new Es("18.2.12");var Qm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var EP=new X("");function Za(n){return!!n&&typeof n.then=="function"}function wP(n){return!!n&&typeof n.subscribe=="function"}var Ym=new X(""),IP=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=H(Ym,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(Za(s))t.push(s);else if(wP(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ch=new X("");function M$(){YS(()=>{throw new ee(600,!1)})}function O$(n){return n.isBoundToModule}var k$=10;function V$(n,e,t){try{let r=t();return Za(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Po=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(VU),this.afterRenderManager=H(fP),this.zonelessEnabled=H(zm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new St,this.afterTick=new St,this.componentTypes=[],this.components=[],this.isStable=H(So).hasPendingTasks.pipe(he(t=>!t)),this._injector=H(Dn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Em;if(!this._injector.get(IP).done){let I=!i&&Dx(t),T=!1;throw new ee(405,T)}let a;i?a=t:a=this._injector.get(bl).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=O$(a)?void 0:this._injector.get(Co),l=r||a.selector,h=a.create(nn.NULL,[],l,c),p=h.location.nativeElement,g=h.injector.get(EP,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),tm(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ee(101,!1);let t=xe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,xe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Tl,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<k$;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)F$(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Mm(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;tm(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Ch,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>tm(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ee(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function F$(n,e,t,r){if(!t&&!Mm(n))return;sP(n,e,t&&!r?0:1)}var Lw=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Jm=(()=>{class n{compileModuleSync(t){return new Tw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Sx(t),s=PR(i.declarations).reduce((a,c)=>{let l=bo(c);return l&&a.push(new Cl(l)),a},[]);return new Lw(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var L$=(()=>{class n{constructor(){this.zone=H(ze),this.changeDetectionScheduler=H(Il),this.applicationRef=H(Po)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),U$=new X("",{factory:()=>!1});function bP({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ze(Ie(B({},CP()),{scheduleInRootZone:t})),[{provide:ze,useFactory:n},{provide:pl,multi:!0,useFactory:()=>{let r=H(L$,{optional:!0});return()=>r.initialize()}},{provide:pl,multi:!0,useFactory:()=>{let r=H(j$);return()=>{r.initialize()}}},e===!0?{provide:lP,useValue:!0}:[],{provide:uP,useValue:t??_R}]}function TP(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=bP({ngZoneFactory:()=>{let i=CP(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Cs("NgZone_CoalesceEvent"),new ze(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return yr([{provide:U$,useValue:!0},{provide:zm,useValue:!1},r])}function CP(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var j$=(()=>{class n{constructor(){this.subscription=new Et,this.initialized=!1,this.zone=H(ze),this.pendingTasks=H(So)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ze.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ze.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var B$=(()=>{class n{constructor(){this.appRef=H(Po),this.taskService=H(So),this.ngZone=H(ze),this.zonelessEnabled=H(zm),this.disableScheduling=H(lP,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Et,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gm):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(uP,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof hw||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?BA:vR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $$(){return typeof $localize<"u"&&$localize.locale||Dm}var Dh=new X("",{providedIn:"root",factory:()=>H(Dh,De.Optional|De.SkipSelf)||$$()}),DP=new X("",{providedIn:"root",factory:()=>y$});var Uw=new X("");function Jp(n){return!n.moduleRef}function q$(n){let e=Jp(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ze);return t.run(()=>{Jp(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(_s,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Jp(n)){let s=()=>e.destroy(),a=n.platformInjector.get(Uw);a.add(s),e.onDestroy(()=>{i.unsubscribe(),a.delete(s)})}else{let s=()=>n.moduleRef.destroy(),a=n.platformInjector.get(Uw);a.add(s),n.moduleRef.onDestroy(()=>{tm(n.allPlatformModules,n.moduleRef),i.unsubscribe(),a.delete(s)})}return V$(r,t,()=>{let s=e.get(IP);return s.runInitializers(),s.donePromise.then(()=>{let a=e.get(Dh,Dm);if(v$(a||Dm),Jp(n)){let c=e.get(Po);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return z$(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function z$(n,e){let t=n.injector.get(Po);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new ee(-403,!1);e.push(n)}var nm=null;function H$(n=[],e){return nn.create({name:e,providers:[{provide:Rm,useValue:"platform"},{provide:Uw,useValue:new Set([()=>nm=null])},...n]})}function G$(n=[]){if(nm)return nm;let e=H$(n);return nm=e,M$(),W$(e),e}function W$(n){n.get(lI,null)?.forEach(t=>t())}var ec=(()=>{class n{static{this.__NG_ELEMENT_ID__=K$}}return n})();function K$(n){return Q$($n(),Me(),(n&16)===16)}function Q$(n,e,t){if(Nm(n)&&!t){let r=Do(n.index,e);return new wl(r,r)}else if(n.type&175){let r=e[ei];return new wl(r,e)}return null}function SP(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=G$(r),s=[bP({}),{provide:Il,useExisting:B$},...t||[]],a=new Im({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return q$({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function tc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Nl(n,e){Cs("NgSignals");let t=WS(n);return e?.equal&&(t[fs].equal=e.equal),t}function Ai(n){let e=xe(null);try{return n()}finally{xe(e)}}function AP(n){let e=bo(n);if(!e)return null;let t=new Cl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var kP=null;function Ps(){return kP}function VP(n){kP??=n}var og=class{};var mn=new X(""),FI=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>H(J$),providedIn:"platform"})}}return n})(),FP=new X(""),J$=(()=>{class n extends FI{constructor(){super(),this._doc=H(mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ps().getBaseHref(this._doc)}onPopState(t){let r=Ps().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ps().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function LI(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function xP(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function As(n){return n&&n[0]!=="?"?"?"+n:n}var Ns=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>H(UI),providedIn:"root"})}}return n})(),LP=new X(""),UI=(()=>{class n extends Ns{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??H(mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return LI(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+As(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+As(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+As(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(te(FI),te(LP,8))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UP=(()=>{class n extends Ns{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=LI(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+As(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+As(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(te(FI),te(LP,8))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Ol=(()=>{class n{constructor(t){this._subject=new dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=e4(xP(RP(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+As(r))}normalize(t){return n.stripTrailingSlash(Z$(this._basePath,RP(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+As(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+As(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=As}static{this.joinWithSlash=LI}static{this.stripTrailingSlash=xP}static{this.\u0275fac=function(r){return new(r||n)(te(Ns))}}static{this.\u0275prov=K({token:n,factory:()=>X$(),providedIn:"root"})}}return n})();function X$(){return new Ol(te(Ns))}function Z$(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function RP(n){return n.replace(/\/index.html$/,"")}function e4(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var jP={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},BP=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(BP||{});var Mn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Mn||{}),st=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(st||{}),rr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(rr||{}),ir={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function t4(n){return zn(n)[_t.LocaleId]}function n4(n,e,t){let r=zn(n),i=[r[_t.DayPeriodsFormat],r[_t.DayPeriodsStandalone]],s=Ir(i,e);return Ir(s,t)}function r4(n,e,t){let r=zn(n),i=[r[_t.DaysFormat],r[_t.DaysStandalone]],s=Ir(i,e);return Ir(s,t)}function i4(n,e,t){let r=zn(n),i=[r[_t.MonthsFormat],r[_t.MonthsStandalone]],s=Ir(i,e);return Ir(s,t)}function s4(n,e){let r=zn(n)[_t.Eras];return Ir(r,e)}function Xm(n,e){let t=zn(n);return Ir(t[_t.DateFormat],e)}function Zm(n,e){let t=zn(n);return Ir(t[_t.TimeFormat],e)}function eg(n,e){let r=zn(n)[_t.DateTimeFormat];return Ir(r,e)}function xs(n,e){let t=zn(n),r=t[_t.NumberSymbols][e];if(typeof r>"u"){if(e===ir.CurrencyDecimal)return t[_t.NumberSymbols][ir.Decimal];if(e===ir.CurrencyGroup)return t[_t.NumberSymbols][ir.Group]}return r}function o4(n,e){return zn(n)[_t.NumberFormats][e]}function a4(n){return zn(n)[_t.Currencies]}function $P(n){if(!n[_t.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[_t.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function c4(n){let e=zn(n);return $P(e),(e[_t.ExtraData][2]||[]).map(r=>typeof r=="string"?xI(r):[xI(r[0]),xI(r[1])])}function l4(n,e,t){let r=zn(n);$P(r);let i=[r[_t.ExtraData][0],r[_t.ExtraData][1]],s=Ir(i,e)||[];return Ir(s,t)||[]}function Ir(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function xI(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function u4(n,e,t="en"){let r=a4(t)[n]||jP[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var d4=2;function h4(n){let e,t=jP[n];return t&&(e=t[2]),typeof e=="number"?e:d4}var f4=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,tg={},p4=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Rs=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Rs||{}),Ke=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ke||{}),We=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(We||{});function m4(n,e,t,r){let i=T4(n);e=Ss(t,e)||e;let a=[],c;for(;e;)if(c=p4.exec(e),c){a=a.concat(c.slice(1));let p=a.pop();if(!p)break;e=p}else{a.push(e);break}let l=i.getTimezoneOffset();r&&(l=zP(r,l),i=b4(i,r,!0));let h="";return a.forEach(p=>{let g=w4(p);h+=g?g(i,t,l):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function ag(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ss(n,e){let t=t4(n);if(tg[t]??={},tg[t][e])return tg[t][e];let r="";switch(e){case"shortDate":r=Xm(n,rr.Short);break;case"mediumDate":r=Xm(n,rr.Medium);break;case"longDate":r=Xm(n,rr.Long);break;case"fullDate":r=Xm(n,rr.Full);break;case"shortTime":r=Zm(n,rr.Short);break;case"mediumTime":r=Zm(n,rr.Medium);break;case"longTime":r=Zm(n,rr.Long);break;case"fullTime":r=Zm(n,rr.Full);break;case"short":let i=Ss(n,"shortTime"),s=Ss(n,"shortDate");r=ng(eg(n,rr.Short),[i,s]);break;case"medium":let a=Ss(n,"mediumTime"),c=Ss(n,"mediumDate");r=ng(eg(n,rr.Medium),[a,c]);break;case"long":let l=Ss(n,"longTime"),h=Ss(n,"longDate");r=ng(eg(n,rr.Long),[l,h]);break;case"full":let p=Ss(n,"fullTime"),g=Ss(n,"fullDate");r=ng(eg(n,rr.Full),[p,g]);break}return r&&(tg[t][e]=r),r}function ng(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function ii(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,s=t));let a=String(n);for(;a.length<e;)a="0"+a;return r&&(a=a.slice(a.length-e)),s+a}function g4(n,e){return ii(n,3).substring(0,e)}function kt(n,e,t=0,r=!1,i=!1){return function(s,a){let c=y4(n,s);if((t>0||c>-t)&&(c+=t),n===Ke.Hours)c===0&&t===-12&&(c=12);else if(n===Ke.FractionalSeconds)return g4(c,e);let l=xs(a,ir.MinusSign);return ii(c,e,l,r,i)}}function y4(n,e){switch(n){case Ke.FullYear:return e.getFullYear();case Ke.Month:return e.getMonth();case Ke.Date:return e.getDate();case Ke.Hours:return e.getHours();case Ke.Minutes:return e.getMinutes();case Ke.Seconds:return e.getSeconds();case Ke.FractionalSeconds:return e.getMilliseconds();case Ke.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function at(n,e,t=Mn.Format,r=!1){return function(i,s){return _4(i,s,n,e,t,r)}}function _4(n,e,t,r,i,s){switch(t){case We.Months:return i4(e,i,r)[n.getMonth()];case We.Days:return r4(e,i,r)[n.getDay()];case We.DayPeriods:let a=n.getHours(),c=n.getMinutes();if(s){let h=c4(e),p=l4(e,i,r),g=h.findIndex(I=>{if(Array.isArray(I)){let[T,P]=I,M=a>=T.hours&&c>=T.minutes,N=a<P.hours||a===P.hours&&c<P.minutes;if(T.hours<P.hours){if(M&&N)return!0}else if(M||N)return!0}else if(I.hours===a&&I.minutes===c)return!0;return!1});if(g!==-1)return p[g]}return n4(e,i,r)[a<12?0:1];case We.Eras:return s4(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function rg(n){return function(e,t,r){let i=-1*r,s=xs(t,ir.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Rs.Short:return(i>=0?"+":"")+ii(a,2,s)+ii(Math.abs(i%60),2,s);case Rs.ShortGMT:return"GMT"+(i>=0?"+":"")+ii(a,1,s);case Rs.Long:return"GMT"+(i>=0?"+":"")+ii(a,2,s)+":"+ii(Math.abs(i%60),2,s);case Rs.Extended:return r===0?"Z":(i>=0?"+":"")+ii(a,2,s)+":"+ii(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var v4=0,sg=4;function E4(n){let e=ag(n,v4,1).getDay();return ag(n,0,1+(e<=sg?sg:sg+7)-e)}function qP(n){let e=n.getDay(),t=e===0?-3:sg-e;return ag(n.getFullYear(),n.getMonth(),n.getDate()+t)}function RI(n,e=!1){return function(t,r){let i;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();i=1+Math.floor((a+s)/7)}else{let s=qP(t),a=E4(s.getFullYear()),c=s.getTime()-a.getTime();i=1+Math.round(c/6048e5)}return ii(i,n,xs(r,ir.MinusSign))}}function ig(n,e=!1){return function(t,r){let s=qP(t).getFullYear();return ii(s,n,xs(r,ir.MinusSign),e)}}var PI={};function w4(n){if(PI[n])return PI[n];let e;switch(n){case"G":case"GG":case"GGG":e=at(We.Eras,st.Abbreviated);break;case"GGGG":e=at(We.Eras,st.Wide);break;case"GGGGG":e=at(We.Eras,st.Narrow);break;case"y":e=kt(Ke.FullYear,1,0,!1,!0);break;case"yy":e=kt(Ke.FullYear,2,0,!0,!0);break;case"yyy":e=kt(Ke.FullYear,3,0,!1,!0);break;case"yyyy":e=kt(Ke.FullYear,4,0,!1,!0);break;case"Y":e=ig(1);break;case"YY":e=ig(2,!0);break;case"YYY":e=ig(3);break;case"YYYY":e=ig(4);break;case"M":case"L":e=kt(Ke.Month,1,1);break;case"MM":case"LL":e=kt(Ke.Month,2,1);break;case"MMM":e=at(We.Months,st.Abbreviated);break;case"MMMM":e=at(We.Months,st.Wide);break;case"MMMMM":e=at(We.Months,st.Narrow);break;case"LLL":e=at(We.Months,st.Abbreviated,Mn.Standalone);break;case"LLLL":e=at(We.Months,st.Wide,Mn.Standalone);break;case"LLLLL":e=at(We.Months,st.Narrow,Mn.Standalone);break;case"w":e=RI(1);break;case"ww":e=RI(2);break;case"W":e=RI(1,!0);break;case"d":e=kt(Ke.Date,1);break;case"dd":e=kt(Ke.Date,2);break;case"c":case"cc":e=kt(Ke.Day,1);break;case"ccc":e=at(We.Days,st.Abbreviated,Mn.Standalone);break;case"cccc":e=at(We.Days,st.Wide,Mn.Standalone);break;case"ccccc":e=at(We.Days,st.Narrow,Mn.Standalone);break;case"cccccc":e=at(We.Days,st.Short,Mn.Standalone);break;case"E":case"EE":case"EEE":e=at(We.Days,st.Abbreviated);break;case"EEEE":e=at(We.Days,st.Wide);break;case"EEEEE":e=at(We.Days,st.Narrow);break;case"EEEEEE":e=at(We.Days,st.Short);break;case"a":case"aa":case"aaa":e=at(We.DayPeriods,st.Abbreviated);break;case"aaaa":e=at(We.DayPeriods,st.Wide);break;case"aaaaa":e=at(We.DayPeriods,st.Narrow);break;case"b":case"bb":case"bbb":e=at(We.DayPeriods,st.Abbreviated,Mn.Standalone,!0);break;case"bbbb":e=at(We.DayPeriods,st.Wide,Mn.Standalone,!0);break;case"bbbbb":e=at(We.DayPeriods,st.Narrow,Mn.Standalone,!0);break;case"B":case"BB":case"BBB":e=at(We.DayPeriods,st.Abbreviated,Mn.Format,!0);break;case"BBBB":e=at(We.DayPeriods,st.Wide,Mn.Format,!0);break;case"BBBBB":e=at(We.DayPeriods,st.Narrow,Mn.Format,!0);break;case"h":e=kt(Ke.Hours,1,-12);break;case"hh":e=kt(Ke.Hours,2,-12);break;case"H":e=kt(Ke.Hours,1);break;case"HH":e=kt(Ke.Hours,2);break;case"m":e=kt(Ke.Minutes,1);break;case"mm":e=kt(Ke.Minutes,2);break;case"s":e=kt(Ke.Seconds,1);break;case"ss":e=kt(Ke.Seconds,2);break;case"S":e=kt(Ke.FractionalSeconds,1);break;case"SS":e=kt(Ke.FractionalSeconds,2);break;case"SSS":e=kt(Ke.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=rg(Rs.Short);break;case"ZZZZZ":e=rg(Rs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=rg(Rs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=rg(Rs.Long);break;default:return null}return PI[n]=e,e}function zP(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function I4(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function b4(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),s=zP(e,i);return I4(n,r*(s-i))}function T4(n){if(PP(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,s=1,a=1]=n.split("-").map(c=>+c);return ag(i,s-1,a)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(f4))return C4(r)}let e=new Date(n);if(!PP(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function C4(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let a=Number(n[4]||0)-t,c=Number(n[5]||0)-r,l=Number(n[6]||0),h=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,a,c,l,h),e}function PP(n){return n instanceof Date&&!isNaN(n.valueOf())}var D4=/^(\d+)?\.((\d+)(-(\d+))?)?$/,NP=22,cg=".",Sh="0",S4=";",A4=",",NI="#",MP="\xA4";function x4(n,e,t,r,i,s,a=!1){let c="",l=!1;if(!isFinite(n))c=xs(t,ir.Infinity);else{let h=M4(n);a&&(h=N4(h));let p=e.minInt,g=e.minFrac,I=e.maxFrac;if(s){let L=s.match(D4);if(L===null)throw new Error(`${s} is not a valid digit info`);let F=L[1],z=L[3],J=L[5];F!=null&&(p=MI(F)),z!=null&&(g=MI(z)),J!=null?I=MI(J):z!=null&&g>I&&(I=g)}O4(h,g,I);let T=h.digits,P=h.integerLen,M=h.exponent,N=[];for(l=T.every(L=>!L);P<p;P++)T.unshift(0);for(;P<0;P++)T.unshift(0);P>0?N=T.splice(P,T.length):(N=T,T=[0]);let V=[];for(T.length>=e.lgSize&&V.unshift(T.splice(-e.lgSize,T.length).join(""));T.length>e.gSize;)V.unshift(T.splice(-e.gSize,T.length).join(""));T.length&&V.unshift(T.join("")),c=V.join(xs(t,r)),N.length&&(c+=xs(t,i)+N.join("")),M&&(c+=xs(t,ir.Exponential)+"+"+M)}return n<0&&!l?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function R4(n,e,t,r,i){let s=o4(e,BP.Currency),a=P4(s,xs(e,ir.MinusSign));return a.minFrac=h4(r),a.maxFrac=a.minFrac,x4(n,a,e,ir.CurrencyGroup,ir.CurrencyDecimal,i).replace(MP,t).replace(MP,"").trim()}function P4(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(S4),i=r[0],s=r[1],a=i.indexOf(cg)!==-1?i.split(cg):[i.substring(0,i.lastIndexOf(Sh)+1),i.substring(i.lastIndexOf(Sh)+1)],c=a[0],l=a[1]||"";t.posPre=c.substring(0,c.indexOf(NI));for(let p=0;p<l.length;p++){let g=l.charAt(p);g===Sh?t.minFrac=t.maxFrac=p+1:g===NI?t.maxFrac=p+1:t.posSuf+=g}let h=c.split(A4);if(t.gSize=h[1]?h[1].length:0,t.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,s){let p=i.length-t.posPre.length-t.posSuf.length,g=s.indexOf(NI);t.negPre=s.substring(0,g).replace(/'/g,""),t.negSuf=s.slice(g+p).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function N4(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function M4(n){let e=Math.abs(n)+"",t=0,r,i,s,a,c;for((i=e.indexOf(cg))>-1&&(e=e.replace(cg,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Sh;s++);if(s===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===Sh;)c--;for(i-=s,r=[],a=0;s<=c;s++,a++)r[a]=Number(e.charAt(s))}return i>NP&&(r=r.splice(0,NP-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function O4(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,s=Math.min(Math.max(e,i),t),a=s+n.integerLen,c=r[a];if(a>0){r.splice(Math.max(n.integerLen,a));for(let g=a;g<r.length;g++)r[g]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let g=1;g<a;g++)r[g]=0}if(c>=5)if(a-1<0){for(let g=0;g>a;g--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[a-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=s!==0,h=e+n.integerLen,p=r.reduceRight(function(g,I,T,P){return I=I+g,P[T]=I<10?I:I-10,l&&(P[T]===0&&T>=h?P.pop():l=!1),I>=10?1:0},0);p&&(r.unshift(p),n.integerLen++)}function MI(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function lg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var OI=/\s+/,OP=[],ug=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=OP,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(OI):OP}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(OI):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(OI).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)($(ri),$(Si))}}static{this.\u0275dir=Nt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();function HP(n,e){return new ee(2100,!1)}var k4="mediumDate",V4=new X(""),F4=new X(""),No=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,s){if(t==null||t===""||t!==t)return null;try{let a=r??this.defaultOptions?.dateFormat??k4,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return m4(t,a,s||this.locale,c)}catch(a){throw HP(n,a.message)}}static{this.\u0275fac=function(r){return new(r||n)($(Dh,16),$(V4,24),$(F4,24))}}static{this.\u0275pipe=wh({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var kl=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,a){if(!L4(t))return null;a||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let c=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?c=u4(c,i==="symbol"?"wide":"narrow",a):c=i);try{let l=U4(t);return R4(l,a,c,r,s)}catch(l){throw HP(n,l.message)}}static{this.\u0275fac=function(r){return new(r||n)($(Dh,16),$(DP,16))}}static{this.\u0275pipe=wh({name:"currency",type:n,pure:!0,standalone:!0})}}return n})();function L4(n){return!(n==null||n===""||n!==n)}function U4(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var sr=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Di({type:n})}static{this.\u0275inj=Ci({})}}return n})(),jI="browser",j4="server";function B4(n){return n===jI}function dg(n){return n===j4}var GP=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>B4(H(Er))?new kI(H(mn),window):new VI})}}return n})(),kI=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=$4(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function $4(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}var VI=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ml=class{};var xh=class{},fg=class{},Ms=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(c=>s.indexOf(c)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var $I=class{encodeKey(e){return WP(e)}encodeValue(e){return WP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function q4(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(a)||[];l.push(c),t.set(a,l)}),t}var z4=/%(\d[a-f0-9])/gi,H4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WP(n){return encodeURIComponent(n).replace(z4,(e,t)=>H4[t]??e)}function hg(n){return`${n}`}var ko=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $I,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=q4(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(hg):[hg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(hg(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(hg(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var qI=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function G4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function KP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function QP(n){return typeof Blob<"u"&&n instanceof Blob}function YP(n){return typeof FormData<"u"&&n instanceof FormData}function W4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ah=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(G4(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Ms,this.context??=new qI,!this.params)this.params=new ko,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||KP(this.body)||QP(this.body)||YP(this.body)||W4(this.body)?this.body:this.body instanceof ko?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||YP(this.body)?null:QP(this.body)?this.body.type||null:KP(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ko?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((I,T)=>I.set(T,e.setHeaders[T]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((I,T)=>I.set(T,e.setParams[T]),p)),new n(t,r,a,{params:p,headers:h,context:g,reportProgress:l,responseType:i,withCredentials:c,transferCache:s})}},Vo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Vo||{}),Rh=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ms,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},pg=class n extends Rh{constructor(e={}){super(e),this.type=Vo.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ph=class n extends Rh{constructor(e={}){super(e),this.type=Vo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Oo=class extends Rh{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},eN=200,K4=204;function BI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var GI=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Ah)s=t;else{let l;i.headers instanceof Ms?l=i.headers:l=new Ms(i.headers);let h;i.params&&(i.params instanceof ko?h=i.params:h=new ko({fromObject:i.params})),s=new Ah(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=de(s).pipe(ms(l=>this.handler.handle(l)));if(t instanceof Ah||i.observe==="events")return a;let c=a.pipe(Ln(l=>l instanceof Ph));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(he(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(he(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ko().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,BI(i,r))}post(t,r,i={}){return this.request("POST",t,BI(i,r))}put(t,r,i={}){return this.request("PUT",t,BI(i,r))}static{this.\u0275fac=function(r){return new(r||n)(te(xh))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Q4=/^\)\]\}',?\n/,Y4="X-Request-URL";function JP(n){if(n.url)return n.url;let e=Y4.toLocaleLowerCase();return n.headers.get(e)}var J4=(()=>{class n{constructor(){this.fetchImpl=H(zI,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=H(ze)}handle(t){return new Re(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(HI,s=>r.error(new Oo({error:s}))),()=>i.abort()})}doRequest(t,r,i){return R(this,null,function*(){let s=this.createRequestInit(t),a;try{let T=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,B({signal:r},s)));X4(T),i.next({type:Vo.Sent}),a=yield T}catch(T){i.error(new Oo({error:T,status:T.status??0,statusText:T.statusText,url:t.urlWithParams,headers:T.headers}));return}let c=new Ms(a.headers),l=a.statusText,h=JP(a)??t.urlWithParams,p=a.status,g=null;if(t.reportProgress&&i.next(new pg({headers:c,status:p,statusText:l,url:h})),a.body){let T=a.headers.get("content-length"),P=[],M=a.body.getReader(),N=0,V,L,F=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>R(this,null,function*(){for(;;){let{done:J,value:G}=yield M.read();if(J)break;if(P.push(G),N+=G.length,t.reportProgress){L=t.responseType==="text"?(L??"")+(V??=new TextDecoder).decode(G,{stream:!0}):void 0;let E=()=>i.next({type:Vo.DownloadProgress,total:T?+T:void 0,loaded:N,partialText:L});F?F.run(E):E()}}}));let z=this.concatChunks(P,N);try{let J=a.headers.get("Content-Type")??"";g=this.parseBody(t,z,J)}catch(J){i.error(new Oo({error:J,headers:new Ms(a.headers),status:a.status,statusText:a.statusText,url:JP(a)??t.urlWithParams}));return}}p===0&&(p=g?eN:0),p>=200&&p<300?(i.next(new Ph({body:g,headers:c,status:p,statusText:l,url:h})),i.complete()):i.error(new Oo({error:g,headers:c,status:p,statusText:l,url:h}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(Q4,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,a)=>r[s]=a.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let a of t)i.set(a,s),s+=a.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),zI=class{};function HI(){}function X4(n){n.then(HI,HI)}function Z4(n,e){return e(n)}function eq(n,e,t){return(r,i)=>_r(t,()=>e(r,s=>n(s,i)))}var tN=new X(""),tq=new X(""),nq=new X("",{providedIn:"root",factory:()=>!0});var XP=(()=>{class n extends xh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=H(So),this.contributeToStability=H(nq)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(tN),...this.injector.get(tq,[])]));this.chain=r.reduceRight((i,s)=>eq(i,s,this.injector),Z4)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ja(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(te(fg),te(Dn))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();var rq=/^\)\]\}',?\n/;function iq(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var ZP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new ee(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?lt(r.\u0275loadImpl()):de(null)).pipe(Un(()=>new Re(s=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((M,N)=>a.setRequestHeader(M,N.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&a.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();a.responseType=M!=="json"?M:"text"}let c=t.serializeBody(),l=null,h=()=>{if(l!==null)return l;let M=a.statusText||"OK",N=new Ms(a.getAllResponseHeaders()),V=iq(a)||t.url;return l=new pg({headers:N,status:a.status,statusText:M,url:V}),l},p=()=>{let{headers:M,status:N,statusText:V,url:L}=h(),F=null;N!==K4&&(F=typeof a.response>"u"?a.responseText:a.response),N===0&&(N=F?eN:0);let z=N>=200&&N<300;if(t.responseType==="json"&&typeof F=="string"){let J=F;F=F.replace(rq,"");try{F=F!==""?JSON.parse(F):null}catch(G){F=J,z&&(z=!1,F={error:G,text:F})}}z?(s.next(new Ph({body:F,headers:M,status:N,statusText:V,url:L||void 0})),s.complete()):s.error(new Oo({error:F,headers:M,status:N,statusText:V,url:L||void 0}))},g=M=>{let{url:N}=h(),V=new Oo({error:M,status:a.status||0,statusText:a.statusText||"Unknown Error",url:N||void 0});s.error(V)},I=!1,T=M=>{I||(s.next(h()),I=!0);let N={type:Vo.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),t.responseType==="text"&&a.responseText&&(N.partialText=a.responseText),s.next(N)},P=M=>{let N={type:Vo.UploadProgress,loaded:M.loaded};M.lengthComputable&&(N.total=M.total),s.next(N)};return a.addEventListener("load",p),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),t.reportProgress&&(a.addEventListener("progress",T),c!==null&&a.upload&&a.upload.addEventListener("progress",P)),a.send(c),s.next({type:Vo.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",p),a.removeEventListener("timeout",g),t.reportProgress&&(a.removeEventListener("progress",T),c!==null&&a.upload&&a.upload.removeEventListener("progress",P)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(te(Ml))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),nN=new X(""),sq="XSRF-TOKEN",oq=new X("",{providedIn:"root",factory:()=>sq}),aq="X-XSRF-TOKEN",cq=new X("",{providedIn:"root",factory:()=>aq}),mg=class{},lq=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=lg(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(te(mn),te(Er),te(oq))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function uq(n,e){let t=n.url.toLowerCase();if(!H(nN)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=H(mg).getToken(),i=H(cq);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function rN(...n){let e=[GI,ZP,XP,{provide:xh,useExisting:XP},{provide:fg,useFactory:()=>H(J4,{optional:!0})??H(ZP)},{provide:tN,useValue:uq,multi:!0},{provide:nN,useValue:!0},{provide:mg,useClass:lq}];for(let t of n)e.push(...t.\u0275providers);return yr(e)}var QI=class extends og{constructor(){super(...arguments),this.supportsDOMEvents=!0}},YI=class n extends QI{static makeCurrent(){VP(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=hq();return t==null?null:fq(t)}resetBaseElement(){Nh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lg(document.cookie,e)}},Nh=null;function hq(){return Nh=Nh||document.querySelector("base"),Nh?Nh.getAttribute("href"):null}function fq(n){return new URL(n,document.baseURI).pathname}var pq=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),JI=new X(""),aN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(te(JI),te(ze))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),gg=class{constructor(e){this._doc=e}},WI="ng-app-id",cN=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dg(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${WI}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(WI),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(WI,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(te(mn),te(cI),te(uI,8),te(Er))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),KI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ZI=/%COMP%/g,lN="%COMP%",mq=`_nghost-${lN}`,gq=`_ngcontent-${lN}`,yq=!0,_q=new X("",{providedIn:"root",factory:()=>yq});function vq(n){return gq.replace(ZI,n)}function Eq(n){return mq.replace(ZI,n)}function uN(n,e){return e.map(t=>t.replace(ZI,n))}var iN=(()=>{class n{constructor(t,r,i,s,a,c,l,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=dg(c),this.defaultRenderer=new Mh(t,a,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wi.ShadowDom&&(r=Ie(B({},r),{encapsulation:wi.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof yg?i.applyToHost(t):i instanceof Oh&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case wi.Emulated:s=new yg(l,h,r,this.appId,p,a,c,g);break;case wi.ShadowDom:return new XI(l,h,t,r,a,c,this.nonce,g);default:s=new Oh(l,h,r,p,a,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(te(aN),te(cN),te(cI),te(_q),te(mn),te(Er),te(ze),te(uI))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Mh=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(KI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(sN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ee(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=KI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=KI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vs.DashCase|vs.Important)?e.style.setProperty(t,r,i&vs.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ps().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function sN(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var XI=class extends Mh{constructor(e,t,r,i,s,a,c,l){super(e,s,a,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=uN(i.id,i.styles);for(let p of h){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oh=class extends Mh{constructor(e,t,r,i,s,a,c,l){super(e,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?uN(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yg=class extends Oh{constructor(e,t,r,i,s,a,c,l){let h=i+"-"+r.id;super(e,t,r,s,a,c,l,h),this.contentAttr=vq(h),this.hostAttr=Eq(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},wq=(()=>{class n extends gg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(te(mn))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),oN=["alt","control","meta","shift"],Iq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Tq=(()=>{class n extends gg{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ps().onAndCancel(t,s.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),oN.forEach(h=>{let p=r.indexOf(h);p>-1&&(r.splice(p,1),a+=h+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(t,r){let i=Iq[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),oN.forEach(a=>{if(a!==i){let c=bq[a];c(t)&&(s+=a+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(te(mn))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function dN(n,e){return SP(B({rootComponent:n},Cq(e)))}function Cq(n){return{appProviders:[...Rq,...n?.providers??[]],platformProviders:xq}}function Dq(){YI.makeCurrent()}function Sq(){return new _s}function Aq(){return DR(document),document}var xq=[{provide:Er,useValue:jI},{provide:lI,useValue:Dq,multi:!0},{provide:mn,useFactory:Aq,deps:[]}];var Rq=[{provide:Rm,useValue:"root"},{provide:_s,useFactory:Sq,deps:[]},{provide:JI,useClass:wq,multi:!0,deps:[mn,ze,Er]},{provide:JI,useClass:Tq,multi:!0,deps:[mn]},iN,cN,aN,{provide:Tl,useExisting:iN},{provide:Ml,useClass:pq,deps:[]},[]];var hN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(te(mn))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Te="primary",Qh=Symbol("RouteTitle"),i0=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Bl(n){return new i0(n)}function Nq(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],c=n[s];if(a[0]===":")i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xi(n[t],e[t]))return!1;return!0}function xi(n,e){let t=n?s0(n):void 0,r=e?s0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!bN(n[i],e[i]))return!1;return!0}function s0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function bN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function TN(n){return n.length>0?n[n.length-1]:null}function Lo(n){return DE(n)?n:Za(n)?lt(Promise.resolve(n)):de(n)}var Oq={exact:DN,subset:SN},CN={exact:kq,subset:Vq,ignored:()=>!0};function fN(n,e,t){return Oq[t.paths](n.root,e.root,t.matrixParams)&&CN[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function kq(n,e){return xi(n,e)}function DN(n,e,t){if(!rc(n.segments,e.segments)||!Eg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!DN(n.children[r],e.children[r],t))return!1;return!0}function Vq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bN(n[t],e[t]))}function SN(n,e,t){return AN(n,e,e.segments,t)}function AN(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!rc(i,t)||e.hasChildren()||!Eg(i,t,r))}else if(n.segments.length===t.length){if(!rc(n.segments,t)||!Eg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!SN(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!rc(n.segments,i)||!Eg(n.segments,i,r)||!n.children[Te]?!1:AN(n.children[Te],e,s,r)}}function Eg(n,e,t){return e.every((r,i)=>CN[t](n[i].parameters,r.parameters))}var ks=class{constructor(e=new Ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bl(this.queryParams),this._queryParamMap}toString(){return Uq.serialize(this)}},Ye=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wg(this)}},nc=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Bl(this.parameters),this._parameterMap}toString(){return RN(this)}};function Fq(n,e){return rc(n,e)&&n.every((t,r)=>xi(t.parameters,e[r].parameters))}function rc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Lq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Te&&(t=t.concat(e(i,r)))}),t}var Yh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>new $l,providedIn:"root"})}}return n})(),$l=class{parse(e){let t=new a0(e);return new ks(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${kh(e.root,!0)}`,r=$q(e.queryParams),i=typeof e.fragment=="string"?`#${jq(e.fragment)}`:"";return`${t}${r}${i}`}},Uq=new $l;function wg(n){return n.segments.map(e=>RN(e)).join("/")}function kh(n,e){if(!n.hasChildren())return wg(n);if(e){let t=n.children[Te]?kh(n.children[Te],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Te&&r.push(`${i}:${kh(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Lq(n,(r,i)=>i===Te?[kh(n.children[Te],!1)]:[`${i}:${kh(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Te]!=null?`${wg(n)}/${t[0]}`:`${wg(n)}/(${t.join("//")})`}}function xN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _g(n){return xN(n).replace(/%3B/gi,";")}function jq(n){return encodeURI(n)}function o0(n){return xN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ig(n){return decodeURIComponent(n)}function pN(n){return Ig(n.replace(/\+/g,"%20"))}function RN(n){return`${o0(n.path)}${Bq(n.parameters)}`}function Bq(n){return Object.entries(n).map(([e,t])=>`;${o0(e)}=${o0(t)}`).join("")}function $q(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${_g(t)}=${_g(i)}`).join("&"):`${_g(t)}=${_g(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var qq=/^[^\/()?;#]+/;function e0(n){let e=n.match(qq);return e?e[0]:""}var zq=/^[^\/()?;=#]+/;function Hq(n){let e=n.match(zq);return e?e[0]:""}var Gq=/^[^=?&#]+/;function Wq(n){let e=n.match(Gq);return e?e[0]:""}var Kq=/^[^&#]+/;function Qq(n){let e=n.match(Kq);return e?e[0]:""}var a0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Te]=new Ye(e,t)),r}parseSegment(){let e=e0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(e),new nc(Ig(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Hq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=e0(this.remaining);i&&(r=i,this.capture(r))}e[Ig(t)]=Ig(r)}parseQueryParam(e){let t=Wq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=Qq(this.remaining);a&&(r=a,this.capture(r))}let i=pN(t),s=pN(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=e0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Te);let a=this.parseChildren();t[s]=Object.keys(a).length===1?a[Te]:new Ye([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ee(4011,!1)}};function PN(n){return n.segments.length>0?new Ye([],{[Te]:n}):n}function NN(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=NN(i);if(r===Te&&s.segments.length===0&&s.hasChildren())for(let[a,c]of Object.entries(s.children))e[a]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ye(n.segments,e);return Yq(t)}function Yq(n){if(n.numberOfChildren===1&&n.children[Te]){let e=n.children[Te];return new Ye(n.segments.concat(e.segments),e.children)}return n}function ic(n){return n instanceof ks}function Jq(n,e,t=null,r=null){let i=MN(n);return ON(i,e,t,r)}function MN(n){let e;function t(s){let a={};for(let l of s.children){let h=t(l);a[l.outlet]=h}let c=new Ye(s.url,a);return s===n&&(e=c),c}let r=t(n.root),i=PN(r);return e??i}function ON(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return t0(i,i,i,t,r);let s=Xq(e);if(s.toRoot())return t0(i,i,new Ye([],{}),t,r);let a=Zq(s,i,n),c=a.processChildren?Lh(a.segmentGroup,a.index,s.commands):VN(a.segmentGroup,a.index,s.commands);return t0(i,a.segmentGroup,c,t,r)}function bg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Bh(n){return typeof n=="object"&&n!=null&&n.outlets}function t0(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,h])=>{s[l]=Array.isArray(h)?h.map(p=>`${p}`):`${h}`});let a;n===e?a=t:a=kN(n,e,t);let c=PN(NN(a));return new ks(c,s,i)}function kN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=kN(s,e,t)}),new Ye(n.segments,r)}var Tg=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bg(r[0]))throw new ee(4003,!1);let i=r.find(Bh);if(i&&i!==TN(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Xq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Tg(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,h])=>{c[l]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Tg(t,e,r)}var Ll=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Zq(n,e,t){if(n.isAbsolute)return new Ll(e,!0,0);if(!t)return new Ll(e,!1,NaN);if(t.parent===null)return new Ll(t,!0,0);let r=bg(n.commands[0])?0:1,i=t.segments.length-1+r;return e3(t,i,n.numberOfDoubleDots)}function e3(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new Ll(r,!1,i-s)}function t3(n){return Bh(n[0])?n[0].outlets:{[Te]:n}}function VN(n,e,t){if(n??=new Ye([],{}),n.segments.length===0&&n.hasChildren())return Lh(n,e,t);let r=n3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ye(n.segments.slice(0,r.pathIndex),{});return s.children[Te]=new Ye(n.segments.slice(r.pathIndex),n.children),Lh(s,0,i)}else return r.match&&i.length===0?new Ye(n.segments,{}):r.match&&!n.hasChildren()?c0(n,e,t):r.match?Lh(n,0,i):c0(n,e,t)}function Lh(n,e,t){if(t.length===0)return new Ye(n.segments,{});{let r=t3(t),i={};if(Object.keys(r).some(s=>s!==Te)&&n.children[Te]&&n.numberOfChildren===1&&n.children[Te].segments.length===0){let s=Lh(n.children[Te],e,t);return new Ye(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=VN(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new Ye(n.segments,i)}}function n3(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let a=n.segments[i],c=t[r];if(Bh(c))break;let l=`${c}`,h=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!gN(l,h,a))return s;r+=2}else{if(!gN(l,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function c0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Bh(s)){let l=r3(s.outlets);return new Ye(r,l)}if(i===0&&bg(t[0])){let l=n.segments[e];r.push(new nc(l.path,mN(t[0]))),i++;continue}let a=Bh(s)?s.outlets[Te]:`${s}`,c=i<t.length-1?t[i+1]:null;a&&c&&bg(c)?(r.push(new nc(a,mN(c))),i+=2):(r.push(new nc(a,{})),i++)}return new Ye(r,{})}function r3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=c0(new Ye([],{}),0,r))}),e}function mN(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gN(n,e,t){return n==t.path&&xi(e,t.parameters)}var Uh="imperative",Wt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Wt||{}),br=class{constructor(e,t){this.id=e,this.url=t}},ql=class extends br{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Wt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ri=class extends br{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Wt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ar=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ar||{}),Cg=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Cg||{}),Os=class extends br{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Wt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fo=class extends br{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Wt.NavigationSkipped}},$h=class extends br{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Wt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Dg=class extends br{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Wt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},l0=class extends br{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Wt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},u0=class extends br{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Wt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},d0=class extends br{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Wt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},h0=class extends br{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Wt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},f0=class{constructor(e){this.route=e,this.type=Wt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},p0=class{constructor(e){this.route=e,this.type=Wt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},m0=class{constructor(e){this.snapshot=e,this.type=Wt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},g0=class{constructor(e){this.snapshot=e,this.type=Wt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},y0=class{constructor(e){this.snapshot=e,this.type=Wt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_0=class{constructor(e){this.snapshot=e,this.type=Wt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sg=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Wt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},qh=class{},zl=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function i3(n,e){return n.providers&&!n._injector&&(n._injector=Gm(n.providers,e,`Route: ${n.path}`)),n._injector??e}function si(n){return n.outlet||Te}function s3(n,e){let t=n.filter(r=>si(r)===e);return t.push(...n.filter(r=>si(r)!==e)),t}function Jh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var v0=class{get injector(){return Jh(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Xh(this.rootInjector),this.attachRef=null}},Xh=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new v0(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(te(Dn))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ag=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=E0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=E0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=w0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return w0(e,this._root).map(t=>t.value)}};function E0(n,e){if(n===e.value)return e;for(let t of e.children){let r=E0(n,t);if(r)return r}return null}function w0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=w0(n,t);if(r.length)return r.unshift(e),r}return[]}var or=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fl(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var xg=class extends Ag{constructor(e,t){super(e),this.snapshot=t,R0(this,e)}toString(){return this.snapshot.toString()}};function FN(n){let e=o3(n),t=new Tt([new nc("",{})]),r=new Tt({}),i=new Tt({}),s=new Tt({}),a=new Tt(""),c=new gn(t,r,s,a,i,Te,n,e.root);return c.snapshot=e.root,new xg(new or(c,[]),e)}function o3(n){let e={},t={},r={},i="",s=new Ul([],e,r,i,t,Te,n,null,{});return new Pg("",new or(s,[]))}var gn=class{constructor(e,t,r,i,s,a,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(h=>h[Qh]))??de(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>Bl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>Bl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&UN(i)&&(r.resolve[Qh]=i.title),r}var Ul=class{get title(){return this.data?.[Qh]}constructor(e,t,r,i,s,a,c,l,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Pg=class extends Ag{constructor(e,t){super(t),this.url=e,R0(this,t)}toString(){return LN(this._root)}};function R0(n,e){e.value._routerState=n,e.children.forEach(t=>R0(n,t))}function LN(n){let e=n.children.length>0?` { ${n.children.map(LN).join(", ")} } `:"";return`${n.value}${e}`}function n0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),xi(e.params,t.params)||n.paramsSubject.next(t.params),Mq(e.url,t.url)||n.urlSubject.next(t.url),xi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function I0(n,e){let t=xi(n.params,e.params)&&Fq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||I0(n.parent,e.parent))}function UN(n){return typeof n.title=="string"||n.title===null}var P0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new dt,this.deactivateEvents=new dt,this.attachEvents=new dt,this.detachEvents=new dt,this.parentContexts=H(Xh),this.location=H(Hm),this.changeDetector=H(ec),this.inputBinder=H(kg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new b0(t,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Nt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bs]})}}return n})(),b0=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gn?this.route:e===Xh?this.childContexts:this.parent.get(e,t)}},kg=new X(""),yN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=sh([r.queryParams,r.params,r.data]).pipe(Un(([s,a,c],l)=>(c=B(B(B({},s),a),c),l===0?de(c):Promise.resolve(c)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let a=AP(r.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of a.inputs)t.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function a3(n,e,t){let r=zh(n,e._root,t?t._root:void 0);return new xg(r,e)}function zh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=c3(n,e,t);return new or(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>zh(n,c)),a}}let r=l3(e.value),i=e.children.map(s=>zh(n,s));return new or(r,i)}}function c3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return zh(n,r,i);return zh(n,r)})}function l3(n){return new gn(new Tt(n.url),new Tt(n.params),new Tt(n.queryParams),new Tt(n.fragment),new Tt(n.data),n.outlet,n.component,n)}var Hh=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},jN="ngNavigationCancelingError";function Ng(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ic(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BN(!1,ar.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function BN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[jN]=!0,t.cancellationCode=e,t}function u3(n){return $N(n)&&ic(n.url)}function $N(n){return!!n&&n[jN]}var d3=(n,e,t,r)=>he(i=>(new T0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),T0=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),n0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Fl(t);e.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Fl(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Fl(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Fl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new _0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new g0(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(n0(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),n0(c.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Mg=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},jl=class{constructor(e,t){this.component=e,this.route=t}};function h3(n,e,t){let r=n._root,i=e?e._root:null;return Vh(r,i,t,[r.value])}function f3(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Gl(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!ux(n)?n:e.get(n):r}function Vh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Fl(e);return n.children.forEach(a=>{p3(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>jh(c,t.getContext(a),i)),i}function p3(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let l=m3(a,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Mg(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Vh(n,e,c?c.children:null,r,i):Vh(n,e,t,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new jl(c.outlet.component,a))}else a&&jh(e,c,i),i.canActivateChecks.push(new Mg(r)),s.component?Vh(n,null,c?c.children:null,r,i):Vh(n,null,t,r,i);return i}function m3(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!rc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rc(n.url,e.url)||!xi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I0(n,e)||!xi(n.queryParams,e.queryParams);case"paramsChange":default:return!I0(n,e)}}function jh(n,e,t){let r=Fl(n),i=n.value;Object.entries(r).forEach(([s,a])=>{i.component?e?jh(a,e.children.getContext(s),t):jh(a,null,t):jh(a,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new jl(e.outlet.component,i)):t.canDeactivateChecks.push(new jl(null,i)):t.canDeactivateChecks.push(new jl(null,i))}function Zh(n){return typeof n=="function"}function g3(n){return typeof n=="boolean"}function y3(n){return n&&Zh(n.canLoad)}function _3(n){return n&&Zh(n.canActivate)}function v3(n){return n&&Zh(n.canActivateChild)}function E3(n){return n&&Zh(n.canDeactivate)}function w3(n){return n&&Zh(n.canMatch)}function qN(n){return n instanceof ps||n?.name==="EmptyError"}var vg=Symbol("INITIAL_VALUE");function Hl(){return Un(n=>sh(n.map(e=>e.pipe(gs(1),PE(vg)))).pipe(he(e=>{for(let t of e)if(t!==!0){if(t===vg)return vg;if(t===!1||I3(t))return t}return!0}),Ln(e=>e!==vg),gs(1)))}function I3(n){return ic(n)||n instanceof Hh}function b3(n,e){return xt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return a.length===0&&s.length===0?de(Ie(B({},t),{guardsResult:!0})):T3(a,r,i,n).pipe(xt(c=>c&&g3(c)?C3(r,s,n,e):de(c)),he(c=>Ie(B({},t),{guardsResult:c})))})}function T3(n,e,t,r){return lt(n).pipe(xt(i=>R3(i.component,i.route,t,e,r)),_i(i=>i!==!0,!0))}function C3(n,e,t,r){return lt(e).pipe(ms(i=>sl(S3(i.route.parent,r),D3(i.route,r),x3(n,i.path,t),A3(n,i.route,t))),_i(i=>i!==!0,!0))}function D3(n,e){return n!==null&&e&&e(new y0(n)),de(!0)}function S3(n,e){return n!==null&&e&&e(new m0(n)),de(!0)}function A3(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return de(!0);let i=r.map(s=>Hp(()=>{let a=Jh(e)??t,c=Gl(s,a),l=_3(c)?c.canActivate(e,n):_r(a,()=>c(e,n));return Lo(l).pipe(_i())}));return de(i).pipe(Hl())}function x3(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>f3(a)).filter(a=>a!==null).map(a=>Hp(()=>{let c=a.guards.map(l=>{let h=Jh(a.node)??t,p=Gl(l,h),g=v3(p)?p.canActivateChild(r,n):_r(h,()=>p(r,n));return Lo(g).pipe(_i())});return de(c).pipe(Hl())}));return de(s).pipe(Hl())}function R3(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return de(!0);let a=s.map(c=>{let l=Jh(e)??i,h=Gl(c,l),p=E3(h)?h.canDeactivate(n,e,t,r):_r(l,()=>h(n,e,t,r));return Lo(p).pipe(_i())});return de(a).pipe(Hl())}function P3(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return de(!0);let s=i.map(a=>{let c=Gl(a,n),l=y3(c)?c.canLoad(e,t):_r(n,()=>c(e,t));return Lo(l)});return de(s).pipe(Hl(),zN(r))}function zN(n){return _E(Rt(e=>{if(typeof e!="boolean")throw Ng(n,e)}),he(e=>e===!0))}function N3(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return de(!0);let s=i.map(a=>{let c=Gl(a,n),l=w3(c)?c.canMatch(e,t):_r(n,()=>c(e,t));return Lo(l)});return de(s).pipe(Hl(),zN(r))}var Gh=class{constructor(e){this.segmentGroup=e||null}},Wh=class extends Error{constructor(e){super(),this.urlTree=e}};function Vl(n){return rl(new Gh(n))}function M3(n){return rl(new ee(4e3,!1))}function O3(n){return rl(BN(!1,ar.GuardRejected))}var C0=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return de(r);if(i.numberOfChildren>1||!i.children[Te])return M3(`${e.redirectTo}`);i=i.children[Te]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:l,fragment:h,routeConfig:p,url:g,outlet:I,params:T,data:P,title:M}=i,N=_r(s,()=>c({params:T,data:P,queryParams:l,fragment:h,routeConfig:p,url:g,outlet:I,title:M}));if(N instanceof ks)throw new Wh(N);t=N}let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Wh(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new ks(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),a={};return Object.entries(t.children).forEach(([c,l])=>{a[c]=this.createSegmentGroup(e,l,r,i)}),new Ye(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},D0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function k3(n,e,t,r,i){let s=HN(n,e,t);return s.matched?(r=i3(e,r),N3(r,e,t,i).pipe(he(a=>a===!0?s:B({},D0)))):de(s)}function HN(n,e,t){if(e.path==="**")return V3(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},D0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Nq)(t,n,e);if(!i)return B({},D0);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let a=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function V3(n){return{matched:!0,parameters:n.length>0?TN(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function _N(n,e,t,r){return t.length>0&&U3(n,t,r)?{segmentGroup:new Ye(e,L3(r,new Ye(t,n.children))),slicedSegments:[]}:t.length===0&&j3(n,t,r)?{segmentGroup:new Ye(n.segments,F3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ye(n.segments,n.children),slicedSegments:t}}function F3(n,e,t,r){let i={};for(let s of t)if(Vg(n,e,s)&&!r[si(s)]){let a=new Ye([],{});i[si(s)]=a}return B(B({},r),i)}function L3(n,e){let t={};t[Te]=e;for(let r of n)if(r.path===""&&si(r)!==Te){let i=new Ye([],{});t[si(r)]=i}return t}function U3(n,e,t){return t.some(r=>Vg(n,e,r)&&si(r)!==Te)}function j3(n,e,t){return t.some(r=>Vg(n,e,r))}function Vg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function B3(n,e,t){return e.length===0&&!n.children[t]}var S0=class{};function $3(n,e,t,r,i,s,a="emptyOnly"){return new A0(n,e,t,r,i,a,s).recognize()}var q3=31,A0=class{constructor(e,t,r,i,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new C0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ee(4002,`'${e.segmentGroup}'`)}recognize(){let e=_N(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:t,rootSnapshot:r})=>{let i=new or(r,t),s=new Pg("",i),a=Jq(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(e){let t=new Ul([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Te,t).pipe(he(r=>({children:r,rootSnapshot:t})),yo(r=>{if(r instanceof Wh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gh?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(he(a=>a instanceof or?[a]:[]))}processChildren(e,t,r,i){let s=[];for(let a of Object.keys(r.children))a==="primary"?s.unshift(a):s.push(a);return lt(s).pipe(ms(a=>{let c=r.children[a],l=s3(t,a);return this.processSegmentGroup(e,l,c,a,i)}),RE((a,c)=>(a.push(...c),a)),_o(null),xE(),xt(a=>{if(a===null)return Vl(r);let c=GN(a);return z3(c),de(c)}))}processSegment(e,t,r,i,s,a,c){return lt(t).pipe(ms(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,a,c).pipe(yo(h=>{if(h instanceof Gh)return de(null);throw h}))),_i(l=>!!l),yo(l=>{if(qN(l))return B3(r,i,s)?de(new S0):Vl(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,a,c,l){return si(r)!==a&&(a===Te||!Vg(i,s,r))?Vl(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,a,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a,l):Vl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a,c){let{matched:l,parameters:h,consumedSegments:p,positionalParamSegments:g,remainingSegments:I}=HN(t,i,s);if(!l)return Vl(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>q3&&(this.allowRedirects=!1));let T=new Ul(s,h,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,vN(i),si(i),i.component??i._loadedComponent??null,i,EN(i)),P=Rg(T,c,this.paramsInheritanceStrategy);T.params=Object.freeze(P.params),T.data=Object.freeze(P.data);let M=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,T,e);return this.applyRedirects.lineralizeSegments(i,M).pipe(xt(N=>this.processSegment(e,r,t,N.concat(I),a,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,a){let c=k3(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Un(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Un(({routes:h})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:I,remainingSegments:T}=l,P=new Ul(I,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,vN(r),si(r),r.component??r._loadedComponent??null,r,EN(r)),M=Rg(P,a,this.paramsInheritanceStrategy);P.params=Object.freeze(M.params),P.data=Object.freeze(M.data);let{segmentGroup:N,slicedSegments:V}=_N(t,I,T,h);if(V.length===0&&N.hasChildren())return this.processChildren(p,h,N,P).pipe(he(F=>new or(P,F)));if(h.length===0&&V.length===0)return de(new or(P,[]));let L=si(r)===s;return this.processSegment(p,h,N,V,L?Te:s,!0,P).pipe(he(F=>new or(P,F instanceof or?[F]:[])))}))):Vl(t)))}getChildConfig(e,t,r){return t.children?de({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?de({routes:t._loadedRoutes,injector:t._loadedInjector}):P3(e,t,r,this.urlSerializer).pipe(xt(i=>i?this.configLoader.loadChildren(e,t).pipe(Rt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):O3(t))):de({routes:[],injector:e})}};function z3(n){n.sort((e,t)=>e.value.outlet===Te?-1:t.value.outlet===Te?1:e.value.outlet.localeCompare(t.value.outlet))}function H3(n){let e=n.value.routeConfig;return e&&e.path===""}function GN(n){let e=[],t=new Set;for(let r of n){if(!H3(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=GN(r.children);e.push(new or(r.value,i))}return e.filter(r=>!t.has(r))}function vN(n){return n.data||{}}function EN(n){return n.resolve||{}}function G3(n,e,t,r,i,s){return xt(a=>$3(n,e,t,r,a.extractedUrl,i,s).pipe(he(({state:c,tree:l})=>Ie(B({},a),{targetSnapshot:c,urlAfterRedirects:l}))))}function W3(n,e){return xt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return de(t);let s=new Set(i.map(l=>l.route)),a=new Set;for(let l of s)if(!a.has(l))for(let h of WN(l))a.add(h);let c=0;return lt(a).pipe(ms(l=>s.has(l)?K3(l,r,n,e):(l.data=Rg(l,l.parent,n).resolve,de(void 0))),Rt(()=>c++),ol(1),xt(l=>c===a.size?de(t):nr))})}function WN(n){let e=n.children.map(t=>WN(t)).flat();return[n,...e]}function K3(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!UN(i)&&(s[Qh]=i.title),Q3(s,n,e,r).pipe(he(a=>(n._resolvedData=a,n.data=Rg(n,n.parent,t).resolve,null)))}function Q3(n,e,t,r){let i=s0(n);if(i.length===0)return de({});let s={};return lt(i).pipe(xt(a=>Y3(n[a],e,t,r).pipe(_i(),Rt(c=>{if(c instanceof Hh)throw Ng(new $l,c);s[a]=c}))),ol(1),AE(s),yo(a=>qN(a)?nr:rl(a)))}function Y3(n,e,t,r){let i=Jh(e)??r,s=Gl(n,i),a=s.resolve?s.resolve(e,t):_r(i,()=>s(e,t));return Lo(a)}function r0(n){return Un(e=>{let t=n(e);return t?lt(t).pipe(he(()=>e)):de(e)})}var KN=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Te);return r}getResolvedTitleForRoute(t){return t.data[Qh]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>H(J3),providedIn:"root"})}}return n})(),J3=(()=>{class n extends KN{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(te(hN))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ef=new X("",{providedIn:"root",factory:()=>({})}),X3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=se({type:n,selectors:[["ng-component"]],standalone:!0,features:[oe],decls:1,vars:0,template:function(r,i){r&1&&Ee(0,"router-outlet")},dependencies:[P0],encapsulation:2})}}return n})();function N0(n){let e=n.children&&n.children.map(N0),t=e?Ie(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Te&&(t.component=X3),t}var Kh=new X(""),M0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(Jm)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return de(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Lo(t.loadComponent()).pipe(he(QN),Rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ja(()=>{this.componentLoaders.delete(t)})),i=new Zc(r,()=>new St).pipe(Xc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Z3(r,this.compiler,t,this.onLoadEndListener).pipe(ja(()=>{this.childrenLoaders.delete(r)})),a=new Zc(s,()=>new St).pipe(Xc());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Z3(n,e,t,r){return Lo(n.loadChildren()).pipe(he(QN),xt(i=>i instanceof gh||Array.isArray(i)?de(i):lt(e.compileModuleAsync(i))),he(i=>{r&&r(n);let s,a,c=!1;return Array.isArray(i)?(a=i,c=!0):(s=i.create(t).injector,a=s.get(Kh,[],{optional:!0,self:!0}).flat()),{routes:a.map(N0),injector:s}}))}function ez(n){return n&&typeof n=="object"&&"default"in n}function QN(n){return ez(n)?n.default:n}var O0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>H(tz),providedIn:"root"})}}return n})(),tz=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YN=new X(""),JN=new X("");function nz(n,e,t){let r=n.get(JN),i=n.get(mn);return n.get(ze).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(h=>setTimeout(h));let s,a=new Promise(h=>{s=h}),c=i.startViewTransition(()=>(s(),rz(n))),{onViewTransitionCreated:l}=r;return l&&_r(n,()=>l({transition:c,from:e,to:t})),a})}function rz(n){return new Promise(e=>{CI({read:()=>setTimeout(e)},{injector:n})})}var iz=new X(""),k0=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new St,this.transitionAbortSubject=new St,this.configLoader=H(M0),this.environmentInjector=H(Dn),this.urlSerializer=H(Yh),this.rootContexts=H(Xh),this.location=H(Ol),this.inputBindingEnabled=H(kg,{optional:!0})!==null,this.titleStrategy=H(KN),this.options=H(ef,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=H(O0),this.createViewTransition=H(YN,{optional:!0}),this.navigationErrorHandler=H(iz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>de(void 0),this.rootComponentType=null;let t=i=>this.events.next(new f0(i)),r=i=>this.events.next(new p0(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ie(B(B({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Uh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ln(s=>s.id!==0),he(s=>Ie(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Un(s=>{let a=!1,c=!1;return de(s).pipe(Un(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ar.SupersededByNewNavigation),nr;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&p!=="reload"){let g="";return this.events.next(new Fo(l.id,this.urlSerializer.serialize(l.rawUrl),g,Cg.IgnoredSameUrlNavigation)),l.resolve(!1),nr}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return de(l).pipe(Un(g=>{let I=this.transitions?.getValue();return this.events.next(new ql(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),I!==this.transitions?.getValue()?nr:Promise.resolve(g)}),G3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Ie(B({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let I=new Dg(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(I)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:I,source:T,restoredState:P,extras:M}=l,N=new ql(g,this.urlSerializer.serialize(I),T,P);this.events.next(N);let V=FN(this.rootComponentType).snapshot;return this.currentTransition=s=Ie(B({},l),{targetSnapshot:V,urlAfterRedirects:I,extras:Ie(B({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,de(s)}else{let g="";return this.events.next(new Fo(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Cg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),nr}}),Rt(l=>{let h=new l0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),he(l=>(this.currentTransition=s=Ie(B({},l),{guards:h3(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),b3(this.environmentInjector,l=>this.events.next(l)),Rt(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ng(this.urlSerializer,l.guardsResult);let h=new u0(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Ln(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ar.GuardRejected),!1)),r0(l=>{if(l.guards.canActivateChecks.length)return de(l).pipe(Rt(h=>{let p=new d0(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Un(h=>{let p=!1;return de(h).pipe(W3(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",ar.NoDataFromResolver)}}))}),Rt(h=>{let p=new h0(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),r0(l=>{let h=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Rt(I=>{p.component=I}),he(()=>{})));for(let I of p.children)g.push(...h(I));return g};return sh(h(l.targetSnapshot.root)).pipe(_o(null),gs(1))}),r0(()=>this.afterPreactivation()),Un(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?lt(p).pipe(he(()=>s)):de(s)}),he(l=>{let h=a3(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ie(B({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Rt(()=>{this.events.next(new qh)}),d3(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),gs(1),Rt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ri(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),NE(this.transitionAbortSubject.pipe(Rt(l=>{throw l}))),ja(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",ar.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),yo(l=>{if(c=!0,$N(l))this.events.next(new Os(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),u3(l)?this.events.next(new zl(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new $h(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=_r(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof Hh){let{message:g,cancellationCode:I}=Ng(this.urlSerializer,p);this.events.next(new Os(s.id,this.urlSerializer.serialize(s.extractedUrl),g,I)),this.events.next(new zl(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let g=t.errorHandler(l);s.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return nr}))}))}cancelNavigationTransition(t,r,i){let s=new Os(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sz(n){return n!==Uh}var oz=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>H(az),providedIn:"root"})}}return n})(),x0=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},az=(()=>{class n extends x0{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XN=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>H(cz),providedIn:"root"})}}return n})(),cz=(()=>{class n extends XN{constructor(){super(...arguments),this.location=H(Ol),this.urlSerializer=H(Yh),this.options=H(ef,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=H(O0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ks,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=FN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ql)this.stateMemento=this.createStateMemento();else if(t instanceof Fo)this.rawUrlTree=r.initialUrl;else if(t instanceof Dg){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof qh?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Os&&(t.code===ar.GuardRejected||t.code===ar.NoDataFromResolver)?this.restoreHistory(r):t instanceof $h?this.restoreHistory(r,!0):t instanceof Ri&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof ks?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,a=B(B({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",a)}else{let s=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fh=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fh||{});function ZN(n,e){n.events.pipe(Ln(t=>t instanceof Ri||t instanceof Os||t instanceof $h||t instanceof Fo),he(t=>t instanceof Ri||t instanceof Fo?Fh.COMPLETE:(t instanceof Os?t.code===ar.Redirect||t.code===ar.SupersededByNewNavigation:!1)?Fh.REDIRECTING:Fh.FAILED),Ln(t=>t!==Fh.REDIRECTING),gs(1)).subscribe(()=>{e()})}function lz(n){throw n}var uz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ot=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=H(Qm),this.stateManager=H(XN),this.options=H(ef,{optional:!0})||{},this.pendingTasks=H(So),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=H(k0),this.urlSerializer=H(Yh),this.location=H(Ol),this.urlHandlingStrategy=H(O0),this._events=new St,this.errorHandler=this.options.errorHandler||lz,this.navigated=!1,this.routeReuseStrategy=H(oz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=H(Kh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!H(kg,{optional:!0}),this.eventsSubscription=new Et,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Os&&r.code!==ar.Redirect&&r.code!==ar.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ri)this.navigated=!0;else if(r instanceof zl){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sz(i.source)},a);this.scheduleNavigation(c,Uh,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Uh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let l=B({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(N0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,h=l?this.currentUrlTree.fragment:a,p=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let I=i?i.snapshot:this.routerState.snapshot.root;g=MN(I)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return ON(g,t,p,h??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ic(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Uh,null,r)}navigate(t,r={skipLocationChange:!1}){return hz(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},uz):r===!1?i=B({},dz):i=r,ic(t))return fN(this.currentUrlTree,t,i);let s=this.parseUrl(t);return fN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,h;a?(c=a.resolve,l=a.reject,h=a.promise):h=new Promise((g,I)=>{c=g,l=I});let p=this.pendingTasks.add();return ZN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new ee(4008,!1)}function fz(n){return!(n instanceof qh)&&!(n instanceof zl)}var Wl=(()=>{class n{constructor(t,r,i,s,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new St,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof Ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ic(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:xR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:ic(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)($(ot),$(gn),rI("tabindex"),$(Si),$(ri),$(Ns))}}static{this.\u0275dir=Nt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&le("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Rl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",tc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",tc],replaceUrl:[2,"replaceUrl","replaceUrl",tc],routerLink:"routerLink"},standalone:!0,features:[TI,bs]})}}return n})();var Og=class{};var pz=(()=>{class n{constructor(t,r,i,s,a){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(t=>t instanceof Ri),ms(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Gm(s.providers,t,`Route: ${s.path}`));let a=s._injector??t,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return lt(i).pipe(il())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=de(null);let s=i.pipe(xt(a=>a===null?de(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return lt([s,a]).pipe(il())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(te(ot),te(Jm),te(Dn),te(Og),te(M0))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e1=new X(""),mz=(()=>{class n{constructor(t,r,i,s,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ql?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ri?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Fo&&t.code===Cg.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sg&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Sg(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){BR()}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function t1(n,...e){return yr([{provide:Kh,multi:!0,useValue:n},[],{provide:gn,useFactory:n1,deps:[ot]},{provide:Ch,multi:!0,useFactory:r1},e.map(t=>t.\u0275providers)])}function n1(n){return n.routerState.root}function tf(n,e){return{\u0275kind:n,\u0275providers:e}}function r1(){let n=H(nn);return e=>{let t=n.get(Po);if(e!==t.components[0])return;let r=n.get(ot),i=n.get(i1);n.get(V0)===1&&r.initialNavigation(),n.get(s1,null,De.Optional)?.setUpPreloading(),n.get(e1,null,De.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var i1=new X("",{factory:()=>new St}),V0=new X("",{providedIn:"root",factory:()=>1});function gz(){return tf(2,[{provide:V0,useValue:0},{provide:Ym,multi:!0,deps:[nn],useFactory:e=>{let t=e.get(FP,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(ot),s=e.get(i1);ZN(i,()=>{r(!0)}),e.get(k0).afterPreactivation=()=>(r(!0),s.closed?de(void 0):s),i.initialNavigation()}))}}])}function yz(){return tf(3,[{provide:Ym,multi:!0,useFactory:()=>{let e=H(ot);return()=>{e.setUpLocationChangeListener()}}},{provide:V0,useValue:2}])}var s1=new X("");function _z(n){return tf(0,[{provide:s1,useExisting:pz},{provide:Og,useExisting:n}])}function vz(){return tf(8,[yN,{provide:kg,useExisting:yN}])}function Ez(n){let e=[{provide:YN,useValue:nz},{provide:JN,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return tf(9,e)}var wN=new X("ROUTER_FORROOT_GUARD"),wz=[Ol,{provide:Yh,useClass:$l},ot,Xh,{provide:gn,useFactory:n1,deps:[ot]},M0,[]],Kl=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[wz,[],{provide:Kh,multi:!0,useValue:t},{provide:wN,useFactory:Cz,deps:[[ot,new xn,new yx]]},{provide:ef,useValue:r||{}},r?.useHash?bz():Tz(),Iz(),r?.preloadingStrategy?_z(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Dz(r):[],r?.bindToComponentInputs?vz().\u0275providers:[],r?.enableViewTransitions?Ez().\u0275providers:[],Sz()]}}static forChild(t){return{ngModule:n,providers:[{provide:Kh,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(te(wN,8))}}static{this.\u0275mod=Di({type:n})}static{this.\u0275inj=Ci({})}}return n})();function Iz(){return{provide:e1,useFactory:()=>{let n=H(GP),e=H(ze),t=H(ef),r=H(k0),i=H(Yh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mz(i,r,n,e,t)}}}function bz(){return{provide:Ns,useClass:UP}}function Tz(){return{provide:Ns,useClass:UI}}function Cz(n){return"guarded"}function Dz(n){return[n.initialNavigation==="disabled"?yz().\u0275providers:[],n.initialNavigation==="enabledBlocking"?gz().\u0275providers:[]]}var IN=new X("");function Sz(){return[{provide:IN,useFactory:r1},{provide:Ch,multi:!0,useExisting:IN}]}var Fg=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["not-found"]],standalone:!0,features:[oe],decls:2,vars:0,template:function(t,r){t&1&&(D(0,"h1"),x(1,"Page Not Found"),C())}})};function Az(n,e){n&1&&(D(0,"li",6),x(1,"P-Bandai Exclusive: Yes"),C())}function xz(n,e){n&1&&(D(0,"li",6),x(1,"P-Bandai Exclusive: No"),C())}var Lg=class n{item;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["product-card"]],inputs:{item:"item"},standalone:!0,features:[oe],decls:18,vars:10,consts:[[1,"card"],[1,"image-container"],["alt","Card image cap",1,"img-fluid",3,"src"],[1,"card-body","d-flex","align-items-center"],[1,"card-title","m-0"],[1,"list-group","list-group-flush"],[1,"list-group-item"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1),Ee(2,"img",2),C(),D(3,"div",3)(4,"div",4),x(5),C()(),D(6,"ul",5)(7,"li",6),x(8),C(),D(9,"li",6),x(10),C(),Q(11,Az,2,0,"li",6)(12,xz,2,0,"li",6),D(13,"li",6),x(14),pn(15,"date"),C(),D(16,"li",6),x(17),C()()()),t&2&&(O(2),DI("src",r.item.thumbnail,Th),O(3),He(r.item.name),O(3),rn("Grade: ",r.item.grade,""),O(2),rn("Size: ",r.item.size,""),O(),W(r.item.pbandai?11:12),O(3),rn(" Relase Date: ",Ro(15,7,r.item.release,"yyyy-mm-dd")," "),O(3),rn("Price: ",r.item.price,""))},dependencies:[sr,No],styles:["ul[_ngcontent-%COMP%]{padding:0}li[_ngcontent-%COMP%]{list-style:none}.image-container[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-top:56.25%;overflow:hidden;display:flex;justify-content:center;align-items:center}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain}.card-body[_ngcontent-%COMP%]{height:80px}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}"]})};function Rz(n,e){n&1&&(D(0,"div"),x(1,"No Products Found"),C())}function Pz(n,e){if(n&1){let t=qt();D(0,"div",2)(1,"a",3),le("click",function(i){let s=Mt(t).$implicit,a=ne(2);return i.preventDefault(),Ot(a.toDetailsPage(s))}),Ee(2,"product-card",4),C()()}if(n&2){let t=e.$implicit;O(2),ve("item",t)}}function Nz(n,e){if(n&1&&(D(0,"div",1),Pn(1,Pz,3,1,"div",2,Rn),C()),n&2){let t=ne();O(),Nn(t.displayProducts)}}var Ug=class n{constructor(e){this.router=e}displayProducts=[];toDetailsPage(e){this.router.navigate(["details/",e.id])}static \u0275fac=function(t){return new(t||n)($(ot))};static \u0275cmp=se({type:n,selectors:[["product-list"]],inputs:{displayProducts:"displayProducts"},standalone:!0,features:[oe],decls:3,vars:1,consts:[[1,"container-fluid","px-0","m-0"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-3","mb-4"],["href","#",3,"click"],[3,"item"]],template:function(t,r){t&1&&(D(0,"div",0),Q(1,Rz,2,0,"div")(2,Nz,3,0,"div",1),C()),t&2&&(O(),W(r.displayProducts.length===0?1:2))},dependencies:[Lg],styles:["a[_ngcontent-%COMP%]{text-decoration:none}"]})};var p1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)($(Si),$(ri))}}static{this.\u0275dir=Nt({type:n})}}return n})(),j0=(()=>{class n extends p1{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275dir=Nt({type:n,features:[wr]})}}return n})(),cf=new X("");var Mz={provide:cf,useExisting:Ti(()=>Pi),multi:!0};function Oz(){let n=Ps()?Ps().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var kz=new X(""),Pi=(()=>{class n extends p1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Oz())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)($(Si),$(ri),$(kz,8))}}static{this.\u0275dir=Nt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[Ao([Mz]),wr]})}}return n})();function Uo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function m1(n){return n!=null&&typeof n.length=="number"}var Qg=new X(""),Yg=new X(""),Vz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,et=class{static min(e){return Fz(e)}static max(e){return Lz(e)}static required(e){return Uz(e)}static requiredTrue(e){return jz(e)}static email(e){return Bz(e)}static minLength(e){return $z(e)}static maxLength(e){return qz(e)}static pattern(e){return zz(e)}static nullValidator(e){return g1(e)}static compose(e){return I1(e)}static composeAsync(e){return b1(e)}};function Fz(n){return e=>{if(Uo(e.value)||Uo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Lz(n){return e=>{if(Uo(e.value)||Uo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Uz(n){return Uo(n.value)?{required:!0}:null}function jz(n){return n.value===!0?null:{required:!0}}function Bz(n){return Uo(n.value)||Vz.test(n.value)?null:{email:!0}}function $z(n){return e=>Uo(e.value)||!m1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function qz(n){return e=>m1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function zz(n){if(!n)return g1;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Uo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function g1(n){return null}function y1(n){return n!=null}function _1(n){return Za(n)?lt(n):n}function v1(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function E1(n,e){return e.map(t=>t(n))}function Hz(n){return!n.validate}function w1(n){return n.map(e=>Hz(e)?e:t=>e.validate(t))}function I1(n){if(!n)return null;let e=n.filter(y1);return e.length==0?null:function(t){return v1(E1(t,e))}}function B0(n){return n!=null?I1(w1(n)):null}function b1(n){if(!n)return null;let e=n.filter(y1);return e.length==0?null:function(t){let r=E1(t,e).map(_1);return SE(r).pipe(he(v1))}}function $0(n){return n!=null?b1(w1(n)):null}function o1(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function T1(n){return n._rawValidators}function C1(n){return n._rawAsyncValidators}function F0(n){return n?Array.isArray(n)?n:[n]:[]}function Bg(n,e){return Array.isArray(n)?n.includes(e):n===e}function a1(n,e){let t=F0(e);return F0(n).forEach(i=>{Bg(t,i)||t.push(i)}),t}function c1(n,e){return F0(e).filter(t=>!Bg(n,t))}var $g=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=B0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Vs=class extends $g{get formDirective(){return null}get path(){return null}},sc=class extends $g{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qg=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Gz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Cce=Ie(B({},Gz),{"[class.ng-submitted]":"isSubmitted"}),Ni=(()=>{class n extends qg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)($(sc,2))}}static{this.\u0275dir=Nt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Pl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[wr]})}}return n})(),Bo=(()=>{class n extends qg{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)($(Vs,10))}}static{this.\u0275dir=Nt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Pl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[wr]})}}return n})();var nf="VALID",jg="INVALID",Ql="PENDING",rf="DISABLED",jo=class{},zg=class extends jo{constructor(e,t){super(),this.value=e,this.source=t}},of=class extends jo{constructor(e,t){super(),this.pristine=e,this.source=t}},af=class extends jo{constructor(e,t){super(),this.touched=e,this.source=t}},Yl=class extends jo{constructor(e,t){super(),this.status=e,this.source=t}},L0=class extends jo{constructor(e){super(),this.source=e}},U0=class extends jo{constructor(e){super(),this.source=e}};function D1(n){return(Jg(n)?n.validators:n)||null}function Wz(n){return Array.isArray(n)?B0(n):n||null}function S1(n,e){return(Jg(e)?e.asyncValidators:n)||null}function Kz(n){return Array.isArray(n)?$0(n):n||null}function Jg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Qz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new ee(1e3,"");if(!r[t])throw new ee(1001,"")}function Yz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new ee(1002,"")})}var Hg=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Nl(()=>this.statusReactive()),this.statusReactive=xl(void 0),this._pristine=Nl(()=>this.pristineReactive()),this.pristineReactive=xl(!0),this._touched=Nl(()=>this.touchedReactive()),this.touchedReactive=xl(!1),this._events=new St,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ai(this.statusReactive)}set status(e){Ai(()=>this.statusReactive.set(e))}get valid(){return this.status===nf}get invalid(){return this.status===jg}get pending(){return this.status==Ql}get disabled(){return this.status===rf}get enabled(){return this.status!==rf}get pristine(){return Ai(this.pristineReactive)}set pristine(e){Ai(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ai(this.touchedReactive)}set touched(e){Ai(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(a1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(a1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(c1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(c1(e,this._rawAsyncValidators))}hasValidator(e){return Bg(this._rawValidators,e)}hasAsyncValidator(e){return Bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ie(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new af(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new af(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ie(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new of(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new of(!0,r))}markAsPending(e={}){this.status=Ql;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ie(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rf,this.errors=null,this._forEachChild(i=>{i.disable(Ie(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zg(this.value,r)),this._events.next(new Yl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nf,this._forEachChild(r=>{r.enable(Ie(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nf||this.status===Ql)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zg(this.value,t)),this._events.next(new Yl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ie(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rf:nf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ql,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=_1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Yl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new dt,this.statusChanges=new dt}_calculateStatus(){return this._allControlsDisabled()?rf:this.errors?jg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ql)?Ql:this._anyControlsHaveStatus(jg)?jg:nf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new of(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new af(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Wz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Kz(this._rawAsyncValidators)}},oi=class extends Hg{constructor(e,t,r){super(D1(t),S1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Yz(this,!0,e),Object.keys(e).forEach(r=>{Qz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var lf=new X("CallSetDisabledState",{providedIn:"root",factory:()=>Xg}),Xg="always";function A1(n,e){return[...e.path,n]}function Gg(n,e,t=Xg){q0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Xz(n,e),eH(n,e),Zz(n,e),Jz(n,e)}function l1(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Kg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Jz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function q0(n,e){let t=T1(n);e.validator!==null?n.setValidators(o1(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=C1(n);e.asyncValidator!==null?n.setAsyncValidators(o1(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Wg(e._rawValidators,i),Wg(e._rawAsyncValidators,i)}function Kg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=T1(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=C1(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Wg(e._rawValidators,r),Wg(e._rawAsyncValidators,r),t}function Xz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&x1(n,e)})}function Zz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&x1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function x1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function eH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function R1(n,e){n==null,q0(n,e)}function tH(n,e){return Kg(n,e)}function P1(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function nH(n){return Object.getPrototypeOf(n.constructor)===j0}function N1(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function M1(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Pi?t=s:nH(s)?r=s:i=s}),i||r||t||null}function rH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var iH={provide:Vs,useExisting:Ti(()=>z0)},sf=Promise.resolve(),z0=(()=>{class n extends Vs{get submitted(){return Ai(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Nl(()=>this.submittedReactive()),this.submittedReactive=xl(!1),this._directives=new Set,this.ngSubmit=new dt,this.form=new oi({},B0(t),$0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){sf.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Gg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){sf.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){sf.then(()=>{let r=this._findContainer(t.path),i=new oi({});R1(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){sf.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){sf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),N1(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)($(Qg,10),$(Yg,10),$(lf,8))}}static{this.\u0275dir=Nt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&le("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ao([iH]),wr]})}}return n})();function u1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function d1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ct=class extends Hg{constructor(e=null,t,r){super(D1(t),S1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(d1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){u1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){u1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){d1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sH=n=>n instanceof ct;var oH={provide:sc,useExisting:Ti(()=>uf)},h1=Promise.resolve(),uf=(()=>{class n extends sc{constructor(t,r,i,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new ct,this._registered=!1,this.name="",this.update=new dt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=M1(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),P1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Gg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){h1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&tc(r);h1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?A1(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)($(Vs,9),$(Qg,10),$(Yg,10),$(cf,10),$(ec,8),$(lf,8))}}static{this.\u0275dir=Nt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ao([oH]),wr,bs]})}}return n})(),$o=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Nt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var O1=new X("");var aH={provide:Vs,useExisting:Ti(()=>oc)},oc=(()=>{class n extends Vs{get submitted(){return Ai(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Nl(()=>this._submittedReactive()),this._submittedReactive=xl(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new dt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Gg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){l1(t.control||null,t,!1),rH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),N1(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new L0(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new U0(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(l1(r||null,t),sH(i)&&(Gg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);R1(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&tH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){q0(this.form,this),this._oldForm&&Kg(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)($(Qg,10),$(Yg,10),$(lf,8))}}static{this.\u0275dir=Nt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&le("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ao([aH]),wr,bs]})}}return n})();var cH={provide:sc,useExisting:Ti(()=>ac)},ac=(()=>{class n extends sc{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new dt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=M1(this,s)}ngOnChanges(t){this._added||this._setUpControl(),P1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return A1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)($(Vs,13),$(Qg,10),$(Yg,10),$(cf,10),$(O1,8))}}static{this.\u0275dir=Nt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ao([cH]),wr,bs]})}}return n})(),lH={provide:cf,useExisting:Ti(()=>Jl),multi:!0};function k1(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function uH(n){return n.split(":")[0]}var Jl=(()=>{class n extends j0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=k1(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=uH(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275dir=Nt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&le("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ao([lH]),wr]})}}return n})(),Zg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(k1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)($(ri),$(Si),$(Jl,9))}}static{this.\u0275dir=Nt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),dH={provide:cf,useExisting:Ti(()=>V1),multi:!0};function f1(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function hH(n){return n.split(":")[0]}var V1=(()=>{class n extends j0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],h=this._getOptionValue(l.value);i.push(h)}}else{let a=r.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let h=this._getOptionValue(l.value);i.push(h)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=hH(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ja(n)))(i||n)}})()}static{this.\u0275dir=Nt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&le("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ao([dH]),wr]})}}return n})(),ey=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(f1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(f1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)($(ri),$(Si),$(V1,9))}}static{this.\u0275dir=Nt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var F1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Di({type:n})}static{this.\u0275inj=Ci({})}}return n})();var Tr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:lf,useValue:t.callSetDisabledState??Xg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Di({type:n})}static{this.\u0275inj=Ci({imports:[F1]})}}return n})(),Xl=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:O1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:lf,useValue:t.callSetDisabledState??Xg}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Di({type:n})}static{this.\u0275inj=Ci({imports:[F1]})}}return n})();var ht=class n{subject=new St;emit(e,t){this.subject.next({eventName:e,payload:t})}listen(e,t){this.subject.asObservable().subscribe(r=>{e===r.eventName&&t(r.payload)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var ty=class n{constructor(e){this.eventService=e;e.listen("resetSort",t=>{this.sorterChanged(this.listSorter)})}sorters=[0,(e,t)=>e.price>t.price?1:-1,(e,t)=>e.price<t.price?1:-1,(e,t)=>e.name>t.name?1:-1,(e,t)=>e.name<t.name?1:-1,(e,t)=>{let r=new Date(e.release),i=new Date(t.release);return r>i?1:-1},(e,t)=>{let r=new Date(e.release),i=new Date(t.release);return r<i?1:-1}];listSorter=0;sorterChanged(e){this.eventService.emit("sort",this.sorters[e])}static \u0275fac=function(t){return new(t||n)($(ht))};static \u0275cmp=se({type:n,selectors:[["sorter"]],standalone:!0,features:[oe],decls:16,vars:1,consts:[[1,"col"],[1,"form-select",3,"ngModelChange","ngModel"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"select",1),Ze("ngModelChange",function(s){return tt(r.listSorter,s)||(r.listSorter=s),s}),le("ngModelChange",function(s){return r.sorterChanged(s)}),D(2,"option",2),x(3,"Sort By"),C(),D(4,"option",3),x(5,"price \u2191 (asc)"),C(),D(6,"option",4),x(7,"price \u2193 (desc)"),C(),D(8,"option",5),x(9,"alphabetical \u2191 (a-z)"),C(),D(10,"option",6),x(11,"alphabetical \u2193 (z-a)"),C(),D(12,"option",7),x(13,"release \u2191 (asc)"),C(),D(14,"option",8),x(15,"release \u2193 (desc)"),C()()()),t&2&&(O(),Xe("ngModel",r.listSorter))},dependencies:[Tr,Zg,ey,Jl,Ni,uf],styles:[".form-select[_ngcontent-%COMP%]{width:100%}"]})};var Fs=class{constructor(e,t,r,i,s,a=!1,c,l,h=[]){this.id=e;this.name=t;this.grade=r;this.size=i;this.release=s;this.pbandai=a;this.price=c;this.thumbnail=l;this.model=h}};function fH(n,e){if(n&1){let t=qt();D(0,"li")(1,"div",4)(2,"label",5)(3,"input",6),le("click",function(){let i=Mt(t).$implicit,s=ne();return Ot(s.toggleFilter(i,s.filters.gradeFilters))}),C(),x(4),C()()()}if(n&2){let t=e.$implicit;O(2),ve("ngClass",t.isActive?"text-primary":""),O(),ve("checked",t.isActive),O(),rn(" ",t.filter," ")}}function pH(n,e){if(n&1){let t=qt();D(0,"li")(1,"div",4)(2,"label",5)(3,"input",6),le("click",function(){let i=Mt(t).$implicit,s=ne();return Ot(s.toggleFilter(i,s.filters.sizeFilters))}),C(),x(4),C()()()}if(n&2){let t=e.$implicit;O(2),ve("ngClass",t.isActive?"text-primary":""),O(),ve("checked",t.isActive),O(),rn(" ",t.filter," ")}}function mH(n,e){if(n&1){let t=qt();D(0,"li")(1,"div",4)(2,"label",5)(3,"input",6),le("click",function(){let i=Mt(t).$implicit,s=ne();return Ot(s.toggleFilter(i,s.filters.premiumFilters))}),C(),x(4),C()()()}if(n&2){let t=e.$implicit;O(2),ve("ngClass",t.isActive?"text-primary":""),O(),ve("checked",t.isActive),O(),rn(" ",t.filter," ")}}var ny=class n{constructor(e){this.eventService=e}gradeFilters=[{filter:"Entry Grade",isActive:!1},{filter:"High Grade",isActive:!1},{filter:"Real Grade",isActive:!1},{filter:"Master Grade",isActive:!1},{filter:"Perfect Grade",isActive:!1},{filter:"Super Deformed",isActive:!1},{filter:"Reborn 100",isActive:!1}];sizeFilters=[{filter:"1/144",isActive:!1},{filter:"1/100",isActive:!1},{filter:"1/72",isActive:!1},{filter:"1/60",isActive:!1},{filter:"1/48",isActive:!1},{filter:"Super Deformed",isActive:!1}];premiumFilters=[{filter:"Yes",isActive:!1},{filter:"No",isActive:!1}];filters={gradeFilters:[],sizeFilters:[],premiumFilters:[]};toggleFilter(e,t){if(e.isActive=!e.isActive,e.isActive)t.push(e.filter);else{let r=t.indexOf(e.filter);t.splice(r,1)}this.eventService.emit("filterChanged",this.filters)}static \u0275fac=function(t){return new(t||n)($(ht))};static \u0275cmp=se({type:n,selectors:[["filter"]],standalone:!0,features:[oe],decls:19,vars:0,consts:[[1,"d-flex-column"],[1,"border","border-dark","rounded","mb-2"],[1,"p-0","m-0"],[1,"border","border-dark","rounded"],[1,"form-check"],[1,"form-check-label",3,"ngClass"],["type","checkbox",1,"checkbox",3,"click","checked"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"h5"),x(2,"Grade Filters:"),C(),D(3,"div",1)(4,"ul",2),Pn(5,fH,5,3,"li",null,Rn),C()(),D(7,"h5"),x(8,"Size Filters:"),C(),D(9,"div",1)(10,"ul",2),Pn(11,pH,5,3,"li",null,Rn),C()(),D(13,"h5"),x(14,"Premium Filters:"),C(),D(15,"div",3)(16,"ul",2),Pn(17,mH,5,3,"li",null,Rn),C()()()),t&2&&(O(5),Nn(r.gradeFilters),O(6),Nn(r.sizeFilters),O(6),Nn(r.premiumFilters))},dependencies:[sr,ug],styles:[".container[_ngcontent-%COMP%]{justify-content:end}li[_ngcontent-%COMP%]{list-style:none}"]})};function gH(n,e){if(n&1){let t=qt();D(0,"button",8),le("click",function(){Mt(t);let i=ne();return Ot(i.clearSearch())}),C()}}var ry=class n{constructor(e,t){this.eventService=e;this.router=t}searchText="";toSearchResults(){this.searchText&&(this.router.navigate(["search/"],{queryParams:{searchTerm:this.searchText}}),this.eventService.emit("resetSort",0))}clearSearch(){this.searchText="",this.eventService.emit("resetSort",0)}static \u0275fac=function(t){return new(t||n)($(ht),$(ot))};static \u0275cmp=se({type:n,selectors:[["search-bar"]],standalone:!0,features:[oe],decls:9,vars:2,consts:[[1,"form-inline"],[1,"d-flex"],[1,"col-sm-9","col-md-9","col-lg-10"],[1,"input-group"],["type","search","name","searchBar","placeholder","Search","aria-label","Search",1,"form-control","mr-sm-2",3,"ngModelChange","ngModel"],["type","button","aria-label","Close",1,"btn-close"],[1,"col-sm-3","col-md-3","col-lg-2","mb-3"],["type","submit",1,"searchButton","btn","btn-outline-dark","my-2","my-sm-0","rounded-right",3,"click"],["type","button","aria-label","Close",1,"btn-close",3,"click"]],template:function(t,r){t&1&&(D(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),Ze("ngModelChange",function(s){return tt(r.searchText,s)||(r.searchText=s),s}),C(),Q(5,gH,1,0,"button",5),C()(),D(6,"div",6)(7,"button",7),le("click",function(s){return s.preventDefault(),r.toSearchResults()}),x(8," Search "),C()()()()),t&2&&(O(4),Xe("ngModel",r.searchText),O(),W(r.searchText!=""?5:-1))},dependencies:[Tr,$o,Pi,Ni,Bo,uf,z0],styles:[".searchButton[_ngcontent-%COMP%]{width:100%}.input-group[_ngcontent-%COMP%]{position:relative}.btn-close[_ngcontent-%COMP%]{position:absolute;right:1%;top:25%}"]})};var Zl=class n{constructor(e){this.http=e}getAllProducts(){return this.http.get("https://neondb-maxkyy72aa-uc.a.run.app",{responseType:"json"}).pipe(he(e=>e.map(t=>new Fs(t.id,t.name,t.grade,t.size,t.release,t.pbandai,t.price,t.thumbnail,t.model))))}getSearchProducts(e){return this.http.get(`https://neondb-maxkyy72aa-uc.a.run.app?search=${e}`,{responseType:"json"}).pipe(he(t=>t.map(r=>new Fs(r.id,r.name,r.grade,r.size,r.release,r.pbandai,r.price,r.thumbnail,r.model))))}getProduct(e){return this.http.get(`https://neondb-maxkyy72aa-uc.a.run.app?productID=${e}`,{responseType:"json"}).pipe(he(t=>new Fs(t.id,t.name,t.grade,t.size,t.release,t.pbandai,t.price,t.thumbnail,t.model)))}static \u0275fac=function(t){return new(t||n)(te(GI))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function yH(n,e){n&1&&(D(0,"div",1)(1,"h4",2),x(2,"Loading..."),C()())}function _H(n,e){if(n&1){let t=qt();D(0,"div",11)(1,"h5",19),x(2,"Searching:"),C(),D(3,"div",20),x(4),D(5,"button",21),le("click",function(){Mt(t);let i=ne(2);return Ot(i.resetSearch())}),C()()()}if(n&2){let t=ne(2);O(4),rn(" ",t.searchTerm," ")}}function vH(n,e){if(n&1){let t=qt();D(0,"div",3),Ee(1,"div",4),D(2,"div",5)(3,"div",6)(4,"div",7),Ee(5,"search-bar"),C(),D(6,"div",8),Ee(7,"sorter"),C()()()(),D(8,"div",9)(9,"div",4),Ee(10,"filter"),C(),D(11,"div",10),Q(12,_H,6,1,"div",11),Ee(13,"product-list",12),C()(),D(14,"ul",13)(15,"li",14)(16,"button",15),le("click",function(){Mt(t);let i=ne();return Ot(i.prevPage())}),D(17,"span",16),x(18,"prev"),C()()(),D(19,"li",14)(20,"span",17),x(21),C()(),D(22,"li",14)(23,"button",18),le("click",function(){Mt(t);let i=ne();return Ot(i.nextPage())}),D(24,"span",16),x(25,"next"),C()()()()}if(n&2){let t=ne();O(12),W(t.searching?12:-1),O(),ve("displayProducts",t.pagedItems),O(8),rn("Page ",t.page,"")}}var hf=class n{constructor(e,t,r,i){this.backendService=t;this.route=r;this.router=i;e.listen("sort",s=>{this.recentQueries.sort=s,s!==0&&this.sortResult.sort(s),e.emit("filterChanged",this.recentQueries.filters)}),e.listen("filterChanged",s=>{this.recentQueries.filters=s;let a=new Set;this.filteredResult=[...this.sortResult],s.gradeFilters.length>0&&s.gradeFilters.length<7?this.filteredResult.forEach(l=>{s.gradeFilters.includes(l.grade)&&a.add(l)}):a=new Set(this.sortResult);let c=new Set;s.sizeFilters.length>0&&s.sizeFilters.length<6?a.forEach(l=>{s.sizeFilters.forEach(h=>{l.size===h&&c.add(l)})}):c=a,s.premiumFilters.length===1&&(s.premiumFilters[0]==="Yes"?c.forEach(l=>{l.pbandai===!1&&c.delete(l)}):c.forEach(l=>{l.pbandai===!0&&c.delete(l)})),this.filteredResult=Array.from(c),this.displayedItems=[...this.filteredResult],this.updatePagedItems()})}searchTerm="";products=[];sortResult=[];filteredResult=[];displayedItems=[];pagedItems=[];loading=!0;searching=!1;page=1;prodPerPage=8;recentQueries={sort:()=>{},filters:{gradeFilters:[],sizeFilters:[],premiumFilters:[]}};ngOnInit(){this.route.queryParamMap.subscribe(e=>{this.searchTerm=e.get("searchTerm")??"",this.page=1,this.searchTerm?(this.searching=!0,this.backendService.getSearchProducts(this.searchTerm).subscribe({next:t=>{console.log(t),this.products=t.map(r=>new Fs(r.id,r.name,r.grade,r.size,r.release,r.pbandai,r.price,r.thumbnail,r.model)),this.sortResult=[...this.products],this.displayedItems=[...this.products],this.updatePagedItems()},error:t=>{console.error("Error fetching our products:",t)},complete:()=>{this.loading=!1}})):this.backendService.getAllProducts().subscribe({next:t=>{this.products=t.map(r=>new Fs(r.id,r.name,r.grade,r.size,r.release,r.pbandai,r.price,r.thumbnail,r.model)),this.sortResult=[...this.products],this.displayedItems=[...this.products],this.updatePagedItems()},error:t=>{console.error("Error fetching our products:",t)},complete:()=>{this.loading=!1}})})}get totalPages(){return Math.ceil(this.products.length/this.prodPerPage)}nextPage(){this.page<this.totalPages&&(this.page++,this.updatePagedItems())}prevPage(){this.page>1&&(this.page--,this.updatePagedItems())}updatePagedItems(){let e=(this.page-1)*this.prodPerPage,t=this.page*this.prodPerPage;this.pagedItems=this.displayedItems.slice(e,t)}resetSearch(){this.router.navigate([""])}static \u0275fac=function(t){return new(t||n)($(ht),$(Zl),$(gn),$(ot))};static \u0275cmp=se({type:n,selectors:[["shopping-page"]],standalone:!0,features:[oe],decls:3,vars:1,consts:[[1,"container-fluid","m-0"],[1,"d-flex","justify-content-center","align-items-center",2,"height","20vh"],[1,"mt-3"],[1,"row"],[1,"col-sm-3","col-md-3","col-lg-2"],[1,"col-sm-9","col-md-9","col-lg-10","mt-4"],[1,"row","search-sort","d-flex"],[1,"col-sm-9","col-md-9","col-lg-9","mt-0"],[1,"col-sm-3","col-md-3","col-lg-3","mt-0"],[1,"row","content"],[1,"col-sm-9","col-md-9","col-lg-10","mt-0"],[1,"d-flex"],[3,"displayProducts"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"btn","btn-primary",3,"click"],["aria-hidden","true"],[1,"page-link"],["aria-label","Next",1,"btn","btn-primary",3,"click"],[1,"me-2"],[1,"searchBubble"],["type","button","aria-label","Close",1,"btn-close",3,"click"]],template:function(t,r){t&1&&(D(0,"div",0),Q(1,yH,3,0,"div",1)(2,vH,26,3),C()),t&2&&(O(),W(r.loading?1:2))},dependencies:[Ug,ny,ry,ty],styles:["filter[_ngcontent-%COMP%]{position:sticky}.content[_ngcontent-%COMP%]{min-height:80vh}.searchBubble[_ngcontent-%COMP%]{display:inline-flex;align-items:center;height:auto;line-height:1;padding:.25rem .75rem;border-radius:999px;border:2px solid #2c52b3;color:#fb2f38;font-size:.75rem;margin-bottom:.5rem}.btn-close[_ngcontent-%COMP%]{font-size:.6rem;margin-left:.2rem}.btn-close[_ngcontent-%COMP%]:hover{box-shadow:0 0 6px #0006;background-color:#0000000d}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})};var fy={};yL(fy,{afterMain:()=>z1,afterRead:()=>B1,afterWrite:()=>W1,applyStyles:()=>tu,arrow:()=>sy,auto:()=>ff,basePlacements:()=>Ls,beforeMain:()=>$1,beforeRead:()=>U1,beforeWrite:()=>H1,bottom:()=>Vt,clippingParents:()=>H0,computeStyles:()=>ru,createPopper:()=>If,createPopperBase:()=>nM,createPopperLite:()=>rM,detectOverflow:()=>kn,end:()=>qo,eventListeners:()=>iu,flip:()=>ly,hide:()=>uy,left:()=>wt,main:()=>q1,modifierPhases:()=>W0,offset:()=>dy,placements:()=>mf,popper:()=>cc,popperGenerator:()=>gc,popperOffsets:()=>au,preventOverflow:()=>hy,read:()=>j1,reference:()=>G0,right:()=>Ct,start:()=>Mi,top:()=>vt,variationPlacements:()=>iy,viewport:()=>pf,write:()=>G1});var vt="top",Vt="bottom",Ct="right",wt="left",ff="auto",Ls=[vt,Vt,Ct,wt],Mi="start",qo="end",H0="clippingParents",pf="viewport",cc="popper",G0="reference",iy=Ls.reduce(function(n,e){return n.concat([e+"-"+Mi,e+"-"+qo])},[]),mf=[].concat(Ls,[ff]).reduce(function(n,e){return n.concat([e,e+"-"+Mi,e+"-"+qo])},[]),U1="beforeRead",j1="read",B1="afterRead",$1="beforeMain",q1="main",z1="afterMain",H1="beforeWrite",G1="write",W1="afterWrite",W0=[U1,j1,B1,$1,q1,z1,H1,G1,W1];function Kt(n){return n?(n.nodeName||"").toLowerCase():null}function ft(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Cr(n){var e=ft(n).Element;return n instanceof e||n instanceof Element}function zt(n){var e=ft(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function eu(n){if(typeof ShadowRoot>"u")return!1;var e=ft(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function EH(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!zt(s)||!Kt(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?s.removeAttribute(a):s.setAttribute(a,c===!0?"":c)}))})}function wH(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=a.reduce(function(l,h){return l[h]="",l},{});!zt(i)||!Kt(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var tu={name:"applyStyles",enabled:!0,phase:"write",fn:EH,effect:wH,requires:["computeStyles"]};function Qt(n){return n.split("-")[0]}var ci=Math.max,lc=Math.min,Us=Math.round;function nu(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function gf(){return!/^((?!chrome|android).)*safari/i.test(nu())}function Dr(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&zt(n)&&(i=n.offsetWidth>0&&Us(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&Us(r.height)/n.offsetHeight||1);var a=Cr(n)?ft(n):window,c=a.visualViewport,l=!gf()&&t,h=(r.left+(l&&c?c.offsetLeft:0))/i,p=(r.top+(l&&c?c.offsetTop:0))/s,g=r.width/i,I=r.height/s;return{width:g,height:I,top:p,right:h+g,bottom:p+I,left:h,x:h,y:p}}function uc(n){var e=Dr(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function yf(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&eu(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function On(n){return ft(n).getComputedStyle(n)}function K0(n){return["table","td","th"].indexOf(Kt(n))>=0}function sn(n){return((Cr(n)?n.ownerDocument:n.document)||window.document).documentElement}function js(n){return Kt(n)==="html"?n:n.assignedSlot||n.parentNode||(eu(n)?n.host:null)||sn(n)}function K1(n){return!zt(n)||On(n).position==="fixed"?null:n.offsetParent}function IH(n){var e=/firefox/i.test(nu()),t=/Trident/i.test(nu());if(t&&zt(n)){var r=On(n);if(r.position==="fixed")return null}var i=js(n);for(eu(i)&&(i=i.host);zt(i)&&["html","body"].indexOf(Kt(i))<0;){var s=On(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function li(n){for(var e=ft(n),t=K1(n);t&&K0(t)&&On(t).position==="static";)t=K1(t);return t&&(Kt(t)==="html"||Kt(t)==="body"&&On(t).position==="static")?e:t||IH(n)||e}function dc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function hc(n,e,t){return ci(n,lc(e,t))}function Q1(n,e,t){var r=hc(n,e,t);return r>t?t:r}function _f(){return{top:0,right:0,bottom:0,left:0}}function vf(n){return Object.assign({},_f(),n)}function Ef(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var bH=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,vf(typeof e!="number"?e:Ef(e,Ls))};function TH(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,c=Qt(t.placement),l=dc(c),h=[wt,Ct].indexOf(c)>=0,p=h?"height":"width";if(!(!s||!a)){var g=bH(i.padding,t),I=uc(s),T=l==="y"?vt:wt,P=l==="y"?Vt:Ct,M=t.rects.reference[p]+t.rects.reference[l]-a[l]-t.rects.popper[p],N=a[l]-t.rects.reference[l],V=li(s),L=V?l==="y"?V.clientHeight||0:V.clientWidth||0:0,F=M/2-N/2,z=g[T],J=L-I[p]-g[P],G=L/2-I[p]/2+F,E=hc(z,G,J),m=l;t.modifiersData[r]=(e={},e[m]=E,e.centerOffset=E-G,e)}}function CH(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||yf(e.elements.popper,i)&&(e.elements.arrow=i))}var sy={name:"arrow",enabled:!0,phase:"main",fn:TH,effect:CH,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Sr(n){return n.split("-")[1]}var DH={top:"auto",right:"auto",bottom:"auto",left:"auto"};function SH(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Us(t*i)/i||0,y:Us(r*i)/i||0}}function Y1(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,a=n.offsets,c=n.position,l=n.gpuAcceleration,h=n.adaptive,p=n.roundOffsets,g=n.isFixed,I=a.x,T=I===void 0?0:I,P=a.y,M=P===void 0?0:P,N=typeof p=="function"?p({x:T,y:M}):{x:T,y:M};T=N.x,M=N.y;var V=a.hasOwnProperty("x"),L=a.hasOwnProperty("y"),F=wt,z=vt,J=window;if(h){var G=li(t),E="clientHeight",m="clientWidth";if(G===ft(t)&&(G=sn(t),On(G).position!=="static"&&c==="absolute"&&(E="scrollHeight",m="scrollWidth")),G=G,i===vt||(i===wt||i===Ct)&&s===qo){z=Vt;var _=g&&G===J&&J.visualViewport?J.visualViewport.height:G[E];M-=_-r.height,M*=l?1:-1}if(i===wt||(i===vt||i===Vt)&&s===qo){F=Ct;var v=g&&G===J&&J.visualViewport?J.visualViewport.width:G[m];T-=v-r.width,T*=l?1:-1}}var w=Object.assign({position:c},h&&DH),S=p===!0?SH({x:T,y:M},ft(t)):{x:T,y:M};if(T=S.x,M=S.y,l){var y;return Object.assign({},w,(y={},y[z]=L?"0":"",y[F]=V?"0":"",y.transform=(J.devicePixelRatio||1)<=1?"translate("+T+"px, "+M+"px)":"translate3d("+T+"px, "+M+"px, 0)",y))}return Object.assign({},w,(e={},e[z]=L?M+"px":"",e[F]=V?T+"px":"",e.transform="",e))}function AH(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,a=s===void 0?!0:s,c=t.roundOffsets,l=c===void 0?!0:c,h={placement:Qt(e.placement),variation:Sr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Y1(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Y1(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ru={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:AH,data:{}};var oy={passive:!0};function xH(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,l=ft(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&h.forEach(function(p){p.addEventListener("scroll",t.update,oy)}),c&&l.addEventListener("resize",t.update,oy),function(){s&&h.forEach(function(p){p.removeEventListener("scroll",t.update,oy)}),c&&l.removeEventListener("resize",t.update,oy)}}var iu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xH,data:{}};var RH={left:"right",right:"left",bottom:"top",top:"bottom"};function su(n){return n.replace(/left|right|bottom|top/g,function(e){return RH[e]})}var PH={start:"end",end:"start"};function ay(n){return n.replace(/start|end/g,function(e){return PH[e]})}function fc(n){var e=ft(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function pc(n){return Dr(sn(n)).left+fc(n).scrollLeft}function Q0(n,e){var t=ft(n),r=sn(n),i=t.visualViewport,s=r.clientWidth,a=r.clientHeight,c=0,l=0;if(i){s=i.width,a=i.height;var h=gf();(h||!h&&e==="fixed")&&(c=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:c+pc(n),y:l}}function Y0(n){var e,t=sn(n),r=fc(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=ci(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=ci(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+pc(n),l=-r.scrollTop;return On(i||t).direction==="rtl"&&(c+=ci(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:c,y:l}}function mc(n){var e=On(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function cy(n){return["html","body","#document"].indexOf(Kt(n))>=0?n.ownerDocument.body:zt(n)&&mc(n)?n:cy(js(n))}function zo(n,e){var t;e===void 0&&(e=[]);var r=cy(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=ft(r),a=i?[s].concat(s.visualViewport||[],mc(r)?r:[]):r,c=e.concat(a);return i?c:c.concat(zo(js(a)))}function ou(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function NH(n,e){var t=Dr(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function J1(n,e,t){return e===pf?ou(Q0(n,t)):Cr(e)?NH(e,t):ou(Y0(sn(n)))}function MH(n){var e=zo(js(n)),t=["absolute","fixed"].indexOf(On(n).position)>=0,r=t&&zt(n)?li(n):n;return Cr(r)?e.filter(function(i){return Cr(i)&&yf(i,r)&&Kt(i)!=="body"}):[]}function J0(n,e,t,r){var i=e==="clippingParents"?MH(n):[].concat(e),s=[].concat(i,[t]),a=s[0],c=s.reduce(function(l,h){var p=J1(n,h,r);return l.top=ci(p.top,l.top),l.right=lc(p.right,l.right),l.bottom=lc(p.bottom,l.bottom),l.left=ci(p.left,l.left),l},J1(n,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function wf(n){var e=n.reference,t=n.element,r=n.placement,i=r?Qt(r):null,s=r?Sr(r):null,a=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,l;switch(i){case vt:l={x:a,y:e.y-t.height};break;case Vt:l={x:a,y:e.y+e.height};break;case Ct:l={x:e.x+e.width,y:c};break;case wt:l={x:e.x-t.width,y:c};break;default:l={x:e.x,y:e.y}}var h=i?dc(i):null;if(h!=null){var p=h==="y"?"height":"width";switch(s){case Mi:l[h]=l[h]-(e[p]/2-t[p]/2);break;case qo:l[h]=l[h]+(e[p]/2-t[p]/2);break;default:}}return l}function kn(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,a=s===void 0?n.strategy:s,c=t.boundary,l=c===void 0?H0:c,h=t.rootBoundary,p=h===void 0?pf:h,g=t.elementContext,I=g===void 0?cc:g,T=t.altBoundary,P=T===void 0?!1:T,M=t.padding,N=M===void 0?0:M,V=vf(typeof N!="number"?N:Ef(N,Ls)),L=I===cc?G0:cc,F=n.rects.popper,z=n.elements[P?L:I],J=J0(Cr(z)?z:z.contextElement||sn(n.elements.popper),l,p,a),G=Dr(n.elements.reference),E=wf({reference:G,element:F,strategy:"absolute",placement:i}),m=ou(Object.assign({},F,E)),_=I===cc?m:G,v={top:J.top-_.top+V.top,bottom:_.bottom-J.bottom+V.bottom,left:J.left-_.left+V.left,right:_.right-J.right+V.right},w=n.modifiersData.offset;if(I===cc&&w){var S=w[i];Object.keys(v).forEach(function(y){var nt=[Ct,Vt].indexOf(y)>=0?1:-1,Ut=[vt,Vt].indexOf(y)>=0?"y":"x";v[y]+=S[Ut]*nt})}return v}function X0(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,a=t.padding,c=t.flipVariations,l=t.allowedAutoPlacements,h=l===void 0?mf:l,p=Sr(r),g=p?c?iy:iy.filter(function(P){return Sr(P)===p}):Ls,I=g.filter(function(P){return h.indexOf(P)>=0});I.length===0&&(I=g);var T=I.reduce(function(P,M){return P[M]=kn(n,{placement:M,boundary:i,rootBoundary:s,padding:a})[Qt(M)],P},{});return Object.keys(T).sort(function(P,M){return T[P]-T[M]})}function OH(n){if(Qt(n)===ff)return[];var e=su(n);return[ay(n),e,ay(e)]}function kH(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!0:a,l=t.fallbackPlacements,h=t.padding,p=t.boundary,g=t.rootBoundary,I=t.altBoundary,T=t.flipVariations,P=T===void 0?!0:T,M=t.allowedAutoPlacements,N=e.options.placement,V=Qt(N),L=V===N,F=l||(L||!P?[su(N)]:OH(N)),z=[N].concat(F).reduce(function(pi,Dt){return pi.concat(Qt(Dt)===ff?X0(e,{placement:Dt,boundary:p,rootBoundary:g,padding:h,flipVariations:P,allowedAutoPlacements:M}):Dt)},[]),J=e.rects.reference,G=e.rects.popper,E=new Map,m=!0,_=z[0],v=0;v<z.length;v++){var w=z[v],S=Qt(w),y=Sr(w)===Mi,nt=[vt,Vt].indexOf(S)>=0,Ut=nt?"width":"height",Xt=kn(e,{placement:w,boundary:p,rootBoundary:g,altBoundary:I,padding:h}),mt=nt?y?Ct:wt:y?Vt:vt;J[Ut]>G[Ut]&&(mt=su(mt));var un=su(mt),vn=[];if(s&&vn.push(Xt[S]<=0),c&&vn.push(Xt[mt]<=0,Xt[un]<=0),vn.every(function(pi){return pi})){_=w,m=!1;break}E.set(w,vn)}if(m)for(var fi=P?3:1,ya=function(Dt){var Wi=z.find(function(dn){var Or=E.get(dn);if(Or)return Or.slice(0,Dt).every(function(_a){return _a})});if(Wi)return _=Wi,"break"},gt=fi;gt>0;gt--){var Ae=ya(gt);if(Ae==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}var ly={name:"flip",enabled:!0,phase:"main",fn:kH,requiresIfExists:["offset"],data:{_skip:!1}};function X1(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Z1(n){return[vt,Ct,Vt,wt].some(function(e){return n[e]>=0})}function VH(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=kn(e,{elementContext:"reference"}),c=kn(e,{altBoundary:!0}),l=X1(a,r),h=X1(c,i,s),p=Z1(l),g=Z1(h);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:p,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":g})}var uy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:VH};function FH(n,e,t){var r=Qt(n),i=[wt,vt].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,a=s[0],c=s[1];return a=a||0,c=(c||0)*i,[wt,Ct].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function LH(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,a=mf.reduce(function(p,g){return p[g]=FH(g,e.rects,s),p},{}),c=a[e.placement],l=c.x,h=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[r]=a}var dy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:LH};function UH(n){var e=n.state,t=n.name;e.modifiersData[t]=wf({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var au={name:"popperOffsets",enabled:!0,phase:"read",fn:UH,data:{}};function Z0(n){return n==="x"?"y":"x"}function jH(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,c=a===void 0?!1:a,l=t.boundary,h=t.rootBoundary,p=t.altBoundary,g=t.padding,I=t.tether,T=I===void 0?!0:I,P=t.tetherOffset,M=P===void 0?0:P,N=kn(e,{boundary:l,rootBoundary:h,padding:g,altBoundary:p}),V=Qt(e.placement),L=Sr(e.placement),F=!L,z=dc(V),J=Z0(z),G=e.modifiersData.popperOffsets,E=e.rects.reference,m=e.rects.popper,_=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,v=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),w=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,S={x:0,y:0};if(G){if(s){var y,nt=z==="y"?vt:wt,Ut=z==="y"?Vt:Ct,Xt=z==="y"?"height":"width",mt=G[z],un=mt+N[nt],vn=mt-N[Ut],fi=T?-m[Xt]/2:0,ya=L===Mi?E[Xt]:m[Xt],gt=L===Mi?-m[Xt]:-E[Xt],Ae=e.elements.arrow,pi=T&&Ae?uc(Ae):{width:0,height:0},Dt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:_f(),Wi=Dt[nt],dn=Dt[Ut],Or=hc(0,E[Xt],pi[Xt]),_a=F?E[Xt]/2-fi-Or-Wi-v.mainAxis:ya-Or-Wi-v.mainAxis,kr=F?-E[Xt]/2+fi+Or+dn+v.mainAxis:gt+Or+dn+v.mainAxis,Qn=e.elements.arrow&&li(e.elements.arrow),Ki=Qn?z==="y"?Qn.clientTop||0:Qn.clientLeft||0:0,mi=(y=w?.[z])!=null?y:0,Qi=mt+_a-mi-Ki,Yi=mt+kr-mi,uo=hc(T?lc(un,Qi):un,mt,T?ci(vn,Yi):vn);G[z]=uo,S[z]=uo-mt}if(c){var ho,sd=z==="x"?vt:wt,va=z==="x"?Vt:Ct,Yn=G[J],pr=J==="y"?"height":"width",fo=Yn+N[sd],Gc=Yn-N[va],Vr=[vt,wt].indexOf(V)!==-1,gi=(ho=w?.[J])!=null?ho:0,yi=Vr?fo:Yn-E[pr]-m[pr]-gi+v.altAxis,Pe=Vr?Yn+E[pr]+m[pr]-gi-v.altAxis:Gc,Fe=T&&Vr?Q1(yi,Yn,Pe):hc(T?yi:fo,Yn,T?Pe:Gc);G[J]=Fe,S[J]=Fe-Yn}e.modifiersData[r]=S}}var hy={name:"preventOverflow",enabled:!0,phase:"main",fn:jH,requiresIfExists:["offset"]};function eb(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function tb(n){return n===ft(n)||!zt(n)?fc(n):eb(n)}function BH(n){var e=n.getBoundingClientRect(),t=Us(e.width)/n.offsetWidth||1,r=Us(e.height)/n.offsetHeight||1;return t!==1||r!==1}function nb(n,e,t){t===void 0&&(t=!1);var r=zt(e),i=zt(e)&&BH(e),s=sn(e),a=Dr(n,i,t),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((Kt(e)!=="body"||mc(s))&&(c=tb(e)),zt(e)?(l=Dr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=pc(s))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function $H(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(c){if(!t.has(c)){var l=e.get(c);l&&i(l)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function rb(n){var e=$H(n);return W0.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function ib(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function sb(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var eM={placement:"bottom",modifiers:[],strategy:"absolute"};function tM(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gc(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?eM:i;return function(c,l,h){h===void 0&&(h=s);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},eM,s),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},g=[],I=!1,T={state:p,setOptions:function(V){var L=typeof V=="function"?V(p.options):V;M(),p.options=Object.assign({},s,p.options,L),p.scrollParents={reference:Cr(c)?zo(c):c.contextElement?zo(c.contextElement):[],popper:zo(l)};var F=rb(sb([].concat(r,p.options.modifiers)));return p.orderedModifiers=F.filter(function(z){return z.enabled}),P(),T.update()},forceUpdate:function(){if(!I){var V=p.elements,L=V.reference,F=V.popper;if(tM(L,F)){p.rects={reference:nb(L,li(F),p.options.strategy==="fixed"),popper:uc(F)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach(function(v){return p.modifiersData[v.name]=Object.assign({},v.data)});for(var z=0;z<p.orderedModifiers.length;z++){if(p.reset===!0){p.reset=!1,z=-1;continue}var J=p.orderedModifiers[z],G=J.fn,E=J.options,m=E===void 0?{}:E,_=J.name;typeof G=="function"&&(p=G({state:p,options:m,name:_,instance:T})||p)}}}},update:ib(function(){return new Promise(function(N){T.forceUpdate(),N(p)})}),destroy:function(){M(),I=!0}};if(!tM(c,l))return T;T.setOptions(h).then(function(N){!I&&h.onFirstUpdate&&h.onFirstUpdate(N)});function P(){p.orderedModifiers.forEach(function(N){var V=N.name,L=N.options,F=L===void 0?{}:L,z=N.effect;if(typeof z=="function"){var J=z({state:p,name:V,instance:T,options:F}),G=function(){};g.push(J||G)}})}function M(){g.forEach(function(N){return N()}),g=[]}return T}}var nM=gc();var qH=[iu,au,ru,tu],rM=gc({defaultModifiers:qH});var zH=[iu,au,ru,tu,dy,ly,hy,sy,uy],If=gc({defaultModifiers:zH});var Ho=new Map,ob={set(n,e,t){Ho.has(n)||Ho.set(n,new Map);let r=Ho.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return Ho.has(n)&&Ho.get(n).get(e)||null},remove(n,e){if(!Ho.has(n))return;let t=Ho.get(n);t.delete(e),t.size===0&&Ho.delete(n)}},HH=1e6,GH=1e3,wb="transitionend",NM=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),WH=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),KH=n=>{do n+=Math.floor(Math.random()*HH);while(document.getElementById(n));return n},QH=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n),r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*GH)},MM=n=>{n.dispatchEvent(new Event(wb))},Bs=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Go=n=>Bs(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(NM(n)):null,mu=n=>{if(!Bs(n)||n.getClientRects().length===0)return!1;let e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){let r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},Wo=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",OM=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){let e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?OM(n.parentNode):null},Iy=()=>{},Sf=n=>{n.offsetHeight},kM=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ab=[],YH=n=>{document.readyState==="loading"?(ab.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of ab)e()}),ab.push(n)):n()},Ar=()=>document.documentElement.dir==="rtl",Rr=n=>{YH(()=>{let e=kM();if(e){let t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Gn=(n,e=[],t=n)=>typeof n=="function"?n(...e):t,VM=(n,e,t=!0)=>{if(!t){Gn(n);return}let i=QH(e)+5,s=!1,a=({target:c})=>{c===e&&(s=!0,e.removeEventListener(wb,a),Gn(n))};e.addEventListener(wb,a),setTimeout(()=>{s||MM(e)},i)},Db=(n,e,t,r)=>{let i=n.length,s=n.indexOf(e);return s===-1?!t&&r?n[i-1]:n[0]:(s+=t?1:-1,r&&(s=(s+i)%i),n[Math.max(0,Math.min(s,i-1))])},JH=/[^.]*(?=\..*)\.|.*/,XH=/\..*/,ZH=/::\d+$/,cb={},iM=1,FM={mouseenter:"mouseover",mouseleave:"mouseout"},e9=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function LM(n,e){return e&&`${e}::${iM++}`||n.uidEvent||iM++}function UM(n){let e=LM(n);return n.uidEvent=e,cb[e]=cb[e]||{},cb[e]}function t9(n,e){return function t(r){return Sb(r,{delegateTarget:n}),t.oneOff&&U.off(n,r.type,e),e.apply(n,[r])}}function n9(n,e,t){return function r(i){let s=n.querySelectorAll(e);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(let c of s)if(c===a)return Sb(i,{delegateTarget:a}),r.oneOff&&U.off(n,i.type,e,t),t.apply(a,[i])}}function jM(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function BM(n,e,t){let r=typeof e=="string",i=r?t:e||t,s=$M(n);return e9.has(s)||(s=n),[r,i,s]}function sM(n,e,t,r,i){if(typeof e!="string"||!n)return;let[s,a,c]=BM(e,t,r);e in FM&&(a=(P=>function(M){if(!M.relatedTarget||M.relatedTarget!==M.delegateTarget&&!M.delegateTarget.contains(M.relatedTarget))return P.call(this,M)})(a));let l=UM(n),h=l[c]||(l[c]={}),p=jM(h,a,s?t:null);if(p){p.oneOff=p.oneOff&&i;return}let g=LM(a,e.replace(JH,"")),I=s?n9(n,t,a):t9(n,a);I.delegationSelector=s?t:null,I.callable=a,I.oneOff=i,I.uidEvent=g,h[g]=I,n.addEventListener(c,I,s)}function Ib(n,e,t,r,i){let s=jM(e[t],r,i);s&&(n.removeEventListener(t,s,!!i),delete e[t][s.uidEvent])}function r9(n,e,t,r){let i=e[t]||{};for(let[s,a]of Object.entries(i))s.includes(r)&&Ib(n,e,t,a.callable,a.delegationSelector)}function $M(n){return n=n.replace(XH,""),FM[n]||n}var U={on(n,e,t,r){sM(n,e,t,r,!1)},one(n,e,t,r){sM(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;let[i,s,a]=BM(e,t,r),c=a!==e,l=UM(n),h=l[a]||{},p=e.startsWith(".");if(typeof s<"u"){if(!Object.keys(h).length)return;Ib(n,l,a,s,i?t:null);return}if(p)for(let g of Object.keys(l))r9(n,l,g,e.slice(1));for(let[g,I]of Object.entries(h)){let T=g.replace(ZH,"");(!c||e.includes(T))&&Ib(n,l,a,I.callable,I.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;let r=kM(),i=$M(e),s=e!==i,a=null,c=!0,l=!0,h=!1;s&&r&&(a=r.Event(e,t),r(n).trigger(a),c=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());let p=Sb(new Event(e,{bubbles:c,cancelable:!0}),t);return h&&p.preventDefault(),l&&n.dispatchEvent(p),p.defaultPrevented&&a&&a.preventDefault(),p}};function Sb(n,e={}){for(let[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function oM(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function lb(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}var $s={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${lb(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${lb(e)}`)},getDataAttributes(n){if(!n)return{};let e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(let r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=oM(n.dataset[r])}return e},getDataAttribute(n,e){return oM(n.getAttribute(`data-bs-${lb(e)}`))}},vc=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let r=Bs(t)?$s.getDataAttribute(t,"config"):{};return B(B(B(B({},this.constructor.Default),typeof r=="object"?r:{}),Bs(t)?$s.getDataAttributes(t):{}),typeof e=="object"?e:{})}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[r,i]of Object.entries(t)){let s=e[r],a=Bs(s)?"element":WH(s);if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}}},i9="5.3.3",cr=class extends vc{constructor(e,t){super(),e=Go(e),e&&(this._element=e,this._config=this._getConfig(t),ob.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ob.remove(this._element,this.constructor.DATA_KEY),U.off(this._element,this.constructor.EVENT_KEY);for(let e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){VM(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return ob.get(Go(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return i9}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}},ub=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>NM(t)).join(","):null},ae={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){let t=[],r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){let e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!Wo(t)&&mu(t))},getSelectorFromElement(n){let e=ub(n);return e&&ae.findOne(e)?e:null},getElementFromSelector(n){let e=ub(n);return e?ae.findOne(e):null},getMultipleElementsFromSelector(n){let e=ub(n);return e?ae.find(e):[]}},Ny=(n,e="hide")=>{let t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;U.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Wo(this))return;let s=ae.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(s)[e]()})},s9="alert",o9="bs.alert",qM=`.${o9}`,a9=`close${qM}`,c9=`closed${qM}`,l9="fade",u9="show",by=class n extends cr{static get NAME(){return s9}close(){if(U.trigger(this._element,a9).defaultPrevented)return;this._element.classList.remove(u9);let t=this._element.classList.contains(l9);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),U.trigger(this._element,c9),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Ny(by,"close");Rr(by);var d9="button",h9="bs.button",f9=`.${h9}`,p9=".data-api",m9="active",aM='[data-bs-toggle="button"]',g9=`click${f9}${p9}`,Ty=class n extends cr{static get NAME(){return d9}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(m9))}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);e==="toggle"&&t[e]()})}};U.on(document,g9,aM,n=>{n.preventDefault();let e=n.target.closest(aM);Ty.getOrCreateInstance(e).toggle()});Rr(Ty);var y9="swipe",gu=".bs.swipe",_9=`touchstart${gu}`,v9=`touchmove${gu}`,E9=`touchend${gu}`,w9=`pointerdown${gu}`,I9=`pointerup${gu}`,b9="touch",T9="pen",C9="pointer-event",D9=40,S9={endCallback:null,leftCallback:null,rightCallback:null},A9={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},Cy=class n extends vc{constructor(e,t){super(),this._element=e,!(!e||!n.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return S9}static get DefaultType(){return A9}static get NAME(){return y9}dispose(){U.off(this._element,gu)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Gn(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=D9)return;let t=e/this._deltaX;this._deltaX=0,t&&Gn(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(U.on(this._element,w9,e=>this._start(e)),U.on(this._element,I9,e=>this._end(e)),this._element.classList.add(C9)):(U.on(this._element,_9,e=>this._start(e)),U.on(this._element,v9,e=>this._move(e)),U.on(this._element,E9,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===T9||e.pointerType===b9)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},x9="carousel",R9="bs.carousel",Yo=`.${R9}`,zM=".data-api",P9="ArrowLeft",N9="ArrowRight",M9=500,bf="next",cu="prev",uu="left",Ey="right",O9=`slide${Yo}`,db=`slid${Yo}`,k9=`keydown${Yo}`,V9=`mouseenter${Yo}`,F9=`mouseleave${Yo}`,L9=`dragstart${Yo}`,U9=`load${Yo}${zM}`,j9=`click${Yo}${zM}`,HM="carousel",py="active",B9="slide",$9="carousel-item-end",q9="carousel-item-start",z9="carousel-item-next",H9="carousel-item-prev",GM=".active",WM=".carousel-item",G9=GM+WM,W9=".carousel-item img",K9=".carousel-indicators",Q9="[data-bs-slide], [data-bs-slide-to]",Y9='[data-bs-ride="carousel"]',J9={[P9]:Ey,[N9]:uu},X9={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Z9={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},Ec=class n extends cr{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ae.findOne(K9,this._element),this._addEventListeners(),this._config.ride===HM&&this.cycle()}static get Default(){return X9}static get DefaultType(){return Z9}static get NAME(){return x9}next(){this._slide(bf)}nextWhenVisible(){!document.hidden&&mu(this._element)&&this.next()}prev(){this._slide(cu)}pause(){this._isSliding&&MM(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){U.one(this._element,db,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){U.one(this._element,db,()=>this.to(e));return}let r=this._getItemIndex(this._getActive());if(r===e)return;let i=e>r?bf:cu;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&U.on(this._element,k9,e=>this._keydown(e)),this._config.pause==="hover"&&(U.on(this._element,V9,()=>this.pause()),U.on(this._element,F9,()=>this._maybeEnableCycle())),this._config.touch&&Cy.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let r of ae.find(W9,this._element))U.on(r,L9,i=>i.preventDefault());let t={leftCallback:()=>this._slide(this._directionToOrder(uu)),rightCallback:()=>this._slide(this._directionToOrder(Ey)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),M9+this._config.interval))}};this._swipeHelper=new Cy(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=J9[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=ae.findOne(GM,this._indicatorsElement);t.classList.remove(py),t.removeAttribute("aria-current");let r=ae.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(py),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let r=this._getActive(),i=e===bf,s=t||Db(this._getItems(),r,i,this._config.wrap);if(s===r)return;let a=this._getItemIndex(s),c=T=>U.trigger(this._element,T,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(c(O9).defaultPrevented||!r||!s)return;let h=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;let p=i?q9:$9,g=i?z9:H9;s.classList.add(g),Sf(s),r.classList.add(p),s.classList.add(p);let I=()=>{s.classList.remove(p,g),s.classList.add(py),r.classList.remove(py,g,p),this._isSliding=!1,c(db)};this._queueCallback(I,r,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains(B9)}_getActive(){return ae.findOne(G9,this._element)}_getItems(){return ae.find(WM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ar()?e===uu?cu:bf:e===uu?bf:cu}_orderToDirection(e){return Ar()?e===cu?uu:Ey:e===cu?Ey:uu}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};U.on(document,j9,Q9,function(n){let e=ae.getElementFromSelector(this);if(!e||!e.classList.contains(HM))return;n.preventDefault();let t=Ec.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if($s.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});U.on(window,U9,()=>{let n=ae.find(Y9);for(let e of n)Ec.getOrCreateInstance(e)});Rr(Ec);var eG="collapse",tG="bs.collapse",Af=`.${tG}`,nG=".data-api",rG=`show${Af}`,iG=`shown${Af}`,sG=`hide${Af}`,oG=`hidden${Af}`,aG=`click${Af}${nG}`,hb="show",hu="collapse",my="collapsing",cG="collapsed",lG=`:scope .${hu} .${hu}`,uG="collapse-horizontal",dG="width",hG="height",fG=".collapse.show, .collapse.collapsing",bb='[data-bs-toggle="collapse"]',pG={parent:null,toggle:!0},mG={parent:"(null|element)",toggle:"boolean"},Dy=class n extends cr{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];let r=ae.find(bb);for(let i of r){let s=ae.getSelectorFromElement(i),a=ae.find(s).filter(c=>c===this._element);s!==null&&a.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return pG}static get DefaultType(){return mG}static get NAME(){return eG}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(fG).filter(c=>c!==this._element).map(c=>n.getOrCreateInstance(c,{toggle:!1}))),e.length&&e[0]._isTransitioning||U.trigger(this._element,rG).defaultPrevented)return;for(let c of e)c.hide();let r=this._getDimension();this._element.classList.remove(hu),this._element.classList.add(my),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(my),this._element.classList.add(hu,hb),this._element.style[r]="",U.trigger(this._element,iG)},a=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||U.trigger(this._element,sG).defaultPrevented)return;let t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Sf(this._element),this._element.classList.add(my),this._element.classList.remove(hu,hb);for(let i of this._triggerArray){let s=ae.getElementFromSelector(i);s&&!this._isShown(s)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;let r=()=>{this._isTransitioning=!1,this._element.classList.remove(my),this._element.classList.add(hu),U.trigger(this._element,oG)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(hb)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Go(e.parent),e}_getDimension(){return this._element.classList.contains(uG)?dG:hG}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(bb);for(let t of e){let r=ae.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){let t=ae.find(lG,this._config.parent);return ae.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let r of e)r.classList.toggle(cG,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let r=n.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}};U.on(document,aG,bb,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(let e of ae.getMultipleElementsFromSelector(this))Dy.getOrCreateInstance(e,{toggle:!1}).toggle()});Rr(Dy);var cM="dropdown",gG="bs.dropdown",wc=`.${gG}`,Ab=".data-api",yG="Escape",lM="Tab",_G="ArrowUp",uM="ArrowDown",vG=2,EG=`hide${wc}`,wG=`hidden${wc}`,IG=`show${wc}`,bG=`shown${wc}`,KM=`click${wc}${Ab}`,QM=`keydown${wc}${Ab}`,TG=`keyup${wc}${Ab}`,du="show",CG="dropup",DG="dropend",SG="dropstart",AG="dropup-center",xG="dropdown-center",yc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',RG=`${yc}.${du}`,wy=".dropdown-menu",PG=".navbar",NG=".navbar-nav",MG=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",OG=Ar()?"top-end":"top-start",kG=Ar()?"top-start":"top-end",VG=Ar()?"bottom-end":"bottom-start",FG=Ar()?"bottom-start":"bottom-end",LG=Ar()?"left-start":"right-start",UG=Ar()?"right-start":"left-start",jG="top",BG="bottom",$G={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},qG={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},Ko=class n extends cr{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=ae.next(this._element,wy)[0]||ae.prev(this._element,wy)[0]||ae.findOne(wy,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $G}static get DefaultType(){return qG}static get NAME(){return cM}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Wo(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!U.trigger(this._element,IG,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(NG))for(let r of[].concat(...document.body.children))U.on(r,"mouseover",Iy);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(du),this._element.classList.add(du),U.trigger(this._element,bG,e)}}hide(){if(Wo(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!U.trigger(this._element,EG,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let r of[].concat(...document.body.children))U.off(r,"mouseover",Iy);this._popper&&this._popper.destroy(),this._menu.classList.remove(du),this._element.classList.remove(du),this._element.setAttribute("aria-expanded","false"),$s.removeDataAttribute(this._menu,"popper"),U.trigger(this._element,wG,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Bs(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${cM.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof fy>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:Bs(this._config.reference)?e=Go(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=If(e,this._menu,t)}_isShown(){return this._menu.classList.contains(du)}_getPlacement(){let e=this._parent;if(e.classList.contains(DG))return LG;if(e.classList.contains(SG))return UG;if(e.classList.contains(AG))return jG;if(e.classList.contains(xG))return BG;let t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(CG)?t?kG:OG:t?FG:VG}_detectNavbar(){return this._element.closest(PG)!==null}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&($s.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),B(B({},e),Gn(this._config.popperConfig,[e]))}_selectMenuItem({key:e,target:t}){let r=ae.find(MG,this._menu).filter(i=>mu(i));r.length&&Db(r,t,e===uM,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===vG||e.type==="keyup"&&e.key!==lM)return;let t=ae.find(RG);for(let r of t){let i=n.getInstance(r);if(!i||i._config.autoClose===!1)continue;let s=e.composedPath(),a=s.includes(i._menu);if(s.includes(i._element)||i._config.autoClose==="inside"&&!a||i._config.autoClose==="outside"&&a||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===lM||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let c={relatedTarget:i._element};e.type==="click"&&(c.clickEvent=e),i._completeHide(c)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),r=e.key===yG,i=[_G,uM].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();let s=this.matches(yc)?this:ae.prev(this,yc)[0]||ae.next(this,yc)[0]||ae.findOne(yc,e.delegateTarget.parentNode),a=n.getOrCreateInstance(s);if(i){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}};U.on(document,QM,yc,Ko.dataApiKeydownHandler);U.on(document,QM,wy,Ko.dataApiKeydownHandler);U.on(document,KM,Ko.clearMenus);U.on(document,TG,Ko.clearMenus);U.on(document,KM,yc,function(n){n.preventDefault(),Ko.getOrCreateInstance(this).toggle()});Rr(Ko);var YM="backdrop",zG="fade",dM="show",hM=`mousedown.bs.${YM}`,HG={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},GG={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},Sy=class extends vc{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return HG}static get DefaultType(){return GG}static get NAME(){return YM}show(e){if(!this._config.isVisible){Gn(e);return}this._append();let t=this._getElement();this._config.isAnimated&&Sf(t),t.classList.add(dM),this._emulateAnimation(()=>{Gn(e)})}hide(e){if(!this._config.isVisible){Gn(e);return}this._getElement().classList.remove(dM),this._emulateAnimation(()=>{this.dispose(),Gn(e)})}dispose(){this._isAppended&&(U.off(this._element,hM),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(zG),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Go(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),U.on(e,hM,()=>{Gn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){VM(e,this._getElement(),this._config.isAnimated)}},WG="focustrap",KG="bs.focustrap",Ay=`.${KG}`,QG=`focusin${Ay}`,YG=`keydown.tab${Ay}`,JG="Tab",XG="forward",fM="backward",ZG={autofocus:!0,trapElement:null},e5={autofocus:"boolean",trapElement:"element"},xy=class extends vc{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ZG}static get DefaultType(){return e5}static get NAME(){return WG}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),U.off(document,Ay),U.on(document,QG,e=>this._handleFocusin(e)),U.on(document,YG,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,U.off(document,Ay))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let r=ae.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===fM?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===JG&&(this._lastTabNavDirection=e.shiftKey?fM:XG)}},pM=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mM=".sticky-top",gy="padding-right",gM="margin-right",Cf=class{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,gy,t=>t+e),this._setElementAttributes(pM,gy,t=>t+e),this._setElementAttributes(mM,gM,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,gy),this._resetElementAttributes(pM,gy),this._resetElementAttributes(mM,gM)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){let i=this.getWidth(),s=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+i)return;this._saveInitialAttribute(a,t);let c=window.getComputedStyle(a).getPropertyValue(t);a.style.setProperty(t,`${r(Number.parseFloat(c))}px`)};this._applyManipulationCallback(e,s)}_saveInitialAttribute(e,t){let r=e.style.getPropertyValue(t);r&&$s.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){let r=i=>{let s=$s.getDataAttribute(i,t);if(s===null){i.style.removeProperty(t);return}$s.removeDataAttribute(i,t),i.style.setProperty(t,s)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Bs(e)){t(e);return}for(let r of ae.find(e,this._element))t(r)}},t5="modal",n5="bs.modal",xr=`.${n5}`,r5=".data-api",i5="Escape",s5=`hide${xr}`,o5=`hidePrevented${xr}`,JM=`hidden${xr}`,XM=`show${xr}`,a5=`shown${xr}`,c5=`resize${xr}`,l5=`click.dismiss${xr}`,u5=`mousedown.dismiss${xr}`,d5=`keydown.dismiss${xr}`,h5=`click${xr}${r5}`,yM="modal-open",f5="fade",_M="show",fb="modal-static",p5=".modal.show",m5=".modal-dialog",g5=".modal-body",y5='[data-bs-toggle="modal"]',_5={backdrop:!0,focus:!0,keyboard:!0},v5={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},fu=class n extends cr{constructor(e,t){super(e,t),this._dialog=ae.findOne(m5,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Cf,this._addEventListeners()}static get Default(){return _5}static get DefaultType(){return v5}static get NAME(){return t5}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||U.trigger(this._element,XM,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(yM),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||U.trigger(this._element,s5).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(_M),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){U.off(window,xr),U.off(this._dialog,xr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Sy({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new xy({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=ae.findOne(g5,this._dialog);t&&(t.scrollTop=0),Sf(this._element),this._element.classList.add(_M);let r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,U.trigger(this._element,a5,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){U.on(this._element,d5,e=>{if(e.key===i5){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),U.on(window,c5,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),U.on(this._element,u5,e=>{U.one(this._element,l5,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(yM),this._resetAdjustments(),this._scrollBar.reset(),U.trigger(this._element,JM)})}_isAnimated(){return this._element.classList.contains(f5)}_triggerBackdropTransition(){if(U.trigger(this._element,o5).defaultPrevented)return;let t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(fb)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(fb),this._queueCallback(()=>{this._element.classList.remove(fb),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){let i=Ar()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){let i=Ar()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let r=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}};U.on(document,h5,y5,function(n){let e=ae.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),U.one(e,XM,i=>{i.defaultPrevented||U.one(e,JM,()=>{mu(this)&&this.focus()})});let t=ae.findOne(p5);t&&fu.getInstance(t).hide(),fu.getOrCreateInstance(e).toggle(this)});Ny(fu);Rr(fu);var E5="offcanvas",w5="bs.offcanvas",qs=`.${w5}`,ZM=".data-api",I5=`load${qs}${ZM}`,b5="Escape",vM="show",EM="showing",wM="hiding",T5="offcanvas-backdrop",eO=".offcanvas.show",C5=`show${qs}`,D5=`shown${qs}`,S5=`hide${qs}`,IM=`hidePrevented${qs}`,tO=`hidden${qs}`,A5=`resize${qs}`,x5=`click${qs}${ZM}`,R5=`keydown.dismiss${qs}`,P5='[data-bs-toggle="offcanvas"]',N5={backdrop:!0,keyboard:!0,scroll:!1},M5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},Qo=class n extends cr{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return N5}static get DefaultType(){return M5}static get NAME(){return E5}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||U.trigger(this._element,C5,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Cf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(EM);let r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(vM),this._element.classList.remove(EM),U.trigger(this._element,D5,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||U.trigger(this._element,S5).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(wM),this._backdrop.hide();let t=()=>{this._element.classList.remove(vM,wM),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Cf().reset(),U.trigger(this._element,tO)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=()=>{if(this._config.backdrop==="static"){U.trigger(this._element,IM);return}this.hide()},t=!!this._config.backdrop;return new Sy({className:T5,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new xy({trapElement:this._element})}_addEventListeners(){U.on(this._element,R5,e=>{if(e.key===b5){if(this._config.keyboard){this.hide();return}U.trigger(this._element,IM)}})}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};U.on(document,x5,P5,function(n){let e=ae.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Wo(this))return;U.one(e,tO,()=>{mu(this)&&this.focus()});let t=ae.findOne(eO);t&&t!==e&&Qo.getInstance(t).hide(),Qo.getOrCreateInstance(e).toggle(this)});U.on(window,I5,()=>{for(let n of ae.find(eO))Qo.getOrCreateInstance(n).show()});U.on(window,A5,()=>{for(let n of ae.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Qo.getOrCreateInstance(n).hide()});Ny(Qo);Rr(Qo);var O5=/^aria-[\w-]*$/i,nO={"*":["class","dir","id","lang","role",O5],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},k5=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),V5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,F5=(n,e)=>{let t=n.nodeName.toLowerCase();return e.includes(t)?k5.has(t)?!!V5.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function L5(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);let i=new window.DOMParser().parseFromString(n,"text/html"),s=[].concat(...i.body.querySelectorAll("*"));for(let a of s){let c=a.nodeName.toLowerCase();if(!Object.keys(e).includes(c)){a.remove();continue}let l=[].concat(...a.attributes),h=[].concat(e["*"]||[],e[c]||[]);for(let p of l)F5(p,h)||a.removeAttribute(p.nodeName)}return i.body.innerHTML}var U5="TemplateFactory",j5={allowList:nO,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},B5={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},$5={entry:"(string|element|function|null)",selector:"(string|element)"},Tb=class extends vc{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return j5}static get DefaultType(){return B5}static get NAME(){return U5}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=B(B({},this._config.content),e),this}toHtml(){let e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(let[i,s]of Object.entries(this._config.content))this._setContent(e,s,i);let t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},$5)}_setContent(e,t,r){let i=ae.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Bs(t)){this._putElementInTemplate(Go(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?L5(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Gn(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}},q5="tooltip",z5=new Set(["sanitize","allowList","sanitizeFn"]),pb="fade",H5="modal",yy="show",G5=".tooltip-inner",bM=`.${H5}`,TM="hide.bs.modal",Tf="hover",mb="focus",W5="click",K5="manual",Q5="hide",Y5="hidden",J5="show",X5="shown",Z5="inserted",e6="click",t6="focusin",n6="focusout",r6="mouseenter",i6="mouseleave",s6={AUTO:"auto",TOP:"top",RIGHT:Ar()?"left":"right",BOTTOM:"bottom",LEFT:Ar()?"right":"left"},o6={allowList:nO,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},a6={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},pu=class n extends cr{constructor(e,t){if(typeof fy>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return o6}static get DefaultType(){return a6}static get NAME(){return q5}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),U.off(this._element.closest(bM),TM,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=U.trigger(this._element,this.constructor.eventName(J5)),r=(OM(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();let i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));let{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),U.trigger(this._element,this.constructor.eventName(Z5))),this._popper=this._createPopper(i),i.classList.add(yy),"ontouchstart"in document.documentElement)for(let c of[].concat(...document.body.children))U.on(c,"mouseover",Iy);let a=()=>{U.trigger(this._element,this.constructor.eventName(X5)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||U.trigger(this._element,this.constructor.eventName(Q5)).defaultPrevented)return;if(this._getTipElement().classList.remove(yy),"ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))U.off(i,"mouseover",Iy);this._activeTrigger[W5]=!1,this._activeTrigger[mb]=!1,this._activeTrigger[Tf]=!1,this._isHovered=null;let r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),U.trigger(this._element,this.constructor.eventName(Y5)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(pb,yy),t.classList.add(`bs-${this.constructor.NAME}-auto`);let r=KH(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(pb),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Tb(Ie(B({},this._config),{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[G5]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(pb)}_isShown(){return this.tip&&this.tip.classList.contains(yy)}_createPopper(e){let t=Gn(this._config.placement,[this,e,this._element]),r=s6[t.toUpperCase()];return If(this._element,e,this._getPopperConfig(r))}_getOffset(){let{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Gn(e,[this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return B(B({},t),Gn(this._config.popperConfig,[t]))}_setListeners(){let e=this._config.trigger.split(" ");for(let t of e)if(t==="click")U.on(this._element,this.constructor.eventName(e6),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(t!==K5){let r=t===Tf?this.constructor.eventName(r6):this.constructor.eventName(t6),i=t===Tf?this.constructor.eventName(i6):this.constructor.eventName(n6);U.on(this._element,r,this._config.selector,s=>{let a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusin"?mb:Tf]=!0,a._enter()}),U.on(this._element,i,this._config.selector,s=>{let a=this._initializeOnDelegatedTarget(s);a._activeTrigger[s.type==="focusout"?mb:Tf]=a._element.contains(s.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},U.on(this._element.closest(bM),TM,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=$s.getDataAttributes(this._element);for(let r of Object.keys(t))z5.has(r)&&delete t[r];return e=B(B({},t),typeof e=="object"&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Go(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Rr(pu);var c6="popover",l6=".popover-header",u6=".popover-body",d6=Ie(B({},pu.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),h6=Ie(B({},pu.DefaultType),{content:"(null|string|element|function)"}),Cb=class n extends pu{static get Default(){return d6}static get DefaultType(){return h6}static get NAME(){return c6}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[l6]:this._getTitle(),[u6]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};Rr(Cb);var f6="scrollspy",p6="bs.scrollspy",xb=`.${p6}`,m6=".data-api",g6=`activate${xb}`,CM=`click${xb}`,y6=`load${xb}${m6}`,_6="dropdown-item",lu="active",v6='[data-bs-spy="scroll"]',gb="[href]",E6=".nav, .list-group",DM=".nav-link",w6=".nav-item",I6=".list-group-item",b6=`${DM}, ${w6} > ${DM}, ${I6}`,T6=".dropdown",C6=".dropdown-toggle",D6={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},S6={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},Ry=class n extends cr{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return D6}static get DefaultType(){return S6}static get NAME(){return f6}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Go(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(U.off(this._config.target,CM),U.on(this._config.target,CM,gb,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){let t=a=>this._targetLinks.get(`#${a.target.id}`),r=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(t(a))},i=(this._rootElement||document.documentElement).scrollTop,s=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(let a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}let c=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&c){if(r(a),!i)return;continue}!s&&!c&&r(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=ae.find(gb,this._config.target);for(let t of e){if(!t.hash||Wo(t))continue;let r=ae.findOne(decodeURI(t.hash),this._element);mu(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(lu),this._activateParents(e),U.trigger(this._element,g6,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(_6)){ae.findOne(C6,e.closest(T6)).classList.add(lu);return}for(let t of ae.parents(e,E6))for(let r of ae.prev(t,b6))r.classList.add(lu)}_clearActiveClass(e){e.classList.remove(lu);let t=ae.find(`${gb}.${lu}`,e);for(let r of t)r.classList.remove(lu)}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};U.on(window,y6,()=>{for(let n of ae.find(v6))Ry.getOrCreateInstance(n)});Rr(Ry);var A6="tab",x6="bs.tab",Ic=`.${x6}`,R6=`hide${Ic}`,P6=`hidden${Ic}`,N6=`show${Ic}`,M6=`shown${Ic}`,O6=`click${Ic}`,k6=`keydown${Ic}`,V6=`load${Ic}`,F6="ArrowLeft",SM="ArrowRight",L6="ArrowUp",AM="ArrowDown",yb="Home",xM="End",_c="active",RM="fade",_b="show",U6="dropdown",rO=".dropdown-toggle",j6=".dropdown-menu",vb=`:not(${rO})`,B6='.list-group, .nav, [role="tablist"]',$6=".nav-item, .list-group-item",q6=`.nav-link${vb}, .list-group-item${vb}, [role="tab"]${vb}`,iO='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Eb=`${q6}, ${iO}`,z6=`.${_c}[data-bs-toggle="tab"], .${_c}[data-bs-toggle="pill"], .${_c}[data-bs-toggle="list"]`,Df=class n extends cr{constructor(e){super(e),this._parent=this._element.closest(B6),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),U.on(this._element,k6,t=>this._keydown(t)))}static get NAME(){return A6}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),r=t?U.trigger(t,R6,{relatedTarget:e}):null;U.trigger(e,N6,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(_c),this._activate(ae.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(_b);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),U.trigger(e,M6,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(RM))}_deactivate(e,t){if(!e)return;e.classList.remove(_c),e.blur(),this._deactivate(ae.getElementFromSelector(e));let r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(_b);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),U.trigger(e,P6,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(RM))}_keydown(e){if(![F6,SM,L6,AM,yb,xM].includes(e.key))return;e.stopPropagation(),e.preventDefault();let t=this._getChildren().filter(i=>!Wo(i)),r;if([yb,xM].includes(e.key))r=t[e.key===yb?0:t.length-1];else{let i=[SM,AM].includes(e.key);r=Db(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),n.getOrCreateInstance(r).show())}_getChildren(){return ae.find(Eb,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(let r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=ae.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let r=this._getOuterElement(e);if(!r.classList.contains(U6))return;let i=(s,a)=>{let c=ae.findOne(s,r);c&&c.classList.toggle(a,t)};i(rO,_c),i(j6,_b),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(_c)}_getInnerElement(e){return e.matches(Eb)?e:ae.findOne(Eb,e)}_getOuterElement(e){return e.closest($6)||e}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}};U.on(document,O6,iO,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!Wo(this)&&Df.getOrCreateInstance(this).show()});U.on(window,V6,()=>{for(let n of ae.find(z6))Df.getOrCreateInstance(n)});Rr(Df);var H6="toast",G6="bs.toast",Jo=`.${G6}`,W6=`mouseover${Jo}`,K6=`mouseout${Jo}`,Q6=`focusin${Jo}`,Y6=`focusout${Jo}`,J6=`hide${Jo}`,X6=`hidden${Jo}`,Z6=`show${Jo}`,eW=`shown${Jo}`,tW="fade",PM="hide",_y="show",vy="showing",nW={animation:"boolean",autohide:"boolean",delay:"number"},rW={animation:!0,autohide:!0,delay:5e3},Py=class n extends cr{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return rW}static get DefaultType(){return nW}static get NAME(){return H6}show(){if(U.trigger(this._element,Z6).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(tW);let t=()=>{this._element.classList.remove(vy),U.trigger(this._element,eW),this._maybeScheduleHide()};this._element.classList.remove(PM),Sf(this._element),this._element.classList.add(_y,vy),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||U.trigger(this._element,J6).defaultPrevented)return;let t=()=>{this._element.classList.add(PM),this._element.classList.remove(vy,_y),U.trigger(this._element,X6)};this._element.classList.add(vy),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(_y),super.dispose()}isShown(){return this._element.classList.contains(_y)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){U.on(this._element,W6,e=>this._onInteraction(e,!0)),U.on(this._element,K6,e=>this._onInteraction(e,!1)),U.on(this._element,Q6,e=>this._onInteraction(e,!0)),U.on(this._element,Y6,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=n.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}};Ny(Py);Rr(Py);function sW(n,e){if(n&1&&Ee(0,"li",2),n&2){let t=e.$index;ve("ngClass",t===0?"active":""),Rl("data-bs-slide-to",t)}}function oW(n,e){if(n&1&&(D(0,"div",9),Ee(1,"img",10),C()),n&2){let t=e.$implicit,r=e.$index;Pl("active",r===0),O(),ve("src",t,Th)}}var My=class n{modelImgs=[];ngAfterViewInit(){let e=document.querySelector("#itemModelCarousel");if(e){let r=new Ec(e)}document.querySelectorAll(".carousel-control-prev, .carousel-control-next").forEach(r=>{r.addEventListener("click",i=>{i.preventDefault()})})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["model-carousel"]],inputs:{modelImgs:"modelImgs"},standalone:!0,features:[oe],decls:11,vars:0,consts:[["id","itemModelCarousel","data-ride","carousel",1,"carousel","slide","m-4"],[1,"carousel-indicators"],["data-bs-target","#itemModelCarousel",3,"ngClass"],[1,"carousel-inner"],[1,"carousel-item",3,"active"],["type","button","data-bs-target","#itemModelCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],["type","button","data-bs-target","#itemModelCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"carousel-item"],["alt","Carousel image",1,"d-block","w-100",3,"src"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"ol",1),Pn(2,sW,1,2,"li",2,Rn),C(),D(4,"div",3),Pn(5,oW,2,3,"div",4,Rn),C(),D(7,"button",5),Ee(8,"span",6),C(),D(9,"button",7),Ee(10,"span",8),C()()),t&2&&(O(2),Nn(r.modelImgs),O(3),Nn(r.modelImgs))},dependencies:[sr,ug],styles:["li[_ngcontent-%COMP%]{list-style-type:none}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fb2f38}.carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#2c52b3}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.carousel[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%]{margin-left:.5rem}.carousel[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{margin-right:.5rem}.carousel-item[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:100%;overflow:hidden}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:contain}"]})};var Oy=class n{item;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["detail-info"]],inputs:{item:"item"},standalone:!0,features:[oe],decls:40,vars:9,consts:[[1,"card","mt-5","mb-2"],[1,"item-body","m-2"],[1,"item-title","text-decoration-underline"],[1,"row","my-2"],[1,"col-sm-4","col-md-4","col-lg-4"],[1,"item-subtitle","mb-2","text-muted"],[1,"col-sm-8","col-md-8","col-lg-8"],[1,"item-subtitle","mb-2"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"h1",2),x(3),C(),D(4,"div",3)(5,"div",4)(6,"h3",5),x(7,"Grade:"),C()(),D(8,"div",6)(9,"h3",7),x(10),C()()(),D(11,"div",3)(12,"div",4)(13,"h3",5),x(14,"Size:"),C()(),D(15,"div",6)(16,"h3",7),x(17),C()()(),D(18,"div",3)(19,"div",4)(20,"h3",5),x(21,"Price:"),C()(),D(22,"div",6)(23,"h3",7),x(24),C()()(),D(25,"div",3)(26,"div",4)(27,"h3",5),x(28,"P-Bandai:"),C()(),D(29,"div",6)(30,"h3",7),x(31),C()()(),D(32,"div",3)(33,"div",4)(34,"h3",5),x(35,"Release Date:"),C()(),D(36,"div",6)(37,"h3",7),x(38),pn(39,"date"),C()()()()()),t&2&&(O(3),He(r.item.name),O(7),He(r.item.grade),O(7),He(r.item.size),O(7),rn("$",r.item.price,""),O(7),He(r.item.pbandai),O(7),rn(" ",Ro(39,6,r.item.release,"yyyy-mm-dd")," "))},dependencies:[sr,No]})};var ky=class n{amount=new dt;count=1;decrement(){this.count>1&&(this.count=this.count-1)}increment(){this.count<3&&(this.count=this.count+1)}indicateAmount(){this.amount.emit(this.count)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["add-to-cart"]],outputs:{amount:"amount"},standalone:!0,features:[oe],decls:15,vars:1,consts:[[1,"d-flex"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"btn","btn-primary",3,"click"],["aria-hidden","true"],[1,"page-link"],["aria-label","Next",1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"ul",1)(2,"li",2)(3,"button",3),le("click",function(){return r.decrement()}),D(4,"span",4),x(5,"\xAB"),C()()(),D(6,"li",2)(7,"span",5),x(8),C()(),D(9,"li",2)(10,"button",6),le("click",function(){return r.increment()}),D(11,"span",4),x(12,"\xBB"),C()()()(),D(13,"button",7),le("click",function(){return r.indicateAmount()}),x(14," Add to Cart "),C()()),t&2&&(O(8),He(r.count))},dependencies:[Tr],styles:[".pagination[_ngcontent-%COMP%]{min-height:100%;margin-bottom:0;margin-right:1rem}.btn[_ngcontent-%COMP%]{min-width:30%}"]})};function aW(n,e){n&1&&(D(0,"div",2)(1,"h4",3),x(2,"Loading..."),C()())}function cW(n,e){if(n&1){let t=qt();D(0,"div",5),Ee(1,"model-carousel",6),C(),D(2,"div",7),Ee(3,"detail-info",8),D(4,"h4",9),x(5,"*Up to 3 per customer*"),C(),D(6,"add-to-cart",10),le("amount",function(i){Mt(t);let s=ne(2);return Ot(s.addToCart(i))}),C()()}if(n&2){let t=ne(2);O(),ve("modelImgs",t.item.model),O(2),ve("item",t.item)}}function lW(n,e){n&1&&(D(0,"h1",4),x(1,"There was an error fetching the item information."),C())}function uW(n,e){if(n&1&&Q(0,cW,7,2)(1,lW,2,0,"h1",4),n&2){let t=ne();W(t.item?0:1)}}var Vy=class n{constructor(e,t,r){this.eventService=e;this.route=t;this.backendService=r}loading=!0;productId;item;addToCart(e){this.eventService.emit("addToCart",{item:this.item,amount:e})}ngOnInit(){return R(this,null,function*(){this.route.paramMap.subscribe(e=>{this.productId=e.get("productID")}),this.productId?(this.loading=!0,this.backendService.getProduct(parseInt(this.productId)).subscribe({next:e=>{e?this.item=e:console.error("Item does not exist."),this.loading=!1},error:e=>{console.error("Error fetching product:",e),this.loading=!1}})):(console.error("ProductID not found"),this.loading=!1)})}static \u0275fac=function(t){return new(t||n)($(ht),$(gn),$(Zl))};static \u0275cmp=se({type:n,selectors:[["details-page"]],standalone:!0,features:[oe],decls:4,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"d-flex","justify-content-center","align-items-center",2,"height","20vh"],[1,"mt-3"],[1,"col-sm-12","col-md-12","col-lg-12"],[1,"col-sm-4","col-md-4","col-lg-5"],[3,"modelImgs"],[1,"d-flex","flex-column","col-sm-8","col-md-8","col-lg-7"],[3,"item"],[1,"text-danger","italic","mb-4"],[3,"amount"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1),Q(2,aW,3,0,"div",2)(3,uW,2,1),C()()),t&2&&(O(2),W(r.loading?2:3))},dependencies:[My,Oy,ky],styles:[".italic[_ngcontent-%COMP%]{font-style:italic}"]})};var yu=class{constructor(e="",t="",r="",i="",s="",a="",c="",l="",h="",p=""){this._fname=e;this._lname=t;this._email=r;this._card=i;this._expirationMonth=s;this._expirationYear=a;this._cvc=c;this._address=l;this._city=h;this._zipcode=p}get fname(){return this._fname}set fname(e){this._fname=e}get lname(){return this._lname}set lname(e){this._lname=e}get email(){return this._email}set email(e){this._email=e}get card(){return this._card}set card(e){this._card=e}get expirationMonth(){return this._expirationMonth}set expirationMonth(e){this._expirationMonth=e}get expirationYear(){return this._expirationYear}set expirationYear(e){this._expirationYear=e}get cvc(){return this._cvc}set cvc(e){this._cvc=e}get address(){return this._address}set address(e){this._address=e}get city(){return this._city}set city(e){this._city=e}get zipcode(){return this._zipcode}set zipcode(e){this._zipcode=e}};function sO(n){let e=n.value;return!isNaN(Number(e))&&(e.length>=8||e.length===0)?null:{invalidPhoneNumber:!0}}function oO(n){let e=n.value;return e.length===16||e.length===0?null:{invalidCardNumber:!0}}function aO(n){let e=n.value;return(e.length===4||e.length===0)&&!isNaN(Number(e))?null:{invalidExpirationYear:!0}}function cO(n){let e=n.value;return(e.length===3||e.length===0)&&!isNaN(Number(e))?null:{invalidCVC:!0}}function Fy(n){let e=n.value;return isNaN(Number(e))?{invalidZipCode:!0}:null}function _u(n){let e=n.value;return/[!@#$%^&*()\-+={}[\]:;"'<>,.?\/|\\]/.test(e)?{invalidAddress:!0}:null}function lO(n){let e=n.value;return e.length>=8||e.length===0?null:{invalidPassword:!0}}function dW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function hW(n,e){if(n&1&&Q(0,dW,2,0,"small",31),n&2){let t,r=ne();W((t=r.paymentForm.get("firstName"))!=null&&t.hasError("required")?0:-1)}}function fW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function pW(n,e){if(n&1&&Q(0,fW,2,0,"small",31),n&2){let t,r=ne();W((t=r.paymentForm.get("lastName"))!=null&&t.hasError("required")?0:-1)}}function mW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function gW(n,e){n&1&&(D(0,"small",31),x(1,"Please enter a valid email address"),C())}function yW(n,e){if(n&1&&Q(0,mW,2,0,"small",31)(1,gW,2,0,"small",31),n&2){let t,r,i=ne();W((t=i.paymentForm.get("email"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.paymentForm.get("email"))!=null&&r.hasError("email")?1:-1)}}function _W(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function vW(n,e){n&1&&(D(0,"small",31),x(1,"Please enter a valid Card Number"),C())}function EW(n,e){if(n&1&&Q(0,_W,2,0,"small",31)(1,vW,2,0,"small",31),n&2){let t,r,i=ne();W((t=i.paymentForm.get("cardNumber"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.paymentForm.get("cardNumber"))!=null&&r.hasError("invalidCardNumber")?1:-1)}}function wW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function IW(n,e){if(n&1&&Q(0,wW,2,0,"small",31),n&2){let t,r=ne();W((t=r.paymentForm.get("expirationMonth"))!=null&&t.hasError("required")?0:-1)}}function bW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function TW(n,e){n&1&&(D(0,"small",31),x(1,"Please enter a valid expiration year"),C())}function CW(n,e){if(n&1&&Q(0,bW,2,0,"small",31)(1,TW,2,0,"small",31),n&2){let t,r,i=ne();W((t=i.paymentForm.get("expirationYear"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.paymentForm.get("expirationYear"))!=null&&r.hasError("invalidExpirationYear")?1:-1)}}function DW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function SW(n,e){n&1&&(D(0,"small",31),x(1,"Please enter a valid CVC number"),C())}function AW(n,e){if(n&1&&Q(0,DW,2,0,"small",31)(1,SW,2,0,"small",31),n&2){let t,r,i=ne();W((t=i.paymentForm.get("cvc"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.paymentForm.get("cvc"))!=null&&r.hasError("invalidCVC")?1:-1)}}function xW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function RW(n,e){n&1&&(D(0,"small",31),x(1,"Please enter a valid address"),C())}function PW(n,e){if(n&1&&Q(0,xW,2,0,"small",31)(1,RW,2,0,"small",31),n&2){let t,r,i=ne();W((t=i.paymentForm.get("billingAddress"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.paymentForm.get("billingAddress"))!=null&&r.hasError("invalidAddress")?1:-1)}}function NW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function MW(n,e){n&1&&(D(0,"small",31),x(1,"Please enter a valid city"),C())}function OW(n,e){if(n&1&&Q(0,NW,2,0,"small",31)(1,MW,2,0,"small",31),n&2){let t,r,i=ne();W((t=i.paymentForm.get("city"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.paymentForm.get("city"))!=null&&r.hasError("invalidAddress")?1:-1)}}function kW(n,e){n&1&&(D(0,"small",31),x(1,"This field is required"),C())}function VW(n,e){n&1&&(D(0,"small",31),x(1,"Please enter a valid zipcode"),C())}function FW(n,e){if(n&1&&Q(0,kW,2,0,"small",31)(1,VW,2,0,"small",31),n&2){let t,r,i=ne();W((t=i.paymentForm.get("zipcode"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.paymentForm.get("zipcode"))!=null&&r.hasError("invalidZipCode")?1:-1)}}var Ly=class n{constructor(e,t){this.router=e;this.eventService=t}billingInfo=new yu;paymentForm=new oi({firstName:new ct("",et.required),lastName:new ct("",et.required),email:new ct("",[et.required,et.email]),cardNumber:new ct("",[et.required,oO]),expirationMonth:new ct("",et.required),expirationYear:new ct("",[et.required,aO]),cvc:new ct("",[et.required,cO]),billingAddress:new ct("",[et.required,_u]),city:new ct("",[et.required,_u]),zipcode:new ct("",[et.required,Fy])});submitForm(){let e=new Date;if(Number(this.billingInfo.expirationMonth)<=e.getMonth()&&Number(this.billingInfo.expirationYear)<=e.getFullYear()||Number(this.billingInfo.expirationYear)<e.getFullYear()){alert("Invalid expiration info");return}this.eventService.emit("checkoutInfo",this.billingInfo),this.router.navigate(["delivery"])}static \u0275fac=function(t){return new(t||n)($(ot),$(ht))};static \u0275cmp=se({type:n,selectors:[["checkout-page"]],standalone:!0,features:[oe],decls:86,vars:22,consts:[[1,"container","pt-3",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","mb-2"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","lastName",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-2"],["type","email","formControlName","email",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","cardNumber",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-4","col-md-4","col-lg-4","mb-2"],["formControlName","expirationMonth",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","01"],["value","02"],["value","03"],["value","04"],["value","05"],["value","06"],["value","07"],["value","08"],["value","09"],["value","10"],["value","11"],["value","12"],["type","text","formControlName","expirationYear",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","cvc",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","billingAddress",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","city",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","zipcode",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(t&1&&(D(0,"form",0),le("ngSubmit",function(s){return s.preventDefault(),r.submitForm()}),D(1,"h2",1),x(2,"Payment Info"),C(),D(3,"div",2)(4,"div",3)(5,"label",4),x(6,"First Name"),C(),D(7,"input",5),Ze("ngModelChange",function(s){return tt(r.billingInfo.fname,s)||(r.billingInfo.fname=s),s}),C(),Q(8,hW,1,1),C(),D(9,"div",3)(10,"label",4),x(11,"Last Name"),C(),D(12,"input",6),Ze("ngModelChange",function(s){return tt(r.billingInfo.lname,s)||(r.billingInfo.lname=s),s}),C(),Q(13,pW,1,1),C()(),D(14,"div",7)(15,"label",4),x(16,"Email Address"),C(),D(17,"input",8),Ze("ngModelChange",function(s){return tt(r.billingInfo.email,s)||(r.billingInfo.email=s),s}),C(),Q(18,yW,2,2),C(),D(19,"div",7)(20,"label",4),x(21,"Card Number"),C(),D(22,"input",9),Ze("ngModelChange",function(s){return tt(r.billingInfo.card,s)||(r.billingInfo.card=s),s}),C(),Q(23,EW,2,2),C(),D(24,"div",2)(25,"div",10)(26,"label",4),x(27,"Expiration Month"),C(),D(28,"select",11),Ze("ngModelChange",function(s){return tt(r.billingInfo.expirationMonth,s)||(r.billingInfo.expirationMonth=s),s}),D(29,"option",12),x(30,"-"),C(),D(31,"option",13),x(32,"01"),C(),D(33,"option",14),x(34,"02"),C(),D(35,"option",15),x(36,"03"),C(),D(37,"option",16),x(38,"04"),C(),D(39,"option",17),x(40,"05"),C(),D(41,"option",18),x(42,"06"),C(),D(43,"option",19),x(44,"07"),C(),D(45,"option",20),x(46,"08"),C(),D(47,"option",21),x(48,"09"),C(),D(49,"option",22),x(50,"10"),C(),D(51,"option",23),x(52,"11"),C(),D(53,"option",24),x(54,"12"),C()(),Q(55,IW,1,1),C(),D(56,"div",10)(57,"label",4),x(58,"Expiration Year"),C(),D(59,"input",25),Ze("ngModelChange",function(s){return tt(r.billingInfo.expirationYear,s)||(r.billingInfo.expirationYear=s),s}),C(),Q(60,CW,2,2),C(),D(61,"div",10)(62,"div",2)(63,"label",4),x(64,"CVC"),C(),D(65,"input",26),Ze("ngModelChange",function(s){return tt(r.billingInfo.cvc,s)||(r.billingInfo.cvc=s),s}),C(),Q(66,AW,2,2),C()()(),D(67,"div",7)(68,"label",4),x(69,"Billing Address"),C(),D(70,"input",27),Ze("ngModelChange",function(s){return tt(r.billingInfo.address,s)||(r.billingInfo.address=s),s}),C(),Q(71,PW,2,2),C(),D(72,"div",2)(73,"div",3)(74,"label",4),x(75,"City"),C(),D(76,"input",28),Ze("ngModelChange",function(s){return tt(r.billingInfo.city,s)||(r.billingInfo.city=s),s}),C(),Q(77,OW,2,2),C(),D(78,"div",3)(79,"label",4),x(80,"Zip Code"),C(),D(81,"input",29),Ze("ngModelChange",function(s){return tt(r.billingInfo.zipcode,s)||(r.billingInfo.zipcode=s),s}),C(),Q(82,FW,2,2),C()(),D(83,"div",7)(84,"button",30),x(85,"Pay"),C()()()),t&2){let i,s,a,c,l,h,p,g,I,T;ve("formGroup",r.paymentForm),O(7),Xe("ngModel",r.billingInfo.fname),O(),W((i=r.paymentForm.get("firstName"))!=null&&i.invalid&&((i=r.paymentForm.get("firstName"))!=null&&i.dirty||(i=r.paymentForm.get("firstName"))!=null&&i.touched)?8:-1),O(4),Xe("ngModel",r.billingInfo.lname),O(),W((s=r.paymentForm.get("lastName"))!=null&&s.invalid&&((s=r.paymentForm.get("lastName"))!=null&&s.dirty||(s=r.paymentForm.get("lastName"))!=null&&s.touched)?13:-1),O(4),Xe("ngModel",r.billingInfo.email),O(),W((a=r.paymentForm.get("email"))!=null&&a.invalid&&((a=r.paymentForm.get("email"))!=null&&a.dirty||(a=r.paymentForm.get("email"))!=null&&a.touched)?18:-1),O(4),Xe("ngModel",r.billingInfo.card),O(),W((c=r.paymentForm.get("cardNumber"))!=null&&c.invalid&&((c=r.paymentForm.get("cardNumber"))!=null&&c.dirty||(c=r.paymentForm.get("cardNumber"))!=null&&c.touched)?23:-1),O(5),Xe("ngModel",r.billingInfo.expirationMonth),O(27),W((l=r.paymentForm.get("expirationMonth"))!=null&&l.invalid&&((l=r.paymentForm.get("expirationMonth"))!=null&&l.dirty||(l=r.paymentForm.get("expirationMonth"))!=null&&l.touched)?55:-1),O(4),Xe("ngModel",r.billingInfo.expirationYear),O(),W((h=r.paymentForm.get("expirationYear"))!=null&&h.invalid&&((h=r.paymentForm.get("expirationYear"))!=null&&h.dirty||(h=r.paymentForm.get("expirationYear"))!=null&&h.touched)?60:-1),O(5),Xe("ngModel",r.billingInfo.cvc),O(),W((p=r.paymentForm.get("cvc"))!=null&&p.invalid&&((p=r.paymentForm.get("cvc"))!=null&&p.dirty||(p=r.paymentForm.get("cvc"))!=null&&p.touched)?66:-1),O(4),Xe("ngModel",r.billingInfo.address),O(),W((g=r.paymentForm.get("billingAddress"))!=null&&g.invalid&&((g=r.paymentForm.get("billingAddress"))!=null&&g.dirty||(g=r.paymentForm.get("billingAddress"))!=null&&g.touched)?71:-1),O(5),Xe("ngModel",r.billingInfo.city),O(),W((I=r.paymentForm.get("city"))!=null&&I.invalid&&((I=r.paymentForm.get("city"))!=null&&I.dirty||(I=r.paymentForm.get("city"))!=null&&I.touched)?77:-1),O(4),Xe("ngModel",r.billingInfo.zipcode),O(),W((T=r.paymentForm.get("zipcode"))!=null&&T.invalid&&((T=r.paymentForm.get("zipcode"))!=null&&T.dirty||(T=r.paymentForm.get("zipcode"))!=null&&T.touched)?82:-1),O(2),ve("disabled",r.paymentForm.invalid)}},dependencies:[Xl,$o,Zg,ey,Pi,Jl,Ni,Bo,oc,ac,Tr],styles:["h2[_ngcontent-%COMP%]{text-decoration:underline}"]})};var vu=class{constructor(e="",t="",r="",i="",s="",a="",c=""){this._fname=e;this._lname=t;this._email=r;this._phone=i;this._address=s;this._city=a;this._zipcode=c}get fname(){return this._fname}set fname(e){this._fname=e}get lname(){return this._lname}set lname(e){this._lname=e}get email(){return this._email}set email(e){this._email=e}get phone(){return this._phone}set phone(e){this._phone=e}get address(){return this._address}set address(e){this._address=e}get city(){return this._city}set city(e){this._city=e}get zipcode(){return this._zipcode}set zipcode(e){this._zipcode=e}};function LW(n,e){n&1&&(D(0,"small",14),x(1,"This field is required"),C())}function UW(n,e){if(n&1&&Q(0,LW,2,0,"small",14),n&2){let t,r=ne();W((t=r.deliveryForm.get("firstName"))!=null&&t.hasError("required")?0:-1)}}function jW(n,e){n&1&&(D(0,"small",14),x(1,"This field is required"),C())}function BW(n,e){if(n&1&&Q(0,jW,2,0,"small",14),n&2){let t,r=ne();W((t=r.deliveryForm.get("lastName"))!=null&&t.hasError("required")?0:-1)}}function $W(n,e){n&1&&(D(0,"small",14),x(1,"This field is required"),C())}function qW(n,e){n&1&&(D(0,"small",14),x(1,"Please enter a valid phone number"),C())}function zW(n,e){if(n&1&&Q(0,$W,2,0,"small",14)(1,qW,2,0,"small",14),n&2){let t,r,i=ne();W((t=i.deliveryForm.get("phone"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.deliveryForm.get("phone"))!=null&&r.hasError("invalidPhoneNumber")?1:-1)}}function HW(n,e){n&1&&(D(0,"small",14),x(1,"This field is required"),C())}function GW(n,e){n&1&&(D(0,"small",14),x(1,"Please enter a valid email address"),C())}function WW(n,e){if(n&1&&Q(0,HW,2,0,"small",14)(1,GW,2,0,"small",14),n&2){let t,r,i=ne();W((t=i.deliveryForm.get("email"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.deliveryForm.get("email"))!=null&&r.hasError("email")?1:-1)}}function KW(n,e){n&1&&(D(0,"small",14),x(1,"This field is required"),C())}function QW(n,e){n&1&&(D(0,"small",14),x(1,"Please enter a valid address"),C())}function YW(n,e){if(n&1&&Q(0,KW,2,0,"small",14)(1,QW,2,0,"small",14),n&2){let t,r,i=ne();W((t=i.deliveryForm.get("billingAddress"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.deliveryForm.get("billingAddress"))!=null&&r.hasError("invalidAddress")?1:-1)}}function JW(n,e){n&1&&(D(0,"small",14),x(1,"This field is required"),C())}function XW(n,e){n&1&&(D(0,"small",14),x(1,"Please enter a valid city"),C())}function ZW(n,e){if(n&1&&Q(0,JW,2,0,"small",14)(1,XW,2,0,"small",14),n&2){let t,r,i=ne();W((t=i.deliveryForm.get("city"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.deliveryForm.get("city"))!=null&&r.hasError("invalidAddress")?1:-1)}}function e8(n,e){n&1&&(D(0,"small",14),x(1,"This field is required"),C())}function t8(n,e){n&1&&(D(0,"small",14),x(1,"Please enter a valid CVC number"),C())}function n8(n,e){if(n&1&&Q(0,e8,2,0,"small",14)(1,t8,2,0,"small",14),n&2){let t,r,i=ne();W((t=i.deliveryForm.get("zipcode"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.deliveryForm.get("zipcode"))!=null&&r.hasError("invalidZipCode")?1:-1)}}var Uy=class n{constructor(e,t){this.eventService=e;this.router=t}cart;deliveryInfo=new vu;ngOnInit(){}deliveryForm=new oi({firstName:new ct("",et.required),lastName:new ct("",et.required),phone:new ct("",[et.required,sO]),email:new ct("",et.email),billingAddress:new ct("",[et.required,_u]),city:new ct("",[et.required,_u]),zipcode:new ct("",[et.required,Fy])});submitForm(){this.eventService.emit("deliveryInfo",this.deliveryInfo),this.router.navigate([""])}static \u0275fac=function(t){return new(t||n)($(ht),$(ot))};static \u0275cmp=se({type:n,selectors:[["delivery-page"]],standalone:!0,features:[oe],decls:44,vars:16,consts:[[1,"container","pt-3",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"col-sm-6","col-md-6","col-lg-6","mb-2"],[1,"form-label"],["type","text","formControlName","firstName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","lastName",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","phone",1,"form-control",3,"ngModelChange","ngModel"],["type","email","formControlName","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-2"],["type","text","formControlName","billingAddress",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","city",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","zipcode",1,"form-control",3,"ngModelChange","ngModel"],["type","submit","data-bs-toggle","modal","data-bs-target","#thankyouModal",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(t,r){if(t&1&&(D(0,"form",0),le("ngSubmit",function(s){return s.preventDefault(),r.submitForm()}),D(1,"h2",1),x(2,"Delivery Info"),C(),D(3,"div",2)(4,"div",3)(5,"label",4),x(6,"First Name"),C(),D(7,"input",5),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.fname,s)||(r.deliveryInfo.fname=s),s}),C(),Q(8,UW,1,1),C(),D(9,"div",3)(10,"label",4),x(11,"Last Name"),C(),D(12,"input",6),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.lname,s)||(r.deliveryInfo.lname=s),s}),C(),Q(13,BW,1,1),C()(),D(14,"div",2)(15,"div",3)(16,"label",4),x(17,"Phone Number"),C(),D(18,"input",7),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.phone,s)||(r.deliveryInfo.phone=s),s}),C(),Q(19,zW,2,2),C(),D(20,"div",3)(21,"label",4),x(22,"Email Address"),C(),D(23,"input",8),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.email,s)||(r.deliveryInfo.email=s),s}),C(),Q(24,WW,2,2),C()(),D(25,"div",9)(26,"label",4),x(27,"Delivery Address"),C(),D(28,"input",10),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.address,s)||(r.deliveryInfo.address=s),s}),C(),Q(29,YW,2,2),C(),D(30,"div",2)(31,"div",3)(32,"label",4),x(33,"City"),C(),D(34,"input",11),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.city,s)||(r.deliveryInfo.city=s),s}),C(),Q(35,ZW,2,2),C(),D(36,"div",3)(37,"label",4),x(38,"Zip Code"),C(),D(39,"input",12),Ze("ngModelChange",function(s){return tt(r.deliveryInfo.zipcode,s)||(r.deliveryInfo.zipcode=s),s}),C(),Q(40,n8,2,2),C()(),D(41,"div",9)(42,"button",13),x(43,"Finalize"),C()()()),t&2){let i,s,a,c,l,h,p;ve("formGroup",r.deliveryForm),O(7),Xe("ngModel",r.deliveryInfo.fname),O(),W((i=r.deliveryForm.get("firstName"))!=null&&i.invalid&&((i=r.deliveryForm.get("firstName"))!=null&&i.dirty||(i=r.deliveryForm.get("firstName"))!=null&&i.touched)?8:-1),O(4),Xe("ngModel",r.deliveryInfo.lname),O(),W((s=r.deliveryForm.get("lastName"))!=null&&s.invalid&&((s=r.deliveryForm.get("lastName"))!=null&&s.dirty||(s=r.deliveryForm.get("lastName"))!=null&&s.touched)?13:-1),O(5),Xe("ngModel",r.deliveryInfo.phone),O(),W((a=r.deliveryForm.get("phone"))!=null&&a.invalid&&((a=r.deliveryForm.get("phone"))!=null&&a.dirty||(a=r.deliveryForm.get("phone"))!=null&&a.touched)?19:-1),O(4),Xe("ngModel",r.deliveryInfo.email),O(),W((c=r.deliveryForm.get("email"))!=null&&c.invalid&&((c=r.deliveryForm.get("email"))!=null&&c.dirty||(c=r.deliveryForm.get("email"))!=null&&c.touched)?24:-1),O(4),Xe("ngModel",r.deliveryInfo.address),O(),W((l=r.deliveryForm.get("billingAddress"))!=null&&l.invalid&&((l=r.deliveryForm.get("billingAddress"))!=null&&l.dirty||(l=r.deliveryForm.get("billingAddress"))!=null&&l.touched)?29:-1),O(5),Xe("ngModel",r.deliveryInfo.city),O(),W((h=r.deliveryForm.get("city"))!=null&&h.invalid&&((h=r.deliveryForm.get("city"))!=null&&h.dirty||(h=r.deliveryForm.get("city"))!=null&&h.touched)?35:-1),O(4),Xe("ngModel",r.deliveryInfo.zipcode),O(),W((p=r.deliveryForm.get("zipcode"))!=null&&p.invalid&&((p=r.deliveryForm.get("zipcode"))!=null&&p.dirty||(p=r.deliveryForm.get("zipcode"))!=null&&p.touched)?40:-1),O(2),ve("disabled",r.deliveryForm.invalid)}},dependencies:[Xl,$o,Pi,Ni,Bo,oc,ac,Tr]})};var dO=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},r8=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],c=n[t++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},hO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,c=a?n[i+1]:0,l=i+2<n.length,h=l?n[i+2]:0,p=s>>2,g=(s&3)<<4|c>>4,I=(c&15)<<2|h>>6,T=h&63;l||(T=64,a||(I=64)),r.push(t[p],t[g],t[I],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):r8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let h=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||h==null||g==null)throw new Rb;let I=s<<2|c>>4;if(r.push(I),h!==64){let T=c<<4&240|h>>2;if(r.push(T),g!==64){let P=h<<6&192|g;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Rb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},i8=function(n){let e=dO(n);return hO.encodeByteArray(e,!0)},xf=function(n){return i8(n).replace(/\./g,"")},s8=function(n){try{return hO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function o8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var a8=()=>o8().__FIREBASE_DEFAULTS__,c8=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&s8(n[1]);return e&&JSON.parse(e)},Pb=()=>{try{return a8()||c8()||l8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},u8=n=>{var e,t;return(t=(e=Pb())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},fO=n=>{let e=u8(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Nb=()=>{var n;return(n=Pb())===null||n===void 0?void 0:n.config};var jy=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function pO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xf(JSON.stringify(t)),xf(JSON.stringify(a)),""].join(".")}function mO(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d8(){var n;let e=(n=Pb())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gO(){return!d8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mb(){try{return typeof indexedDB=="object"}catch{return!1}}function yO(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var h8="FirebaseError",zs=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=h8,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rf.prototype.create)}},Rf=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?f8(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new zs(i,c,r)}};function f8(n,e){return n.replace(p8,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var p8=/\{\$([^}]+)}/g;function Pf(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(uO(s)&&uO(a)){if(!Pf(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function uO(n){return n!==null&&typeof n=="object"}var Sfe=4*60*60*1e3;function Hs(n){return n&&n._delegate?n._delegate:n}var Gs=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bc="[DEFAULT]";var Ob=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new jy;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g8(e))try{this.getOrInitializeService({instanceIdentifier:bc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bc){return this.instances.has(e)}getOptions(e=bc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m8(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bc){return this.component?this.component.multipleInstances?e:bc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function m8(n){return n===bc?void 0:n}function g8(n){return n.instantiationMode==="EAGER"}var By=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Ob(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var y8=[],Ue=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ue||{}),_8={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},v8=Ue.INFO,E8={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},w8=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=E8[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Eu=class{constructor(e){this.name=e,this._logLevel=v8,this._logHandler=w8,this._userLogHandler=null,y8.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};var I8=(n,e)=>e.some(t=>n instanceof t),_O,vO;function b8(){return _O||(_O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T8(){return vO||(vO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var EO=new WeakMap,Vb=new WeakMap,wO=new WeakMap,kb=new WeakMap,Lb=new WeakMap;function C8(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Oi(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&EO.set(t,n)}).catch(()=>{}),Lb.set(e,n),e}function D8(n){if(Vb.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});Vb.set(n,e)}var Fb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Oi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IO(n){Fb=n(Fb)}function S8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call($y(this),e,...t);return wO.set(r,e.sort?e.sort():[e]),Oi(r)}:T8().includes(n)?function(...e){return n.apply($y(this),e),Oi(EO.get(this))}:function(...e){return Oi(n.apply($y(this),e))}}function A8(n){return typeof n=="function"?S8(n):(n instanceof IDBTransaction&&D8(n),I8(n,b8())?new Proxy(n,Fb):n)}function Oi(n){if(n instanceof IDBRequest)return C8(n);if(kb.has(n))return kb.get(n);let e=A8(n);return e!==n&&(kb.set(n,e),Lb.set(e,n)),e}var $y=n=>Lb.get(n);function qy(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(n,e),c=Oi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Oi(a.result),l.oldVersion,l.newVersion,Oi(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var x8=["get","getKey","getAll","getAllKeys","count"],R8=["put","add","delete","clear"],Ub=new Map;function bO(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ub.get(e))return Ub.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=R8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||x8.includes(t)))return;let s=function(a,...c){return R(this,null,function*(){let l=this.transaction(a,i?"readwrite":"readonly"),h=l.store;return r&&(h=h.index(c.shift())),(yield Promise.all([h[t](...c),i&&l.done]))[0]})};return Ub.set(e,s),s}IO(n=>Ie(B({},n),{get:(e,t,r)=>bO(e,t)||n.get(e,t,r),has:(e,t)=>!!bO(e,t)||n.has(e,t)}));var Bb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(P8(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function P8(n){let e=n.getComponent();return e?.type==="VERSION"}var $b="@firebase/app",TO="0.10.17";var Ws=new Eu("@firebase/app"),N8="@firebase/app-compat",M8="@firebase/analytics-compat",O8="@firebase/analytics",k8="@firebase/app-check-compat",V8="@firebase/app-check",F8="@firebase/auth",L8="@firebase/auth-compat",U8="@firebase/database",j8="@firebase/data-connect",B8="@firebase/database-compat",$8="@firebase/functions",q8="@firebase/functions-compat",z8="@firebase/installations",H8="@firebase/installations-compat",G8="@firebase/messaging",W8="@firebase/messaging-compat",K8="@firebase/performance",Q8="@firebase/performance-compat",Y8="@firebase/remote-config",J8="@firebase/remote-config-compat",X8="@firebase/storage",Z8="@firebase/storage-compat",eK="@firebase/firestore",tK="@firebase/vertexai",nK="@firebase/firestore-compat",rK="firebase",iK="11.1.0";var qb="[DEFAULT]",sK={[$b]:"fire-core",[N8]:"fire-core-compat",[O8]:"fire-analytics",[M8]:"fire-analytics-compat",[V8]:"fire-app-check",[k8]:"fire-app-check-compat",[F8]:"fire-auth",[L8]:"fire-auth-compat",[U8]:"fire-rtdb",[j8]:"fire-data-connect",[B8]:"fire-rtdb-compat",[$8]:"fire-fn",[q8]:"fire-fn-compat",[z8]:"fire-iid",[H8]:"fire-iid-compat",[G8]:"fire-fcm",[W8]:"fire-fcm-compat",[K8]:"fire-perf",[Q8]:"fire-perf-compat",[Y8]:"fire-rc",[J8]:"fire-rc-compat",[X8]:"fire-gcs",[Z8]:"fire-gcs-compat",[eK]:"fire-fst",[nK]:"fire-fst-compat",[tK]:"fire-vertex","fire-js":"fire-js",[rK]:"fire-js-all"};var zy=new Map,oK=new Map,zb=new Map;function CO(n,e){try{n.container.addComponent(e)}catch(t){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nf(n){let e=n.name;if(zb.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;zb.set(e,n);for(let t of zy.values())CO(t,n);for(let t of oK.values())CO(t,n);return!0}function xO(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}var aK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xo=new Rf("app","Firebase",aK);var Hb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}};var RO=iK;function Kb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(t||(t=Nb()),!t)throw Xo.create("no-options");let s=zy.get(i);if(s){if(Pf(t,s.options)&&Pf(r,s.config))return s;throw Xo.create("duplicate-app",{appName:i})}let a=new By(i);for(let l of zb.values())a.addComponent(l);let c=new Hb(t,r,a);return zy.set(i,c),c}function PO(n=qb){let e=zy.get(n);if(!e&&n===qb&&Nb())return Kb();if(!e)throw Xo.create("no-app",{appName:n});return e}function Zo(n,e,t){var r;let i=(r=sK[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ws.warn(c.join(" "));return}Nf(new Gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var cK="firebase-heartbeat-database",lK=1,Mf="firebase-heartbeat-store",jb=null;function NO(){return jb||(jb=qy(cK,lK,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xo.create("idb-open",{originalErrorMessage:n.message})})),jb}function uK(n){return R(this,null,function*(){try{let t=(yield NO()).transaction(Mf),r=yield t.objectStore(Mf).get(MO(n));return yield t.done,r}catch(e){if(e instanceof zs)Ws.warn(e.message);else{let t=Xo.create("idb-get",{originalErrorMessage:e?.message});Ws.warn(t.message)}}})}function DO(n,e){return R(this,null,function*(){try{let r=(yield NO()).transaction(Mf,"readwrite");yield r.objectStore(Mf).put(e,MO(n)),yield r.done}catch(t){if(t instanceof zs)Ws.warn(t.message);else{let r=Xo.create("idb-set",{originalErrorMessage:t?.message});Ws.warn(r.message)}}})}function MO(n){return`${n.name}!${n.options.appId}`}var dK=1024,hK=30*24*60*60*1e3,Gb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Wb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return R(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SO();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=hK}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ws.warn(r)}})}getHeartbeatsHeader(){return R(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=SO(),{heartbeatsToSend:r,unsentEntries:i}=fK(this._heartbeatsCache.heartbeats),s=xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ws.warn(t),""}})}};function SO(){return new Date().toISOString().substring(0,10)}function fK(n,e=dK){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),AO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),AO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Wb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return Mb()?yO().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield uK(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return DO(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function AO(n){return xf(JSON.stringify({version:2,heartbeats:n})).length}function pK(n){Nf(new Gs("platform-logger",e=>new Bb(e),"PRIVATE")),Nf(new Gs("heartbeat",e=>new Gb(e),"PRIVATE")),Zo($b,TO,n),Zo($b,TO,"esm2017"),Zo("fire-js","")}pK("");var OO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kO={};var ea,Qb;(function(){var n;function e(E,m){function _(){}_.prototype=m.prototype,E.D=m.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(v,w,S){for(var y=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)y[nt-2]=arguments[nt];return m.prototype[w].apply(v,y)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,_){_||(_=0);var v=Array(16);if(typeof m=="string")for(var w=0;16>w;++w)v[w]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(w=0;16>w;++w)v[w]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=E.g[0],_=E.g[1],w=E.g[2];var S=E.g[3],y=m+(S^_&(w^S))+v[0]+3614090360&4294967295;m=_+(y<<7&4294967295|y>>>25),y=S+(w^m&(_^w))+v[1]+3905402710&4294967295,S=m+(y<<12&4294967295|y>>>20),y=w+(_^S&(m^_))+v[2]+606105819&4294967295,w=S+(y<<17&4294967295|y>>>15),y=_+(m^w&(S^m))+v[3]+3250441966&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(S^_&(w^S))+v[4]+4118548399&4294967295,m=_+(y<<7&4294967295|y>>>25),y=S+(w^m&(_^w))+v[5]+1200080426&4294967295,S=m+(y<<12&4294967295|y>>>20),y=w+(_^S&(m^_))+v[6]+2821735955&4294967295,w=S+(y<<17&4294967295|y>>>15),y=_+(m^w&(S^m))+v[7]+4249261313&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(S^_&(w^S))+v[8]+1770035416&4294967295,m=_+(y<<7&4294967295|y>>>25),y=S+(w^m&(_^w))+v[9]+2336552879&4294967295,S=m+(y<<12&4294967295|y>>>20),y=w+(_^S&(m^_))+v[10]+4294925233&4294967295,w=S+(y<<17&4294967295|y>>>15),y=_+(m^w&(S^m))+v[11]+2304563134&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(S^_&(w^S))+v[12]+1804603682&4294967295,m=_+(y<<7&4294967295|y>>>25),y=S+(w^m&(_^w))+v[13]+4254626195&4294967295,S=m+(y<<12&4294967295|y>>>20),y=w+(_^S&(m^_))+v[14]+2792965006&4294967295,w=S+(y<<17&4294967295|y>>>15),y=_+(m^w&(S^m))+v[15]+1236535329&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(w^S&(_^w))+v[1]+4129170786&4294967295,m=_+(y<<5&4294967295|y>>>27),y=S+(_^w&(m^_))+v[6]+3225465664&4294967295,S=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(S^m))+v[11]+643717713&4294967295,w=S+(y<<14&4294967295|y>>>18),y=_+(S^m&(w^S))+v[0]+3921069994&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^S&(_^w))+v[5]+3593408605&4294967295,m=_+(y<<5&4294967295|y>>>27),y=S+(_^w&(m^_))+v[10]+38016083&4294967295,S=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(S^m))+v[15]+3634488961&4294967295,w=S+(y<<14&4294967295|y>>>18),y=_+(S^m&(w^S))+v[4]+3889429448&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^S&(_^w))+v[9]+568446438&4294967295,m=_+(y<<5&4294967295|y>>>27),y=S+(_^w&(m^_))+v[14]+3275163606&4294967295,S=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(S^m))+v[3]+4107603335&4294967295,w=S+(y<<14&4294967295|y>>>18),y=_+(S^m&(w^S))+v[8]+1163531501&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^S&(_^w))+v[13]+2850285829&4294967295,m=_+(y<<5&4294967295|y>>>27),y=S+(_^w&(m^_))+v[2]+4243563512&4294967295,S=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(S^m))+v[7]+1735328473&4294967295,w=S+(y<<14&4294967295|y>>>18),y=_+(S^m&(w^S))+v[12]+2368359562&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(_^w^S)+v[5]+4294588738&4294967295,m=_+(y<<4&4294967295|y>>>28),y=S+(m^_^w)+v[8]+2272392833&4294967295,S=m+(y<<11&4294967295|y>>>21),y=w+(S^m^_)+v[11]+1839030562&4294967295,w=S+(y<<16&4294967295|y>>>16),y=_+(w^S^m)+v[14]+4259657740&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^S)+v[1]+2763975236&4294967295,m=_+(y<<4&4294967295|y>>>28),y=S+(m^_^w)+v[4]+1272893353&4294967295,S=m+(y<<11&4294967295|y>>>21),y=w+(S^m^_)+v[7]+4139469664&4294967295,w=S+(y<<16&4294967295|y>>>16),y=_+(w^S^m)+v[10]+3200236656&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^S)+v[13]+681279174&4294967295,m=_+(y<<4&4294967295|y>>>28),y=S+(m^_^w)+v[0]+3936430074&4294967295,S=m+(y<<11&4294967295|y>>>21),y=w+(S^m^_)+v[3]+3572445317&4294967295,w=S+(y<<16&4294967295|y>>>16),y=_+(w^S^m)+v[6]+76029189&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^S)+v[9]+3654602809&4294967295,m=_+(y<<4&4294967295|y>>>28),y=S+(m^_^w)+v[12]+3873151461&4294967295,S=m+(y<<11&4294967295|y>>>21),y=w+(S^m^_)+v[15]+530742520&4294967295,w=S+(y<<16&4294967295|y>>>16),y=_+(w^S^m)+v[2]+3299628645&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(w^(_|~S))+v[0]+4096336452&4294967295,m=_+(y<<6&4294967295|y>>>26),y=S+(_^(m|~w))+v[7]+1126891415&4294967295,S=m+(y<<10&4294967295|y>>>22),y=w+(m^(S|~_))+v[14]+2878612391&4294967295,w=S+(y<<15&4294967295|y>>>17),y=_+(S^(w|~m))+v[5]+4237533241&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~S))+v[12]+1700485571&4294967295,m=_+(y<<6&4294967295|y>>>26),y=S+(_^(m|~w))+v[3]+2399980690&4294967295,S=m+(y<<10&4294967295|y>>>22),y=w+(m^(S|~_))+v[10]+4293915773&4294967295,w=S+(y<<15&4294967295|y>>>17),y=_+(S^(w|~m))+v[1]+2240044497&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~S))+v[8]+1873313359&4294967295,m=_+(y<<6&4294967295|y>>>26),y=S+(_^(m|~w))+v[15]+4264355552&4294967295,S=m+(y<<10&4294967295|y>>>22),y=w+(m^(S|~_))+v[6]+2734768916&4294967295,w=S+(y<<15&4294967295|y>>>17),y=_+(S^(w|~m))+v[13]+1309151649&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~S))+v[4]+4149444226&4294967295,m=_+(y<<6&4294967295|y>>>26),y=S+(_^(m|~w))+v[11]+3174756917&4294967295,S=m+(y<<10&4294967295|y>>>22),y=w+(m^(S|~_))+v[2]+718787259&4294967295,w=S+(y<<15&4294967295|y>>>17),y=_+(S^(w|~m))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(w+(y<<21&4294967295|y>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var _=m-this.blockSize,v=this.B,w=this.h,S=0;S<m;){if(w==0)for(;S<=_;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<m;)if(v[w++]=E.charCodeAt(S++),w==this.blockSize){i(this,v),w=0;break}}else for(;S<m;)if(v[w++]=E[S++],w==this.blockSize){i(this,v),w=0;break}}this.h=w,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var _=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=_&255,_/=256;for(this.u(E),E=Array(16),m=_=0;4>m;++m)for(var v=0;32>v;v+=8)E[_++]=this.g[m]>>>v&255;return E};function s(E,m){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=m(E)}function a(E,m){this.h=m;for(var _=[],v=!0,w=E.length-1;0<=w;w--){var S=E[w]|0;v&&S==m||(_[w]=S,v=!1)}this.g=_}var c={};function l(E){return-128<=E&&128>E?s(E,function(m){return new a([m|0],0>m?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return N(h(-E));for(var m=[],_=1,v=0;E>=_;v++)m[v]=E/_|0,_*=4294967296;return new a(m,0)}function p(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return N(p(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(m,8)),v=g,w=0;w<E.length;w+=8){var S=Math.min(8,E.length-w),y=parseInt(E.substring(w,w+S),m);8>S?(S=h(Math.pow(m,S)),v=v.j(S).add(h(y))):(v=v.j(_),v=v.add(h(y)))}return v}var g=l(0),I=l(1),T=l(16777216);n=a.prototype,n.m=function(){if(M(this))return-N(this).m();for(var E=0,m=1,_=0;_<this.g.length;_++){var v=this.i(_);E+=(0<=v?v:4294967296+v)*m,m*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P(this))return"0";if(M(this))return"-"+N(this).toString(E);for(var m=h(Math.pow(E,6)),_=this,v="";;){var w=z(_,m).g;_=V(_,w.j(m));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=w,P(_))return S+v;for(;6>S.length;)S="0"+S;v=S+v}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function P(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=V(this,E),M(E)?-1:P(E)?0:1};function N(E){for(var m=E.g.length,_=[],v=0;v<m;v++)_[v]=~E.g[v];return new a(_,~E.h).add(I)}n.abs=function(){return M(this)?N(this):this},n.add=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0,w=0;w<=m;w++){var S=v+(this.i(w)&65535)+(E.i(w)&65535),y=(S>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);v=y>>>16,S&=65535,y&=65535,_[w]=y<<16|S}return new a(_,_[_.length-1]&-2147483648?-1:0)};function V(E,m){return E.add(N(m))}n.j=function(E){if(P(this)||P(E))return g;if(M(this))return M(E)?N(this).j(N(E)):N(N(this).j(E));if(M(E))return N(this.j(N(E)));if(0>this.l(T)&&0>E.l(T))return h(this.m()*E.m());for(var m=this.g.length+E.g.length,_=[],v=0;v<2*m;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var w=0;w<E.g.length;w++){var S=this.i(v)>>>16,y=this.i(v)&65535,nt=E.i(w)>>>16,Ut=E.i(w)&65535;_[2*v+2*w]+=y*Ut,L(_,2*v+2*w),_[2*v+2*w+1]+=S*Ut,L(_,2*v+2*w+1),_[2*v+2*w+1]+=y*nt,L(_,2*v+2*w+1),_[2*v+2*w+2]+=S*nt,L(_,2*v+2*w+2)}for(v=0;v<m;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=m;v<2*m;v++)_[v]=0;return new a(_,0)};function L(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function F(E,m){this.g=E,this.h=m}function z(E,m){if(P(m))throw Error("division by zero");if(P(E))return new F(g,g);if(M(E))return m=z(N(E),m),new F(N(m.g),N(m.h));if(M(m))return m=z(E,N(m)),new F(N(m.g),m.h);if(30<E.g.length){if(M(E)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var _=I,v=m;0>=v.l(E);)_=J(_),v=J(v);var w=G(_,1),S=G(v,1);for(v=G(v,2),_=G(_,2);!P(v);){var y=S.add(v);0>=y.l(E)&&(w=w.add(_),S=y),v=G(v,1),_=G(_,1)}return m=V(E,w.j(m)),new F(w,m)}for(w=g;0<=E.l(m);){for(_=Math.max(1,Math.floor(E.m()/m.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),S=h(_),y=S.j(m);M(y)||0<y.l(E);)_-=v,S=h(_),y=S.j(m);P(S)&&(S=I),w=w.add(S),E=V(E,y)}return new F(w,E)}n.A=function(E){return z(this,E).h},n.and=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)&E.i(v);return new a(_,this.h&E.h)},n.or=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)|E.i(v);return new a(_,this.h|E.h)},n.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)^E.i(v);return new a(_,this.h^E.h)};function J(E){for(var m=E.g.length+1,_=[],v=0;v<m;v++)_[v]=E.i(v)<<1|E.i(v-1)>>>31;return new a(_,E.h)}function G(E,m){var _=m>>5;m%=32;for(var v=E.g.length-_,w=[],S=0;S<v;S++)w[S]=0<m?E.i(S+_)>>>m|E.i(S+_+1)<<32-m:E.i(S+_);return new a(w,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Qb=kO.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,ea=kO.Integer=a}).apply(typeof OO<"u"?OO:typeof self<"u"?self:typeof window<"u"?window:{});var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ks={};var Yb,mK,wu,Jb,Of,Gy,Xb,Zb,eT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,d){return o==Array.prototype||o==Object.prototype||(o[u]=d.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hy=="object"&&Hy];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=t(this);function i(o,u){if(u)e:{var d=r;o=o.split(".");for(var f=0;f<o.length-1;f++){var b=o[f];if(!(b in d))break e;d=d[b]}o=o[o.length-1],f=d[o],u=u(f),u!=f&&u!=null&&e(d,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var d=0,f=!1,b={next:function(){if(!f&&d<o.length){var A=d++;return{value:u(A,o[A]),done:!1}}return f=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,d){return d})}});var a=a||{},c=this||self;function l(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function h(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function p(o,u,d){return o.call.apply(o.bind,arguments)}function g(o,u,d){if(!o)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,f),o.apply(u,b)}}return function(){return o.apply(u,arguments)}}function I(o,u,d){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,I.apply(null,arguments)}function T(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var f=d.slice();return f.push.apply(f,arguments),o.apply(this,f)}}function P(o,u){function d(){}d.prototype=u.prototype,o.aa=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(f,b,A){for(var k=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)k[ie-2]=arguments[ie];return u.prototype[b].apply(f,k)}}function M(o){let u=o.length;if(0<u){let d=Array(u);for(let f=0;f<u;f++)d[f]=o[f];return d}return[]}function N(o,u){for(let d=1;d<arguments.length;d++){let f=arguments[d];if(l(f)){let b=o.length||0,A=f.length||0;o.length=b+A;for(let k=0;k<A;k++)o[b+k]=f[k]}else o.push(f)}}class V{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function L(o){return/^[\s\xa0]*$/.test(o)}function F(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function z(o){return z[" "](o),o}z[" "]=function(){};var J=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function G(o,u,d){for(let f in o)u.call(d,o[f],f,o)}function E(o,u){for(let d in o)u.call(void 0,o[d],d,o)}function m(o){let u={};for(let d in o)u[d]=o[d];return u}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(o,u){let d,f;for(let b=1;b<arguments.length;b++){f=arguments[b];for(d in f)o[d]=f[d];for(let A=0;A<_.length;A++)d=_[A],Object.prototype.hasOwnProperty.call(f,d)&&(o[d]=f[d])}}function w(o){var u=1;o=o.split(":");let d=[];for(;0<u&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function S(o){c.setTimeout(()=>{throw o},0)}function y(){var o=vn;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class nt{constructor(){this.h=this.g=null}add(u,d){let f=Ut.get();f.set(u,d),this.h?this.h.next=f:this.g=f,this.h=f}}var Ut=new V(()=>new Xt,o=>o.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,un=!1,vn=new nt,fi=()=>{let o=c.Promise.resolve(void 0);mt=()=>{o.then(ya)}};var ya=()=>{for(var o;o=y();){try{o.h.call(o.g)}catch(d){S(d)}var u=Ut;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}un=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var pi=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let d=()=>{};c.addEventListener("test",d,u),c.removeEventListener("test",d,u)}catch{}return o}();function Dt(o,u){if(Ae.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(J){e:{try{z(u.nodeName);var b=!0;break e}catch{}b=!1}b||(u=null)}}else d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement);this.relatedTarget=u,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Wi[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Dt.aa.h.call(this)}}P(Dt,Ae);var Wi={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var dn="closure_listenable_"+(1e6*Math.random()|0),Or=0;function _a(o,u,d,f,b){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!f,this.ha=b,this.key=++Or,this.da=this.fa=!1}function kr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Qn(o){this.src=o,this.g={},this.h=0}Qn.prototype.add=function(o,u,d,f,b){var A=o.toString();o=this.g[A],o||(o=this.g[A]=[],this.h++);var k=mi(o,u,f,b);return-1<k?(u=o[k],d||(u.fa=!1)):(u=new _a(u,this.src,A,!!f,b),u.fa=d,o.push(u)),u};function Ki(o,u){var d=u.type;if(d in o.g){var f=o.g[d],b=Array.prototype.indexOf.call(f,u,void 0),A;(A=0<=b)&&Array.prototype.splice.call(f,b,1),A&&(kr(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function mi(o,u,d,f){for(var b=0;b<o.length;++b){var A=o[b];if(!A.da&&A.listener==u&&A.capture==!!d&&A.ha==f)return b}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Yi={};function uo(o,u,d,f,b){if(f&&f.once)return va(o,u,d,f,b);if(Array.isArray(u)){for(var A=0;A<u.length;A++)uo(o,u[A],d,f,b);return null}return d=yi(d),o&&o[dn]?o.K(u,d,h(f)?!!f.capture:!!f,b):ho(o,u,d,!1,f,b)}function ho(o,u,d,f,b,A){if(!u)throw Error("Invalid event type");var k=h(b)?!!b.capture:!!b,ie=Vr(o);if(ie||(o[Qi]=ie=new Qn(o)),d=ie.add(u,d,f,k,A),d.proxy)return d;if(f=sd(),d.proxy=f,f.src=o,f.listener=d,o.addEventListener)pi||(b=k),b===void 0&&(b=!1),o.addEventListener(u.toString(),f,b);else if(o.attachEvent)o.attachEvent(fo(u.toString()),f);else if(o.addListener&&o.removeListener)o.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return d}function sd(){function o(d){return u.call(o.src,o.listener,d)}let u=Gc;return o}function va(o,u,d,f,b){if(Array.isArray(u)){for(var A=0;A<u.length;A++)va(o,u[A],d,f,b);return null}return d=yi(d),o&&o[dn]?o.L(u,d,h(f)?!!f.capture:!!f,b):ho(o,u,d,!0,f,b)}function Yn(o,u,d,f,b){if(Array.isArray(u))for(var A=0;A<u.length;A++)Yn(o,u[A],d,f,b);else f=h(f)?!!f.capture:!!f,d=yi(d),o&&o[dn]?(o=o.i,u=String(u).toString(),u in o.g&&(A=o.g[u],d=mi(A,d,f,b),-1<d&&(kr(A[d]),Array.prototype.splice.call(A,d,1),A.length==0&&(delete o.g[u],o.h--)))):o&&(o=Vr(o))&&(u=o.g[u.toString()],o=-1,u&&(o=mi(u,d,f,b)),(d=-1<o?u[o]:null)&&pr(d))}function pr(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[dn])Ki(u.i,o);else{var d=o.type,f=o.proxy;u.removeEventListener?u.removeEventListener(d,f,o.capture):u.detachEvent?u.detachEvent(fo(d),f):u.addListener&&u.removeListener&&u.removeListener(f),(d=Vr(u))?(Ki(d,o),d.h==0&&(d.src=null,u[Qi]=null)):kr(o)}}}function fo(o){return o in Yi?Yi[o]:Yi[o]="on"+o}function Gc(o,u){if(o.da)o=!0;else{u=new Dt(u,this);var d=o.listener,f=o.ha||o.src;o.fa&&pr(o),o=d.call(f,u)}return o}function Vr(o){return o=o[Qi],o instanceof Qn?o:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function yi(o){return typeof o=="function"?o:(o[gi]||(o[gi]=function(u){return o.handleEvent(u)}),o[gi])}function Pe(){gt.call(this),this.i=new Qn(this),this.M=this,this.F=null}P(Pe,gt),Pe.prototype[dn]=!0,Pe.prototype.removeEventListener=function(o,u,d,f){Yn(this,o,u,d,f)};function Fe(o,u){var d,f=o.F;if(f)for(d=[];f;f=f.F)d.push(f);if(o=o.M,f=u.type||u,typeof u=="string")u=new Ae(u,o);else if(u instanceof Ae)u.target=u.target||o;else{var b=u;u=new Ae(f,o),v(u,b)}if(b=!0,d)for(var A=d.length-1;0<=A;A--){var k=u.g=d[A];b=Ji(k,f,!0,u)&&b}if(k=u.g=o,b=Ji(k,f,!0,u)&&b,b=Ji(k,f,!1,u)&&b,d)for(A=0;A<d.length;A++)k=u.g=d[A],b=Ji(k,f,!1,u)&&b}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var d=o.g[u],f=0;f<d.length;f++)kr(d[f]);delete o.g[u],o.h--}}this.F=null},Pe.prototype.K=function(o,u,d,f){return this.i.add(String(o),u,!1,d,f)},Pe.prototype.L=function(o,u,d,f){return this.i.add(String(o),u,!0,d,f)};function Ji(o,u,d,f){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var b=!0,A=0;A<u.length;++A){var k=u[A];if(k&&!k.da&&k.capture==d){var ie=k.listener,ke=k.ha||k.src;k.fa&&Ki(o.i,k),b=ie.call(ke,f)!==!1&&b}}return b&&!f.defaultPrevented}function od(o,u,d){if(typeof o=="function")d&&(o=I(o,d));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function ad(o){o.g=od(()=>{o.g=null,o.i&&(o.i=!1,ad(o))},o.l);let u=o.h;o.h=null,o.m.apply(null,u)}class Ov extends gt{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:ad(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(o){gt.call(this),this.h=o,this.g={}}P(Fr,gt);var cd=[];function ld(o){G(o.g,function(u,d){this.g.hasOwnProperty(d)&&pr(u)},o),o.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),ld(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=c.JSON.stringify,kv=c.JSON.parse,Vv=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function wa(){}wa.prototype.h=null;function ud(o){return o.h||(o.h=o.i())}function dd(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ia(){Ae.call(this,"d")}P(Ia,Ae);function ba(){Ae.call(this,"c")}P(ba,Ae);var En={},hd=null;function Xi(){return hd=hd||new Pe}En.La="serverreachability";function fd(o){Ae.call(this,En.La,o)}P(fd,Ae);function Ur(o){let u=Xi();Fe(u,new fd(u))}En.STAT_EVENT="statevent";function pd(o,u){Ae.call(this,En.STAT_EVENT,o),this.stat=u}P(pd,Ae);function Ge(o){let u=Xi();Fe(u,new pd(u,o))}En.Ma="timingevent";function md(o,u){Ae.call(this,En.Ma,o),this.size=u}P(md,Ae);function jr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},u)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function Fv(o,u,d,f,b,A){o.info(function(){if(o.g)if(A)for(var k="",ie=A.split("&"),ke=0;ke<ie.length;ke++){var Z=ie[ke].split("=");if(1<Z.length){var $e=Z[0];Z=Z[1];var qe=$e.split("_");k=2<=qe.length&&qe[1]=="type"?k+($e+"="+Z+"&"):k+($e+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+f+") [attempt "+b+"]: "+u+`
`+d+`
`+k})}function Lv(o,u,d,f,b,A,k){o.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+b+"]: "+u+`
`+d+`
`+A+" "+k})}function Jn(o,u,d,f){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+jv(o,d)+(f?" "+f:"")})}function Uv(o,u){o.info(function(){return"TIMEOUT: "+u})}Br.prototype.info=function(){};function jv(o,u){if(!o.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var f=d[o];if(!(2>f.length)){var b=f[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return Ea(d)}catch{return u}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ta;function es(){}P(es,wa),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},Ta=new es;function Zt(o,u,d,f){this.j=o,this.i=u,this.l=d,this.R=f||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yd}function yd(){this.i=null,this.g="",this.h=!1}var _d={},Ca={};function Da(o,u,d){o.L=1,o.v=is(jt(u)),o.m=d,o.P=!0,vd(o,null)}function vd(o,u){o.F=Date.now(),ts(o),o.A=jt(o.v);var d=o.A,f=o.R;Array.isArray(f)||(f=[String(f)]),Md(d.i,"t",f),o.C=0,d=o.j.J,o.h=new yd,o.g=Jd(o.j,d?u:null,!o.m),0<o.O&&(o.M=new Ov(I(o.Y,o,o.g),o.O)),u=o.U,d=o.g,f=o.ca;var b="readystatechange";Array.isArray(b)||(b&&(cd[0]=b.toString()),b=cd);for(var A=0;A<b.length;A++){var k=uo(d,b[A],f||u.handleEvent,!1,u.h||u);if(!k)break;u.g[k.key]=k}u=o.H?m(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Ur(),Fv(o.i,o.u,o.A,o.l,o.R,o.m)}Zt.prototype.ca=function(o){o=o.target;let u=this.M;u&&Bt(o)==3?u.j():this.Y(o)},Zt.prototype.Y=function(o){try{if(o==this.g)e:{let qe=Bt(this.g);var u=this.g.Ba();let er=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||jd(this.g)))){this.J||qe!=4||u==7||(u==8||0>=er?Ur(3):Ur(2)),Sa(this);var d=this.g.Z();this.X=d;t:if(Ed(this)){var f=jd(this.g);o="";var b=f.length,A=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),$r(this);var k="";break t}this.h.i=new c.TextDecoder}for(u=0;u<b;u++)this.h.h=!0,o+=this.h.i.decode(f[u],{stream:!(A&&u==b-1)});f.length=0,this.h.g+=o,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=d==200,Lv(this.i,this.u,this.A,this.l,this.R,qe,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ie,ke=this.g;if((ie=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ie)){var Z=ie;break t}}Z=null}if(d=Z)Jn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,d);else{this.o=!1,this.s=3,Ge(12),wn(this),$r(this);break e}}if(this.P){d=!0;let yt;for(;!this.J&&this.C<k.length;)if(yt=Bv(this,k),yt==Ca){qe==4&&(this.s=4,Ge(14),d=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==_d){this.s=4,Ge(15),Jn(this.i,this.l,k,"[Invalid Chunk]"),d=!1;break}else Jn(this.i,this.l,yt,null),Aa(this,yt);if(Ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||k.length!=0||this.h.h||(this.s=1,Ge(16),d=!1),this.o=this.o&&d,!d)Jn(this.i,this.l,k,"[Invalid Chunked Response]"),wn(this),$r(this);else if(0<k.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Oa($e),$e.M=!0,Ge(11))}}else Jn(this.i,this.l,k,null),Aa(this,k);qe==4&&wn(this),this.o&&!this.J&&(qe==4?Wd(this.j,this):(this.o=!1,ts(this)))}else iE(this.g),d==400&&0<k.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),wn(this),$r(this)}}}catch{}finally{}};function Ed(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Bv(o,u){var d=o.C,f=u.indexOf(`
`,d);return f==-1?Ca:(d=Number(u.substring(d,f)),isNaN(d)?_d:(f+=1,f+d>u.length?Ca:(u=u.slice(f,f+d),o.C=f+d,u)))}Zt.prototype.cancel=function(){this.J=!0,wn(this)};function ts(o){o.S=Date.now()+o.I,wd(o,o.I)}function wd(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=jr(I(o.ba,o),u)}function Sa(o){o.B&&(c.clearTimeout(o.B),o.B=null)}Zt.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(Uv(this.i,this.A),this.L!=2&&(Ur(),Ge(17)),wn(this),this.s=2,$r(this)):wd(this,this.S-o)};function $r(o){o.j.G==0||o.J||Wd(o.j,o)}function wn(o){Sa(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,ld(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function Aa(o,u){try{var d=o.j;if(d.G!=0&&(d.g==o||xa(d.h,o))){if(!o.K&&xa(d.h,o)&&d.G==3){try{var f=d.Da.g.parse(u)}catch{f=null}if(Array.isArray(f)&&f.length==3){var b=f;if(b[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)ls(d),as(d);else break e;Ma(d),Ge(18)}}else d.za=b[1],0<d.za-d.T&&37500>b[2]&&d.F&&d.v==0&&!d.C&&(d.C=jr(I(d.Za,d),6e3));if(1>=Td(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else bn(d,11)}else if((o.K||d.g==o)&&ls(d),!L(u))for(b=d.Da.g.parse(u),u=0;u<b.length;u++){let Z=b[u];if(d.T=Z[0],Z=Z[1],d.G==2)if(Z[0]=="c"){d.K=Z[1],d.ia=Z[2];let $e=Z[3];$e!=null&&(d.la=$e,d.j.info("VER="+d.la));let qe=Z[4];qe!=null&&(d.Aa=qe,d.j.info("SVER="+d.Aa));let er=Z[5];er!=null&&typeof er=="number"&&0<er&&(f=1.5*er,d.L=f,d.j.info("backChannelRequestTimeoutMs_="+f)),f=d;let yt=o.g;if(yt){let ds=yt.g?yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var A=f.h;A.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Ra(A,A.h),A.h=null))}if(f.D){let ka=yt.g?yt.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(f.ya=ka,ce(f.I,f.D,ka))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),f=d;var k=o;if(f.qa=Yd(f,f.J?f.ia:null,f.W),k.K){Cd(f.h,k);var ie=k,ke=f.L;ke&&(ie.I=ke),ie.B&&(Sa(ie),ts(ie)),f.g=k}else Hd(f);0<d.i.length&&cs(d)}else Z[0]!="stop"&&Z[0]!="close"||bn(d,7);else d.G==3&&(Z[0]=="stop"||Z[0]=="close"?Z[0]=="stop"?bn(d,7):Na(d):Z[0]!="noop"&&d.l&&d.l.ta(Z),d.v=0)}}Ur(4)}catch{}}var $v=class{constructor(o,u){this.g=o,this.map=u}};function Id(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Td(o){return o.h?1:o.g?o.g.size:0}function xa(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Ra(o,u){o.g?o.g.add(u):o.h=u}function Cd(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Id.prototype.cancel=function(){if(this.i=Dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function Dd(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(let d of o.g.values())u=u.concat(d.D);return u}return M(o.i)}function qv(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(l(o)){for(var u=[],d=o.length,f=0;f<d;f++)u.push(o[f]);return u}u=[],d=0;for(f in o)u[d++]=o[f];return u}function zv(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(l(o)||typeof o=="string"){var u=[];o=o.length;for(var d=0;d<o;d++)u.push(d);return u}u=[],d=0;for(let f in o)u[d++]=f;return u}}}function Sd(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(l(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var d=zv(o),f=qv(o),b=f.length,A=0;A<b;A++)u.call(void 0,f[A],d&&d[A],o)}var Ad=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hv(o,u){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var f=o[d].indexOf("="),b=null;if(0<=f){var A=o[d].substring(0,f);b=o[d].substring(f+1)}else A=o[d];u(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function In(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof In){this.h=o.h,ns(this,o.j),this.o=o.o,this.g=o.g,rs(this,o.s),this.l=o.l;var u=o.i,d=new Hr;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),xd(this,d),this.m=o.m}else o&&(u=String(o).match(Ad))?(this.h=!1,ns(this,u[1]||"",!0),this.o=qr(u[2]||""),this.g=qr(u[3]||"",!0),rs(this,u[4]),this.l=qr(u[5]||"",!0),xd(this,u[6]||"",!0),this.m=qr(u[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}In.prototype.toString=function(){var o=[],u=this.j;u&&o.push(zr(u,Rd,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(zr(u,Rd,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(zr(d,d.charAt(0)=="/"?Kv:Wv,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",zr(d,Yv)),o.join("")};function jt(o){return new In(o)}function ns(o,u,d){o.j=d?qr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function rs(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function xd(o,u,d){u instanceof Hr?(o.i=u,Jv(o.i,o.h)):(d||(u=zr(u,Qv)),o.i=new Hr(u,o.h))}function ce(o,u,d){o.i.set(u,d)}function is(o){return ce(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function qr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function zr(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,Gv),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Gv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Rd=/[#\/\?@]/g,Wv=/[#\?:]/g,Kv=/[#\?]/g,Qv=/[#\?@]/g,Yv=/#/g;function Hr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function en(o){o.g||(o.g=new Map,o.h=0,o.i&&Hv(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}n=Hr.prototype,n.add=function(o,u){en(this),this.i=null,o=Xn(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function Pd(o,u){en(o),u=Xn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Nd(o,u){return en(o),u=Xn(o,u),o.g.has(u)}n.forEach=function(o,u){en(this),this.g.forEach(function(d,f){d.forEach(function(b){o.call(u,b,f,this)},this)},this)},n.na=function(){en(this);let o=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let f=0;f<u.length;f++){let b=o[f];for(let A=0;A<b.length;A++)d.push(u[f])}return d},n.V=function(o){en(this);let u=[];if(typeof o=="string")Nd(this,o)&&(u=u.concat(this.g.get(Xn(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)u=u.concat(o[d])}return u},n.set=function(o,u){return en(this),this.i=null,o=Xn(this,o),Nd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},n.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function Md(o,u,d){Pd(o,u),0<d.length&&(o.i=null,o.g.set(Xn(o,u),M(d)),o.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var f=u[d];let A=encodeURIComponent(String(f)),k=this.V(f);for(f=0;f<k.length;f++){var b=A;k[f]!==""&&(b+="="+encodeURIComponent(String(k[f]))),o.push(b)}}return this.i=o.join("&")};function Xn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Jv(o,u){u&&!o.j&&(en(o),o.i=null,o.g.forEach(function(d,f){var b=f.toLowerCase();f!=b&&(Pd(this,f),Md(this,b,d))},o)),o.j=u}function Xv(o,u){let d=new Br;if(c.Image){let f=new Image;f.onload=T(tn,d,"TestLoadImage: loaded",!0,u,f),f.onerror=T(tn,d,"TestLoadImage: error",!1,u,f),f.onabort=T(tn,d,"TestLoadImage: abort",!1,u,f),f.ontimeout=T(tn,d,"TestLoadImage: timeout",!1,u,f),c.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=o}else u(!1)}function Zv(o,u){let d=new Br,f=new AbortController,b=setTimeout(()=>{f.abort(),tn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:f.signal}).then(A=>{clearTimeout(b),A.ok?tn(d,"TestPingServer: ok",!0,u):tn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(b),tn(d,"TestPingServer: error",!1,u)})}function tn(o,u,d,f,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),f(d)}catch{}}function eE(){this.g=new Vv}function tE(o,u,d){let f=d||"";try{Sd(o,function(b,A){let k=b;h(b)&&(k=Ea(b)),u.push(f+A+"="+encodeURIComponent(k))})}catch(b){throw u.push(f+"type="+encodeURIComponent("_badmap")),b}}function Gr(o){this.l=o.Ub||null,this.j=o.eb||!1}P(Gr,wa),Gr.prototype.g=function(){return new ss(this.l,this.j)},Gr.prototype.i=function(o){return function(){return o}}({});function ss(o,u){Pe.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ss,Pe),n=ss.prototype,n.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Kr(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Od(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Od(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Wr(this):Kr(this),this.readyState==3&&Od(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,Wr(this))},n.Qa=function(o){this.g&&(this.response=o,Wr(this))},n.ga=function(){this.g&&Wr(this)};function Wr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Kr(o)}n.setRequestHeader=function(o,u){this.u.append(o,u)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function Kr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function kd(o){let u="";return G(o,function(d,f){u+=f,u+=":",u+=d,u+=`\r
`}),u}function Pa(o,u,d){e:{for(f in d){var f=!1;break e}f=!0}f||(d=kd(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):ce(o,u,d))}function me(o){Pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(me,Pe);var nE=/^https?$/i,rE=["POST","PUT"];n=me.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,u,d,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ta.g(),this.v=this.o?ud(this.o):ud(Ta),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(A){Vd(this,A);return}if(o=d||"",d=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var b in f)d.set(b,f[b]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(let A of f.keys())d.set(A,f.get(A));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(d.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(rE,u,void 0))||f||b||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of d)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ud(this),this.u=!0,this.g.send(o),this.u=!1}catch(A){Vd(this,A)}};function Vd(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,Fd(o),os(o)}function Fd(o){o.A||(o.A=!0,Fe(o,"complete"),Fe(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Fe(this,"complete"),Fe(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),me.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ld(this):this.bb())},n.bb=function(){Ld(this)};function Ld(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Bt(o)!=4||o.Z()!=2)){if(o.u&&Bt(o)==4)od(o.Ea,0,o);else if(Fe(o,"readystatechange"),Bt(o)==4){o.h=!1;try{let k=o.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var f;if(f=k===0){var b=String(o.D).match(Ad)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),f=!nE.test(b?b.toLowerCase():"")}d=f}if(d)Fe(o,"complete"),Fe(o,"success");else{o.m=6;try{var A=2<Bt(o)?o.g.statusText:""}catch{A=""}o.l=A+" ["+o.Z()+"]",Fd(o)}}finally{os(o)}}}}function os(o,u){if(o.g){Ud(o);let d=o.g,f=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||Fe(o,"ready");try{d.onreadystatechange=f}catch{}}}function Ud(o){o.I&&(c.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function Bt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),kv(u)}};function jd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function iE(o){let u={};o=(o.g&&2<=Bt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<o.length;f++){if(L(o[f]))continue;var d=w(o[f]);let b=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let A=u[b]||[];u[b]=A,A.push(d)}E(u,function(f){return f.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function Bd(o){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,o),this.cb=Qr("retryDelaySeedMs",1e4,o),this.Wa=Qr("forwardChannelMaxRetries",2,o),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Id(o&&o.concurrentRequestLimit),this.Da=new eE,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bd.prototype,n.la=8,n.G=1,n.connect=function(o,u,d,f){Ge(0),this.W=o,this.H=u||{},d&&f!==void 0&&(this.H.OSID=d,this.H.OAID=f),this.F=this.X,this.I=Yd(this,null,this.W),cs(this)};function Na(o){if($d(o),o.G==3){var u=o.U++,d=jt(o.I);if(ce(d,"SID",o.K),ce(d,"RID",u),ce(d,"TYPE","terminate"),Yr(o,d),u=new Zt(o,o.j,u),u.L=2,u.v=is(jt(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=u.v,d=!0),d||(u.g=Jd(u.j,null),u.g.ea(u.v)),u.F=Date.now(),ts(u)}Qd(o)}function as(o){o.g&&(Oa(o),o.g.cancel(),o.g=null)}function $d(o){as(o),o.u&&(c.clearTimeout(o.u),o.u=null),ls(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function cs(o){if(!bd(o.h)&&!o.s){o.s=!0;var u=o.Ga;mt||fi(),un||(mt(),un=!0),vn.add(u,o),o.B=0}}function sE(o,u){return Td(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=jr(I(o.Ga,o,u),Kd(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let b=new Zt(this,this.j,o),A=this.o;if(this.S&&(A?(A=m(A),v(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var f=this.i[d];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(u+=f,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=zd(this,b,u),d=jt(this.I),ce(d,"RID",o),ce(d,"CVER",22),this.D&&ce(d,"X-HTTP-Session-Id",this.D),Yr(this,d),A&&(this.O?u="headers="+encodeURIComponent(String(kd(A)))+"&"+u:this.m&&Pa(d,this.m,A)),Ra(this.h,b),this.Ua&&ce(d,"TYPE","init"),this.P?(ce(d,"$req",u),ce(d,"SID","null"),b.T=!0,Da(b,d,null)):Da(b,d,u),this.G=2}}else this.G==3&&(o?qd(this,o):this.i.length==0||bd(this.h)||qd(this))};function qd(o,u){var d;u?d=u.l:d=o.U++;let f=jt(o.I);ce(f,"SID",o.K),ce(f,"RID",d),ce(f,"AID",o.T),Yr(o,f),o.m&&o.o&&Pa(f,o.m,o.o),d=new Zt(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),u&&(o.i=u.D.concat(o.i)),u=zd(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ra(o.h,d),Da(d,f,u)}function Yr(o,u){o.H&&G(o.H,function(d,f){ce(u,f,d)}),o.l&&Sd({},function(d,f){ce(u,f,d)})}function zd(o,u,d){d=Math.min(o.i.length,d);var f=o.l?I(o.l.Na,o.l,o):null;e:{var b=o.i;let A=-1;for(;;){let k=["count="+d];A==-1?0<d?(A=b[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let ie=!0;for(let ke=0;ke<d;ke++){let Z=b[ke].g,$e=b[ke].map;if(Z-=A,0>Z)A=Math.max(0,b[ke].g-100),ie=!1;else try{tE($e,k,"req"+Z+"_")}catch{f&&f($e)}}if(ie){f=k.join("&");break e}}}return o=o.i.splice(0,d),u.D=o,f}function Hd(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;mt||fi(),un||(mt(),un=!0),vn.add(u,o),o.v=0}}function Ma(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=jr(I(o.Fa,o),Kd(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,Gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=jr(I(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),as(this),Gd(this))};function Oa(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function Gd(o){o.g=new Zt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=jt(o.qa);ce(u,"RID","rpc"),ce(u,"SID",o.K),ce(u,"AID",o.T),ce(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&ce(u,"TO",o.ja),ce(u,"TYPE","xmlhttp"),Yr(o,u),o.m&&o.o&&Pa(u,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=is(jt(u)),d.m=null,d.P=!0,vd(d,o)}n.Za=function(){this.C!=null&&(this.C=null,as(this),Ma(this),Ge(19))};function ls(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function Wd(o,u){var d=null;if(o.g==u){ls(o),Oa(o),o.g=null;var f=2}else if(xa(o.h,u))d=u.D,Cd(o.h,u),f=1;else return;if(o.G!=0){if(u.o)if(f==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var b=o.B;f=Xi(),Fe(f,new md(f,d)),cs(o)}else Hd(o);else if(b=u.s,b==3||b==0&&0<u.X||!(f==1&&sE(o,u)||f==2&&Ma(o)))switch(d&&0<d.length&&(u=o.h,u.i=u.i.concat(d)),b){case 1:bn(o,5);break;case 4:bn(o,10);break;case 3:bn(o,6);break;default:bn(o,2)}}}function Kd(o,u){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*u}function bn(o,u){if(o.j.info("Error code "+u),u==2){var d=I(o.fb,o),f=o.Xa;let b=!f;f=new In(f||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ns(f,"https"),is(f),b?Xv(f.toString(),d):Zv(f.toString(),d)}else Ge(2);o.G=0,o.l&&o.l.sa(u),Qd(o),$d(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Qd(o){if(o.G=0,o.ka=[],o.l){let u=Dd(o.h);(u.length!=0||o.i.length!=0)&&(N(o.ka,u),N(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function Yd(o,u,d){var f=d instanceof In?jt(d):new In(d);if(f.g!="")u&&(f.g=u+"."+f.g),rs(f,f.s);else{var b=c.location;f=b.protocol,u=u?u+"."+b.hostname:b.hostname,b=+b.port;var A=new In(null);f&&ns(A,f),u&&(A.g=u),b&&rs(A,b),d&&(A.l=d),f=A}return d=o.D,u=o.ya,d&&u&&ce(f,d,u),ce(f,"VER",o.la),Yr(o,f),f}function Jd(o,u,d){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new me(new Gr({eb:d})):new me(o.pa),u.Ha(o.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xd(){}n=Xd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function us(){}us.prototype.g=function(o,u){return new rt(o,u)};function rt(o,u){Pe.call(this),this.g=new Bd(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!L(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!L(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Zn(this)}P(rt,Pe),rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rt.prototype.close=function(){Na(this.g)},rt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Ea(o),o=d);u.i.push(new $v(u.Ya++,o)),u.G==3&&cs(u)},rt.prototype.N=function(){this.g.l=null,delete this.j,Na(this.g),delete this.g,rt.aa.N.call(this)};function Zd(o){Ia.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(let d in u){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}P(Zd,Ia);function eh(){ba.call(this),this.status=1}P(eh,ba);function Zn(o){this.g=o}P(Zn,Xd),Zn.prototype.ua=function(){Fe(this.g,"a")},Zn.prototype.ta=function(o){Fe(this.g,new Zd(o))},Zn.prototype.sa=function(o){Fe(this.g,new eh)},Zn.prototype.ra=function(){Fe(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,rt.prototype.send=rt.prototype.o,rt.prototype.open=rt.prototype.m,rt.prototype.close=rt.prototype.close,eT=Ks.createWebChannelTransport=function(){return new us},Zb=Ks.getStatEventTarget=function(){return Xi()},Xb=Ks.Event=En,Gy=Ks.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Of=Ks.ErrorCode=Zi,gd.COMPLETE="complete",Jb=Ks.EventType=gd,dd.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,wu=Ks.WebChannel=dd,mK=Ks.FetchXmlHttpFactory=Gr,me.prototype.listenOnce=me.prototype.L,me.prototype.getLastError=me.prototype.Ka,me.prototype.getLastErrorCode=me.prototype.Ba,me.prototype.getStatus=me.prototype.Z,me.prototype.getResponseJson=me.prototype.Oa,me.prototype.getResponseText=me.prototype.oa,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Ha,Yb=Ks.XhrIo=me}).apply(typeof Hy<"u"?Hy:typeof self<"u"?self:typeof window<"u"?window:{});var VO="@firebase/firestore";var Yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");var $u="11.0.2";var Dc=new Eu("@firebase/firestore");function Iu(){return Dc.logLevel}function Y(n,...e){if(Dc.logLevel<=Ue.DEBUG){let t=e.map($C);Dc.debug(`Firestore (${$u}): ${n}`,...t)}}function Ys(n,...e){if(Dc.logLevel<=Ue.ERROR){let t=e.map($C);Dc.error(`Firestore (${$u}): ${n}`,...t)}}function Au(n,...e){if(Dc.logLevel<=Ue.WARN){let t=e.map($C);Dc.warn(`Firestore (${$u}): ${n}`,...t)}}function $C(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function fe(n="Unexpected state"){let e=`FIRESTORE (${$u}) INTERNAL ASSERTION FAILED: `+n;throw Ys(e),new Error(e)}function Je(n,e){n||fe()}function ye(n,e){return n}var q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},re=class extends zs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ki=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Zy=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},sT=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yt.UNAUTHENTICATED))}shutdown(){}},oT=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},aT=class{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ki,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let l=s;e.enqueueRetryable(()=>R(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ki)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new Zy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Yt(e)}},cT=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},lT=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new cT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},uT=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},dT=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Je(this.o===void 0);let r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new uT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gK(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var e_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=gK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Ve(n,e){return n<e?-1:n>e?1:0}function xu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var on=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var we=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new on(0,0))}static max(){return new n(new on(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var t_=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&fe(),r===void 0?r=e.length-t:r>e.length-t&&fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},It=class n extends t_{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new re(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},yK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ur=class n extends t_{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return yK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new re(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new re(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(s(),i++)}if(s(),a)throw new re(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ue=class n{constructor(e){this.path=e}static fromPath(e){return new n(It.fromString(e))}static fromName(e){return new n(It.fromString(e).popFirst(5))}static empty(){return new n(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new It(e.slice()))}};var hT=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};hT.UNKNOWN_ID=-1;function _K(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new on(t+1,0):new on(t,r));return new Sc(i,ue.empty(),e)}function vK(n){return new Sc(n.readTime,n.key,-1)}var Sc=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(we.min(),ue.empty(),-1)}static max(){return new n(we.max(),ue.empty(),-1)}};function EK(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}var wK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fT=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function qu(n){return R(this,null,function*(){if(n.code!==q.FAILED_PRECONDITION||n.message!==wK)throw n;Y("LocalStore","Unexpectedly lost primary lease")})}var j=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++s,a&&s===i&&t()},l=>r(l))}),a=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,a=new Array(s),c=0;for(let l=0;l<s;l++){let h=l;t(e[h]).next(p=>{a[h]=p,++c,c===s&&r(a)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function IK(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zu(n){return n.name==="IndexedDbTransactionError"}var qC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function P_(n){return n==null}function jf(n){return n===0&&1/n==-1/0}function bK(n){return typeof n=="number"&&Number.isInteger(n)&&!jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function TK(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FO(e)),e=CK(n.get(t),e);return FO(e)}function CK(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function FO(n){return n+""}var DK=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ope=[...DK,"documentOverlays"],SK=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AK=SK,xK=[...AK,"indexConfiguration","indexState","indexEntries"];var ape=[...xK,"globals"];function LO(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var bt=class n{constructor(e,t){this.comparator=e,this.root=t||Vi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}},Du=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vi=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();let e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};Vi.EMPTY=null,Vi.RED=!0,Vi.BLACK=!1;Vi.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Vi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jt=class n{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},n_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Nr=class n{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new n([])}unionWith(e){let t=new Jt(ur.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var r_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var _n=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new r_("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};_n.EMPTY_BYTE_STRING=new _n("");var RK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(n){if(Je(!!n),typeof n=="string"){let e=0,t=RK.exec(n);if(Je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xs(n){return typeof n=="string"?_n.fromBase64String(n):_n.fromUint8Array(n)}function zC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function N_(n){let e=n.mapValue.fields.__previous_value__;return zC(e)?N_(e):e}function Bf(n){let e=Js(n.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}var pT=class{constructor(e,t,r,i,s,a,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h}},i_=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Wy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function na(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zC(n)?4:gk(n)?9007199254740991:mk(n)?10:11:fe()}function Ui(n,e){if(n===e)return!0;let t=na(n);if(t!==na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bf(n).isEqual(Bf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let a=Js(i.timestampValue),c=Js(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Xs(i.bytesValue).isEqual(Xs(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let a=pt(i.doubleValue),c=pt(s.doubleValue);return a===c?jf(a)===jf(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return xu(n.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(i,s){let a=i.mapValue.fields||{},c=s.mapValue.fields||{};if(LO(a)!==LO(c))return!1;for(let l in a)if(a.hasOwnProperty(l)&&(c[l]===void 0||!Ui(a[l],c[l])))return!1;return!0}(n,e);default:return fe()}}function $f(n,e){return(n.values||[]).find(t=>Ui(t,e))!==void 0}function Ru(n,e){if(n===e)return 0;let t=na(n),r=na(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(s,a){let c=pt(s.integerValue||s.doubleValue),l=pt(a.integerValue||a.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return UO(n.timestampValue,e.timestampValue);case 4:return UO(Bf(n),Bf(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(s,a){let c=Xs(s),l=Xs(a);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){let c=s.split("/"),l=a.split("/");for(let h=0;h<c.length&&h<l.length;h++){let p=Ve(c[h],l[h]);if(p!==0)return p}return Ve(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){let c=Ve(pt(s.latitude),pt(a.latitude));return c!==0?c:Ve(pt(s.longitude),pt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jO(n.arrayValue,e.arrayValue);case 10:return function(s,a){var c,l,h,p;let g=s.fields||{},I=a.fields||{},T=(c=g.value)===null||c===void 0?void 0:c.arrayValue,P=(l=I.value)===null||l===void 0?void 0:l.arrayValue,M=Ve(((h=T?.values)===null||h===void 0?void 0:h.length)||0,((p=P?.values)===null||p===void 0?void 0:p.length)||0);return M!==0?M:jO(T,P)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===Wy.mapValue&&a===Wy.mapValue)return 0;if(s===Wy.mapValue)return 1;if(a===Wy.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),h=a.fields||{},p=Object.keys(h);l.sort(),p.sort();for(let g=0;g<l.length&&g<p.length;++g){let I=Ve(l[g],p[g]);if(I!==0)return I;let T=Ru(c[l[g]],h[p[g]]);if(T!==0)return T}return Ve(l.length,p.length)}(n.mapValue,e.mapValue);default:throw fe()}}function UO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);let t=Js(n),r=Js(e),i=Ve(t.seconds,r.seconds);return i!==0?i:Ve(t.nanos,r.nanos)}function jO(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Ru(t[i],r[i]);if(s)return s}return Ve(t.length,r.length)}function Pu(n){return mT(n)}function mT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Js(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Xs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=mT(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let a of r)s?s=!1:i+=",",i+=`${a}:${mT(t.fields[a])}`;return i+"}"}(n.mapValue):fe()}function Yy(n){switch(na(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=N_(n);return e?16+Yy(e):16;case 5:return 2*n.stringValue.length;case 6:return Xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Yy(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return sa(r.fields,(s,a)=>{i+=s.length+Yy(a)}),i}(n.mapValue);default:throw fe()}}function gT(n){return!!n&&"integerValue"in n}function HC(n){return!!n&&"arrayValue"in n}function BO(n){return!!n&&"nullValue"in n}function $O(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jy(n){return!!n&&"mapValue"in n}function mk(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Vf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return sa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var lr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vf(t)}setAll(e){let t=ur.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=c.popLast()}a?r[c.lastSegment()]=Vf(a):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Jy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Jy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){sa(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Vf(this.value))}};function yk(n){let e=[];return sa(n.fields,(t,r)=>{let i=new ur([t]);if(Jy(r)){let s=yk(r.mapValue).fields;if(s.length===0)e.push(i);else for(let a of s)e.push(i.child(a))}else e.push(i)}),new Nr(e)}var ui=class n{constructor(e,t,r,i,s,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=c}static newInvalidDocument(e){return new n(e,0,we.min(),we.min(),we.min(),lr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,we.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,we.min(),we.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,we.min(),we.min(),lr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Nu=class{constructor(e,t){this.position=e,this.inclusive=t}};function qO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],a=n.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(a.referenceValue),t.key):r=Ru(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function zO(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ui(n.position[t],e.position[t]))return!1;return!0}var Mu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function PK(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var s_=class{},Ht=class n extends s_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _T(e,t,r):t==="array-contains"?new wT(e,r):t==="in"?new IT(e,r):t==="not-in"?new bT(e,r):t==="array-contains-any"?new TT(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new vT(e,r):new ET(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ru(t,this.value)):t!==null&&na(this.value)===na(t)&&this.matchesComparison(Ru(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ji=class n extends s_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return _k(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function _k(n){return n.op==="and"}function vk(n){return NK(n)&&_k(n)}function NK(n){for(let e of n.filters)if(e instanceof ji)return!1;return!0}function yT(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+Pu(n.value);if(vk(n))return n.filters.map(e=>yT(e)).join(",");{let e=n.filters.map(t=>yT(t)).join(",");return`${n.op}(${e})`}}function Ek(n,e){return n instanceof Ht?function(r,i){return i instanceof Ht&&r.op===i.op&&r.field.isEqual(i.field)&&Ui(r.value,i.value)}(n,e):n instanceof ji?function(r,i){return i instanceof ji&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,c)=>s&&Ek(a,i.filters[c]),!0):!1}(n,e):void fe()}function wk(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${Pu(t.value)}`}(n):n instanceof ji?function(t){return t.op.toString()+" {"+t.getFilters().map(wk).join(" ,")+"}"}(n):"Filter"}var _T=class extends Ht{constructor(e,t,r){super(e,t,r),this.key=ue.fromName(r.referenceValue)}matches(e){let t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}},vT=class extends Ht{constructor(e,t){super(e,"in",t),this.keys=Ik("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ET=class extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=Ik("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Ik(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ue.fromName(r.referenceValue))}var wT=class extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return HC(t)&&$f(t.arrayValue,this.value)}},IT=class extends Ht{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&$f(this.value.arrayValue,t)}},bT=class extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if($f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!$f(this.value.arrayValue,t)}},TT=class extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!HC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$f(this.value.arrayValue,r))}};var CT=class{constructor(e,t=null,r=[],i=[],s=null,a=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=c,this.ue=null}};function HO(n,e=null,t=[],r=[],i=null,s=null,a=null){return new CT(n,e,t,r,i,s,a)}function GC(n){let e=ye(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yT(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),P_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pu(r)).join(",")),e.ue=t}return e.ue}function WC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PK(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ek(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zO(n.startAt,e.startAt)&&zO(n.endAt,e.endAt)}function DT(n){return ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ou=class{constructor(e,t=null,r=[],i=[],s=null,a="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function MK(n,e,t,r,i,s,a,c){return new Ou(n,e,t,r,i,s,a,c)}function KC(n){return new Ou(n)}function GO(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OK(n){return n.collectionGroup!==null}function Ff(n){let e=ye(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new Jt(ur.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Mu(s,r))}),t.has(ur.keyField().canonicalString())||e.ce.push(new Mu(ur.keyField(),r))}return e.ce}function Fi(n){let e=ye(n);return e.le||(e.le=kK(e,Ff(n))),e.le}function kK(n,e){if(n.limitType==="F")return HO(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Mu(i.field,s)});let t=n.endAt?new Nu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Nu(n.startAt.position,n.startAt.inclusive):null;return HO(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ST(n,e,t){return new Ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function M_(n,e){return WC(Fi(n),Fi(e))&&n.limitType===e.limitType}function bk(n){return`${GC(Fi(n))}|lt:${n.limitType}`}function bu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>wk(i)).join(", ")}]`),P_(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Pu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Pu(i)).join(",")),`Target(${r})`}(Fi(n))}; limitType=${n.limitType})`}function O_(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of Ff(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,c,l){let h=qO(a,c,l);return a.inclusive?h<=0:h<0}(r.startAt,Ff(r),i)||r.endAt&&!function(a,c,l){let h=qO(a,c,l);return a.inclusive?h>=0:h>0}(r.endAt,Ff(r),i))}(n,e)}function VK(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Tk(n){return(e,t)=>{let r=!1;for(let i of Ff(n)){let s=FK(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FK(n,e,t){let r=n.field.isKeyField()?ue.comparator(e.key,t.key):function(s,a,c){let l=a.data.field(s),h=c.data.field(s);return l!==null&&h!==null?Ru(l,h):fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}var Zs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return pk(this.inner)}size(){return this.innerSize}};var LK=new bt(ue.comparator);function eo(){return LK}var Ck=new bt(ue.comparator);function kf(...n){let e=Ck;for(let t of n)e=e.insert(t.key,t);return e}function Dk(n){let e=Ck;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Tc(){return Lf()}function Sk(){return Lf()}function Lf(){return new Zs(n=>n.toString(),(n,e)=>n.isEqual(e))}var UK=new bt(ue.comparator),jK=new Jt(ue.comparator);function Oe(...n){let e=jK;for(let t of n)e=e.add(t);return e}var BK=new Jt(Ve);function $K(){return BK}function QC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function Ak(n){return{integerValue:""+n}}function qK(n,e){return bK(e)?Ak(e):QC(n,e)}var ku=class{constructor(){this._=void 0}};function zK(n,e,t){return n instanceof Vu?function(i,s){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zC(s)&&(s=N_(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof Ac?Rk(n,e):n instanceof xc?Pk(n,e):function(i,s){let a=xk(i,s),c=WO(a)+WO(i.Pe);return gT(a)&&gT(i.Pe)?Ak(c):QC(i.serializer,c)}(n,e)}function HK(n,e,t){return n instanceof Ac?Rk(n,e):n instanceof xc?Pk(n,e):t}function xk(n,e){return n instanceof Fu?function(r){return gT(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Vu=class extends ku{},Ac=class extends ku{constructor(e){super(),this.elements=e}};function Rk(n,e){let t=Nk(e);for(let r of n.elements)t.some(i=>Ui(i,r))||t.push(r);return{arrayValue:{values:t}}}var xc=class extends ku{constructor(e){super(),this.elements=e}};function Pk(n,e){let t=Nk(e);for(let r of n.elements)t=t.filter(i=>!Ui(i,r));return{arrayValue:{values:t}}}var Fu=class extends ku{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function WO(n){return pt(n.integerValue||n.doubleValue)}function Nk(n){return HC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function GK(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ac&&i instanceof Ac||r instanceof xc&&i instanceof xc?xu(r.elements,i.elements,Ui):r instanceof Fu&&i instanceof Fu?Ui(r.Pe,i.Pe):r instanceof Vu&&i instanceof Vu}(n.transform,e.transform)}var AT=class{constructor(e,t){this.version=e,this.transformResults=t}},Qs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Lu=class{};function Mk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new o_(n.key,Qs.none()):new Rc(n.key,n.data,Qs.none());{let t=n.data,r=lr.empty(),i=new Jt(ur.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Bi(n.key,r,new Nr(i.toArray()),Qs.none())}}function WK(n,e,t){n instanceof Rc?function(i,s,a){let c=i.value.clone(),l=QO(i.fieldTransforms,s,a.transformResults);c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Bi?function(i,s,a){if(!Xy(i.precondition,s))return void s.convertToUnknownDocument(a.version);let c=QO(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Ok(i)),l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Uf(n,e,t,r){return n instanceof Rc?function(s,a,c,l){if(!Xy(s.precondition,a))return c;let h=s.value.clone(),p=YO(s.fieldTransforms,l,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Bi?function(s,a,c,l){if(!Xy(s.precondition,a))return c;let h=YO(s.fieldTransforms,l,a),p=a.data;return p.setAll(Ok(s)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,a,c){return Xy(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(n,e,t)}function KK(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=xk(r.transform,i||null);s!=null&&(t===null&&(t=lr.empty()),t.set(r.field,s))}return t||null}function KO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xu(r,i,(s,a)=>GK(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Rc=class extends Lu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bi=class extends Lu{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Ok(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function QO(n,e,t){let r=new Map;Je(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],a=s.transform,c=e.data.field(s.field);r.set(s.field,HK(a,c,t[i]))}return r}function YO(n,e,t){let r=new Map;for(let i of n){let s=i.transform,a=t.data.field(i.field);r.set(i.field,zK(s,a,e))}return r}var o_=class extends Lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xT=class extends Lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var RT=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&WK(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Uf(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Uf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Sk();return this.mutations.forEach(i=>{let s=e.get(i.key),a=s.overlayedDocument,c=this.applyToLocalView(a,s.mutatedFields);c=t.has(i.key)?null:c;let l=Mk(a,c);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,(t,r)=>KO(t,r))&&xu(this.baseMutations,e.baseMutations,(t,r)=>KO(t,r))}},PT=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Je(e.mutations.length===r.length);let i=function(){return UK}(),s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new n(e,t,r,i)}};var NT=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var MT=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ft,je;function QK(n){switch(n){default:return fe();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function kk(n){if(n===void 0)return Ys("GRPC error has no .code"),q.UNKNOWN;switch(n){case Ft.OK:return q.OK;case Ft.CANCELLED:return q.CANCELLED;case Ft.UNKNOWN:return q.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return q.INTERNAL;case Ft.UNAVAILABLE:return q.UNAVAILABLE;case Ft.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ft.NOT_FOUND:return q.NOT_FOUND;case Ft.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ft.ABORTED:return q.ABORTED;case Ft.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ft.DATA_LOSS:return q.DATA_LOSS;default:return fe()}}(je=Ft||(Ft={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";var JO=null;function YK(){return new TextEncoder}var JK=new ea([4294967295,4294967295],0);function XO(n){let e=YK().encode(n),t=new Qb;return t.update(e),new Uint8Array(t.digest())}function ZO(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ea([t,r],0),new ea([i,s],0)]}var OT=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cc(`Invalid padding: ${t}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ea.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(ea.fromNumber(r)));return i.compare(JK)===1&&(i=new ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let t=XO(e),[r,i]=ZO(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new n(s,i,t);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Te===0)return;let t=XO(e),[r,i]=ZO(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Cc=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var a_=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(we.min(),i,new bt(Ve),eo(),Oe())}},qf=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Oe(),Oe(),Oe())}};var Su=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},c_=class{constructor(e,t){this.targetId=e,this.me=t}},l_=class{constructor(e,t,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},u_=class{constructor(){this.fe=0,this.ge=ek(),this.pe=_n.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),t=Oe(),r=Oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new qf(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ek()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},kT=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=eo(),this.qe=Ky(),this.Qe=Ky(),this.Ke=new bt(Ve)}$e(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{let r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){let t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){let s=i.target;if(DT(s))if(r===0){let a=new ue(s.path);this.We(t,a,ui.newNoDocument(a,we.min()))}else Je(r===1);else{let a=this.Ze(t);if(a!==r){let c=this.Xe(e),l=c?this.et(c,e,a):1;if(l!==0){this.He(t);let h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,h)}JO?.tt(function(p,g,I,T,P){var M,N,V,L,F,z;let J={localCacheCount:p,existenceFilterCount:g.count,databaseId:I.database,projectId:I.projectId},G=g.unchangedNames;return G&&(J.bloomFilter={applied:P===0,hashCount:(M=G?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(L=(V=(N=G?.bits)===null||N===void 0?void 0:N.bitmap)===null||V===void 0?void 0:V.length)!==null&&L!==void 0?L:0,padding:(z=(F=G?.bits)===null||F===void 0?void 0:F.padding)!==null&&z!==void 0?z:0,mightContain:E=>{var m;return(m=T?.mightContain(E))!==null&&m!==void 0&&m}}),J}(a,e.me,this.Le.nt(),c,l))}}}}Xe(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,a,c;try{a=Xs(r).toUint8Array()}catch(l){if(l instanceof r_)return Au("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new OT(a,i,s)}catch(l){return Au(l instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Te===0?null:c}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let a=this.Le.nt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.We(t,s,null),i++)}),i}it(e){let t=new Map;this.Be.forEach((s,a)=>{let c=this.Ye(a);if(c){if(s.current&&DT(c.target)){let l=new ue(c.target.path);this.st(l).has(a)||this.ot(a,l)||this.We(a,l,ui.newNoDocument(l,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let r=Oe();this.Qe.forEach((s,a)=>{let c=!0;a.forEachWhile(l=>{let h=this.Ye(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));let i=new a_(e,t,this.Ke,this.ke,r);return this.ke=eo(),this.qe=Ky(),this.Qe=Ky(),this.Ke=new bt(Ve),i}Ue(e,t){if(!this.je(e))return;let r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;let i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new u_,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Jt(Ve),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Jt(Ve),this.qe=this.qe.insert(e,t)),t}je(e){let t=this.Ye(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new u_),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Ky(){return new bt(ue.comparator)}function ek(){return new bt(ue.comparator)}var XK={asc:"ASCENDING",desc:"DESCENDING"},ZK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e7={and:"AND",or:"OR"},VT=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function FT(n,e){return n.useProto3Json||P_(e)?e:{value:e}}function d_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vk(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function t7(n,e){return d_(n,e.toTimestamp())}function Li(n){return Je(!!n),we.fromTimestamp(function(t){let r=Js(t);return new on(r.seconds,r.nanos)}(n))}function YC(n,e){return LT(n,e).canonicalString()}function LT(n,e){let t=function(i){return new It(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Fk(n){let e=It.fromString(n);return Je($k(e)),e}function UT(n,e){return YC(n.databaseId,e.path)}function tT(n,e){let t=Fk(e);if(t.get(1)!==n.databaseId.projectId)throw new re(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ue(Uk(t))}function Lk(n,e){return YC(n.databaseId,e)}function n7(n){let e=Fk(n);return e.length===4?It.emptyPath():Uk(e)}function jT(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Uk(n){return Je(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function tk(n,e,t){return{name:UT(n,e),fields:t.value.mapValue.fields}}function r7(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(Je(p===void 0||typeof p=="string"),_n.fromBase64String(p||"")):(Je(p===void 0||p instanceof Buffer||p instanceof Uint8Array),_n.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(h){let p=h.code===void 0?q.UNKNOWN:kk(h.code);return new re(p,h.message||"")}(a);t=new l_(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=tT(n,r.document.name),s=Li(r.document.updateTime),a=r.document.createTime?Li(r.document.createTime):we.min(),c=new lr({mapValue:{fields:r.document.fields}}),l=ui.newFoundDocument(i,s,a,c),h=r.targetIds||[],p=r.removedTargetIds||[];t=new Su(h,p,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=tT(n,r.document),s=r.readTime?Li(r.readTime):we.min(),a=ui.newNoDocument(i,s),c=r.removedTargetIds||[];t=new Su([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=tT(n,r.document),s=r.removedTargetIds||[];t=new Su([],s,i,null)}else{if(!("filter"in e))return fe();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,a=new MT(i,s),c=r.targetId;t=new c_(c,a)}}return t}function i7(n,e){let t;if(e instanceof Rc)t={update:tk(n,e.key,e.value)};else if(e instanceof o_)t={delete:UT(n,e.key)};else if(e instanceof Bi)t={update:tk(n,e.key,e.data),updateMask:f7(e.fieldMask)};else{if(!(e instanceof xT))return fe();t={verify:UT(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){let c=a.transform;if(c instanceof Vu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ac)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Fu)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw fe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:t7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(n,e.precondition)),t}function s7(n,e){return n&&n.length>0?(Je(e!==void 0),n.map(t=>function(i,s){let a=i.updateTime?Li(i.updateTime):Li(s);return a.isEqual(we.min())&&(a=Li(s)),new AT(a,i.transformResults||[])}(t,e))):[]}function o7(n,e){return{documents:[Lk(n,e.path)]}}function a7(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Lk(n,i);let s=function(h){if(h.length!==0)return Bk(ji.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(h){if(h.length!==0)return h.map(p=>function(I){return{field:Tu(I.field),direction:u7(I.dir)}}(p))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let c=FT(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ct:t,parent:i}}function c7(n){let e=n7(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Je(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(g){let I=jk(g);return I instanceof ji&&vk(I)?I.getFilters():[I]}(t.where));let a=[];t.orderBy&&(a=function(g){return g.map(I=>function(P){return new Mu(Cu(P.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(I))}(t.orderBy));let c=null;t.limit&&(c=function(g){let I;return I=typeof g=="object"?g.value:g,P_(I)?null:I}(t.limit));let l=null;t.startAt&&(l=function(g){let I=!!g.before,T=g.values||[];return new Nu(T,I)}(t.startAt));let h=null;return t.endAt&&(h=function(g){let I=!g.before,T=g.values||[];return new Nu(T,I)}(t.endAt)),MK(e,i,a,s,c,"F",l,h)}function l7(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jk(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Cu(t.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Cu(t.unaryFilter.field);return Ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Cu(t.unaryFilter.field);return Ht.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Cu(t.unaryFilter.field);return Ht.create(a,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(Cu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ji.create(t.compositeFilter.filters.map(r=>jk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(t.compositeFilter.op))}(n):fe()}function u7(n){return XK[n]}function d7(n){return ZK[n]}function h7(n){return e7[n]}function Tu(n){return{fieldPath:n.canonicalString()}}function Cu(n){return ur.fromServerFormat(n.fieldPath)}function Bk(n){return n instanceof Ht?function(t){if(t.op==="=="){if($O(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NAN"}};if(BO(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($O(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NOT_NAN"}};if(BO(t.value))return{unaryFilter:{field:Tu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tu(t.field),op:d7(t.op),value:t.value}}}(n):n instanceof ji?function(t){let r=t.getFilters().map(i=>Bk(i));return r.length===1?r[0]:{compositeFilter:{op:h7(t.op),filters:r}}}(n):fe()}function f7(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $k(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var zf=class n{constructor(e,t,r,i,s=we.min(),a=we.min(),c=_n.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var BT=class{constructor(e){this.ht=e}};function p7(n){let e=c7({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ST(e,e.limit,"L"):e}var h_=class{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(pt(e.integerValue));else if("doubleValue"in e){let r=pt(e.doubleValue);isNaN(r)?this.Rt(t,13):(this.Rt(t,15),jf(r)?t.Vt(0):t.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(t,20),typeof r=="string"&&(r=Js(r)),t.ft(`${r.seconds||""}`),t.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(Xs(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Rt(t,45),t.Vt(r.latitude||0),t.Vt(r.longitude||0)}else"mapValue"in e?gk(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):mk(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):fe()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){let r=e.fields||{};this.Rt(t,55);for(let i of Object.keys(r))this.gt(i,t),this.dt(r[i],t)}bt(e,t){var r,i;let s=e.fields||{};this.Rt(t,53);let a="value",c=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(t,15),t.Vt(pt(c)),this.gt(a,t),this.dt(s[a],t)}vt(e,t){let r=e.values||[];this.Rt(t,50);for(let i of r)this.dt(i,t)}St(e,t){this.Rt(t,37),ue.fromName(e).path.forEach(r=>{this.Rt(t,60),this.Ct(r,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}};h_.Ft=new h_;var $T=class{constructor(){this.ln=new qT}addToCollectionParentIndex(e,t){return this.ln.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(Sc.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(Sc.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}},qT=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Jt(It.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(It.comparator)).toArray()}};var lpe=new Uint8Array(0);var nk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(41943040,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);var Hf=class n{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new n(0)}static Qn(){return new n(-1)}};function rk([n,e],[t,r]){let i=Ve(n,t);return i===0?Ve(e,r):i}var zT=class{constructor(e){this.Gn=e,this.buffer=new Jt(rk),this.zn=0}jn(){return++this.zn}Hn(e){let t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();rk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},HT=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>R(this,null,function*(){this.Jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){zu(t)?Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield qu(t)}yield this.Yn(3e5)}))}},GT=class{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return j.resolve(qC.oe);let r=new zT(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(nk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nk):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,s,a,c,l,h,p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,c=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),Iu()<=Ue.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${s} targets in `+(l-c)+`ms
	Removed ${g} documents in `+(h-l)+`ms
Total Duration: ${h-p}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}};function m7(n,e){return new GT(n,e)}var WT=class{constructor(){this.changes=new Zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var KT=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var QT=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Uf(r.mutation,i,Nr.empty(),on.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Oe()){let i=Tc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=kf();return s.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let r=Tc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Oe()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,c)=>{t.set(a,c)})})}computeViews(e,t,r,i){let s=eo(),a=Lf(),c=function(){return Lf()}();return t.forEach((l,h)=>{let p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Bi)?s=s.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),Uf(p.mutation,h,p.mutation.getFieldMask(),on.now())):a.set(h.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((h,p)=>a.set(h,p)),t.forEach((h,p)=>{var g;return c.set(h,new KT(p,(g=a.get(h))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Lf(),i=new bt((a,c)=>a-c),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let c of a)c.keys().forEach(l=>{let h=t.get(l);if(h===null)return;let p=r.get(l)||Nr.empty();p=c.applyToLocalView(h,p),r.set(l,p);let g=(i.get(c.batchId)||Oe()).add(l);i=i.insert(c.batchId,g)})}).next(()=>{let a=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),h=l.key,p=l.value,g=Sk();p.forEach(I=>{if(!s.has(I)){let T=Mk(t.get(I),r.get(I));T!==null&&g.set(I,T),s=s.add(I)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return j.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return ue.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OK(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):j.resolve(Tc()),c=-1,l=s;return a.next(h=>j.forEach(h,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(p)?j.resolve():this.remoteDocumentCache.getEntry(e,p).next(I=>{l=l.insert(p,I)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,l,h,Oe())).next(p=>({batchId:c,changes:Dk(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(r=>{let i=kf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,a=kf();return this.indexManager.getCollectionParents(e,s).next(c=>j.forEach(c,l=>{let h=function(g,I){return new Ou(I,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,I)=>{a=a.insert(g,I)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((l,h)=>{let p=h.getKey();a.get(p)===null&&(a=a.insert(p,ui.newInvalidDocument(p)))});let c=kf();return a.forEach((l,h)=>{let p=s.get(l);p!==void 0&&Uf(p.mutation,h,Nr.empty(),on.now()),O_(t,h)&&(c=c.insert(l,h))}),c})}};var YT=class{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return j.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Li(i.createTime)}}(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:p7(i.bundledQuery),readTime:Li(i.readTime)}}(t)),j.resolve()}};var JT=class{constructor(){this.overlays=new bt(ue.comparator),this.Er=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Tc();return j.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Tt(e,t,s)}),j.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){let i=Tc(),s=t.length+1,a=new ue(t.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let l=c.getNext().value,h=l.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new bt((h,p)=>h-p),a=this.overlays.getIterator();for(;a.hasNext();){let h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=Tc(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}let c=Tc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=i)););return j.resolve(c)}Tt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new NT(t,r));let s=this.Er.get(t);s===void 0&&(s=Oe(),this.Er.set(t,s)),this.Er.set(t,s.add(r.key))}};var XT=class{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}};var Gf=class{constructor(){this.dr=new Jt(Lt.Ar),this.Rr=new Jt(Lt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){let r=new Lt(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Lt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){let t=new ue(new It([])),r=new Lt(t,e),i=new Lt(t,e+1),s=[];return this.Rr.forEachInRange([r,i],a=>{this.gr(a),s.push(a.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){let t=new ue(new It([])),r=new Lt(t,e),i=new Lt(t,e+1),s=Oe();return this.Rr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new Lt(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Lt=class{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ue.comparator(e.key,t.key)||Ve(e.br,t.br)}static Vr(e,t){return Ve(e.br,t.br)||ue.comparator(e.key,t.key)}};var ZT=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Jt(Lt.Ar)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new RT(s,t,r,i);this.mutationQueue.push(a);for(let c of i)this.vr=this.vr.add(new Lt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return j.resolve(a)}lookupMutationBatch(e,t){return j.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Fr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Lt(t,0),i=new Lt(t,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],a=>{let c=this.Cr(a.br);s.push(c)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jt(Ve);return t.forEach(i=>{let s=new Lt(i,0),a=new Lt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,a],c=>{r=r.add(c.br)})}),j.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ue.isDocumentKey(s)||(s=s.child(""));let a=new Lt(new ue(s),0),c=new Jt(Ve);return this.vr.forEachWhile(l=>{let h=l.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(l.br)),!0)},a),j.resolve(this.Mr(c))}Mr(e){let t=[];return e.forEach(r=>{let i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Je(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return j.forEach(t.mutations,i=>{let s=new Lt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){let r=new Lt(t,0),i=this.vr.firstAfterOrEqual(r);return j.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){let t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var eC=class{constructor(e){this.Nr=e,this.docs=function(){return new bt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():ui.newInvalidDocument(t))}getEntries(e,t){let r=eo();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ui.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=eo(),a=t.path,c=new ue(a.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:h,value:{document:p}}=l.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||EK(vK(p),r)<=0||(i.has(p.key)||O_(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,t,r,i){fe()}Lr(e,t){return j.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tC(this)}getSize(e){return j.resolve(this.size)}},tC=class extends WT{constructor(e){super(),this.hr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),j.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}};var nC=class{constructor(e){this.persistence=e,this.Br=new Zs(t=>GC(t),WC),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gf,this.targetCount=0,this.Qr=Hf.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),j.resolve()}Un(e){this.Br.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Qr=new Hf(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.Un(t),j.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Br.forEach((a,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Br.delete(a),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){let r=this.Br.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),j.resolve()}getMatchingKeysForTargetId(e,t){let r=this.qr.Sr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.qr.containsKey(t))}};var f_=class{constructor(e,t){this.Kr={},this.overlays={},this.$r=new qC(0),this.Ur=!1,this.Ur=!0,this.Wr=new XT,this.referenceDelegate=e(this),this.Gr=new nC(this),this.indexManager=new $T,this.remoteDocumentCache=function(i){return new eC(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new BT(t),this.jr=new YT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new ZT(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new rC(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,t){return j.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}},rC=class extends fT{constructor(e){super(),this.currentSequenceNumber=e}},iC=class n{constructor(e){this.persistence=e,this.Zr=new Gf,this.Xr=null}static ei(e){return new n(e)}get ti(){if(this.Xr)return this.Xr;throw fe()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),j.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ti,r=>{let i=ue.fromPath(r);return this.ni(e,i).next(s=>{s||t.removeEntry(i,we.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return j.or([()=>j.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}},p_=class n{constructor(e,t){this.persistence=e,this.ri=new Zs(r=>TK(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=m7(this,t)}static ei(e,t){return new n(e,t)}Hr(){}Jr(e){return j.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){let t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return j.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?j.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,a=>this.ir(e,a,t).next(c=>{c||(r++,s.removeEntry(a,we.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),j.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),j.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yy(e.data.value)),t}ir(e,t,r){return j.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.ri.get(t);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var sC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Oe(),i=Oe();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var oC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aC=class{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return gO()?8:IK(mO())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Xi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.es(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new oC;return this.ts(e,t,a).next(c=>{if(s.result=c,this.Hi)return this.ns(e,t,a,c.size)})}).next(()=>s.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(Iu()<=Ue.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",bu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),j.resolve()):(Iu()<=Ue.DEBUG&&Y("QueryEngine","Query:",bu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Iu()<=Ue.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",bu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(t))):j.resolve())}Xi(e,t){if(GO(t))return j.resolve(null);let r=Fi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ST(t,null,"F"),r=Fi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let a=Oe(...s);return this.Zi.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let h=this.rs(t,c);return this.ss(t,h,a,l.readTime)?this.Xi(e,ST(t,null,"F")):this.os(e,h,t,l)}))})))}es(e,t,r,i){return GO(t)||i.isEqual(we.min())?j.resolve(null):this.Zi.getDocuments(e,r).next(s=>{let a=this.rs(t,s);return this.ss(t,a,r,i)?j.resolve(null):(Iu()<=Ue.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bu(t)),this.os(e,a,t,_K(i,-1)).next(c=>c))})}rs(e,t){let r=new Jt(Tk(e));return t.forEach((i,s)=>{O_(e,s)&&(r=r.add(s))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,t,r){return Iu()<=Ue.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",bu(t)),this.Zi.getDocumentsMatchingQuery(e,t,Sc.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var cC=class{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new bt(Ve),this.cs=new Zs(s=>GC(s),WC),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QT(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}};function g7(n,e,t,r){return new cC(n,e,t,r)}function qk(n,e){return R(this,null,function*(){let t=ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let a=[],c=[],l=Oe();for(let h of i){a.push(h.batchId);for(let p of h.mutations)l=l.add(p.key)}for(let h of s){c.push(h.batchId);for(let p of h.mutations)l=l.add(p.key)}return t.localDocuments.getDocuments(r,l).next(h=>({Ts:h,removedBatchIds:a,addedBatchIds:c}))})})})}function y7(n,e){let t=ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,l,h,p){let g=h.batch,I=g.keys(),T=j.resolve();return I.forEach(P=>{T=T.next(()=>p.getEntry(l,P)).next(M=>{let N=h.docVersions.get(P);Je(N!==null),M.version.compareTo(N)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),p.addEntry(M)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(l,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=Oe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function zk(n){let e=ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function _7(n,e){let t=ye(n),r=e.snapshotVersion,i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;let c=[];e.targetChanges.forEach((p,g)=>{let I=i.get(g);if(!I)return;c.push(t.Gr.removeMatchingKeys(s,p.removedDocuments,g).next(()=>t.Gr.addMatchingKeys(s,p.addedDocuments,g)));let T=I.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(_n.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,r)),i=i.insert(g,T),function(M,N,V){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(I,T,p)&&c.push(t.Gr.updateTargetData(s,T))});let l=eo(),h=Oe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),c.push(v7(s,a,e.documentUpdates).next(p=>{l=p.Is,h=p.Es})),!r.isEqual(we.min())){let p=t.Gr.getLastRemoteSnapshotVersion(s).next(g=>t.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(p)}return j.waitFor(c).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(t.us=i,s))}function v7(n,e,t){let r=Oe(),i=Oe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=eo();return t.forEach((c,l)=>{let h=s.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(c,l.readTime),a=a.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),a=a.insert(c,l)):Y("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{Is:a,Es:i}})}function E7(n,e){let t=ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w7(n,e){let t=ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):t.Gr.allocateTargetId(r).next(a=>(i=new zf(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}function lC(n,e,t){return R(this,null,function*(){let r=ye(n),i=r.us.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!zu(a))throw a;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.us=r.us.remove(e),r.cs.delete(i.target)})}function ik(n,e,t){let r=ye(n),i=we.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,h,p){let g=ye(l),I=g.cs.get(p);return I!==void 0?j.resolve(g.us.get(I)):g.Gr.getTargetData(h,p)}(r,a,Fi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(a,c.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(a,e,t?i:we.min(),t?s:Oe())).next(c=>(I7(r,VK(e),c),{documents:c,ds:s})))}function I7(n,e,t){let r=n.ls.get(e)||we.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ls.set(e,r)}var m_=class{constructor(){this.activeTargetIds=$K()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var uC=class{constructor(){this._o=new m_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new m_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dC=class{uo(e){}shutdown(){}};var g_=class{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.To)e(0)}Po(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qy=null;function nT(){return Qy===null?Qy=function(){return 268435456+Math.round(2147483648*Math.random())}():Qy++,"0x"+Qy.toString(16)}var b7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var hC=class{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}};var yn="WebChannelConnection",fC=class extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(t,r,i,s,a){let c=nT(),l=this.No(t,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${t}' ${c}:`,l,i);let h={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(h,s,a),this.Bo(t,l,h,i).then(p=>(Y("RestConnection",`Received RPC '${t}' ${c}: `,p),p),p=>{throw Au("RestConnection",`RPC '${t}' ${c} failed with error: `,p,"url: ",l,"request:",i),p})}ko(t,r,i,s,a,c){return this.Oo(t,r,i,s,a)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$u}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}No(t,r){let i=b7[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){let s=nT();return new Promise((a,c)=>{let l=new Yb;l.setWithCredentials(!0),l.listenOnce(Jb.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Of.NO_ERROR:let p=l.getResponseJson();Y(yn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Of.TIMEOUT:Y(yn,`RPC '${e}' ${s} timed out`),c(new re(q.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:let g=l.getStatus();if(Y(yn,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let I=l.getResponseJson();Array.isArray(I)&&(I=I[0]);let T=I?.error;if(T&&T.status&&T.message){let P=function(N){let V=N.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(V)>=0?V:q.UNKNOWN}(T.status);c(new re(P,T.message))}else c(new re(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new re(q.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{Y(yn,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);Y(yn,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}qo(e,t,r){let i=nT(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=eT(),c=Zb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let p=s.join("");Y(yn,`Creating RPC '${e}' stream ${i}: ${p}`,l);let g=a.createWebChannel(p,l),I=!1,T=!1,P=new hC({Eo:N=>{T?Y(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(I||(Y(yn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),I=!0),Y(yn,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},Ao:()=>g.close()}),M=(N,V,L)=>{N.listen(V,F=>{try{L(F)}catch(z){setTimeout(()=>{throw z},0)}})};return M(g,wu.EventType.OPEN,()=>{T||(Y(yn,`RPC '${e}' stream ${i} transport opened.`),P.So())}),M(g,wu.EventType.CLOSE,()=>{T||(T=!0,Y(yn,`RPC '${e}' stream ${i} transport closed`),P.Do())}),M(g,wu.EventType.ERROR,N=>{T||(T=!0,Au(yn,`RPC '${e}' stream ${i} transport errored:`,N),P.Do(new re(q.UNAVAILABLE,"The operation could not be completed")))}),M(g,wu.EventType.MESSAGE,N=>{var V;if(!T){let L=N.data[0];Je(!!L);let F=L,z=F?.error||((V=F[0])===null||V===void 0?void 0:V.error);if(z){Y(yn,`RPC '${e}' stream ${i} received error:`,z);let J=z.status,G=function(_){let v=Ft[_];if(v!==void 0)return kk(v)}(J),E=z.message;G===void 0&&(G=q.INTERNAL,E="Unknown error status: "+J+" with message "+z.message),T=!0,P.Do(new re(G,E)),g.close()}else Y(yn,`RPC '${e}' stream ${i} received:`,L),P.vo(L)}}),M(c,Xb.STAT_EVENT,N=>{N.stat===Gy.PROXY?Y(yn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Gy.NOPROXY&&Y(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.bo()},0),P}};function rT(){return typeof document<"u"?document:null}function k_(n){return new VT(n,!0)}var y_=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}};var __=class{constructor(e,t,r,i,s,a,c,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new y_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}stop(){return R(this,null,function*(){this.i_()&&(yield this.close(0))})}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}u_(){return R(this,null,function*(){if(this.s_())return this.close(0)})}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}close(e,t){return R(this,null,function*(){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===q.RESOURCE_EXHAUSTED?(Ys(t.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.po(t)})}P_(){}auth(){this.state=1;let e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{let i=new re(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){let r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(()=>R(this,null,function*(){this.state=0,this.start()}))}E_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pC=class extends __{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();let t=r7(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?we.min():a.readTime?Li(a.readTime):we.min()}(e);return this.listener.R_(t,r)}V_(e){let t={};t.database=jT(this.serializer),t.addTarget=function(s,a){let c,l=a.target;if(c=DT(l)?{documents:o7(s,l)}:{query:a7(s,l).ct},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=Vk(s,a.resumeToken);let h=FT(s,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(we.min())>0){c.readTime=d_(s,a.snapshotVersion.toTimestamp());let h=FT(s,a.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);let r=l7(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){let t={};t.database=jT(this.serializer),t.removeTarget=e,this.c_(t)}},mC=class extends __{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();let t=s7(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.y_(r,t)}w_(){let e={};e.database=jT(this.serializer),this.c_(e)}g_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>i7(this.serializer,r))};this.c_(t)}};var gC=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new re(q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Oo(e,LT(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(q.UNKNOWN,s.toString())})}ko(e,t,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.ko(e,LT(t,r),i,a,c,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(q.UNKNOWN,a.toString())})}terminate(){this.S_=!0,this.connection.terminate()}},yC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ys(t),this.C_=!1):Y("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}};var _C=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(a=>{r.enqueueAndForget(()=>R(this,null,function*(){Nc(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),yield function(l){return R(this,null,function*(){let h=ye(l);h.k_.add(4),yield Jf(h),h.K_.set("Unknown"),h.k_.delete(4),yield V_(h)})}(this))}))}),this.K_=new yC(r,i)}};function V_(n){return R(this,null,function*(){if(Nc(n))for(let e of n.q_)yield e(!0)})}function Jf(n){return R(this,null,function*(){for(let e of n.q_)yield e(!1)})}function Hk(n,e){let t=ye(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),eD(t)?ZC(t):Hu(t).s_()&&XC(t,e))}function JC(n,e){let t=ye(n),r=Hu(t);t.B_.delete(e),r.s_()&&Gk(t,e),t.B_.size===0&&(r.s_()?r.a_():Nc(t)&&t.K_.set("Unknown"))}function XC(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hu(n).V_(e)}function Gk(n,e){n.U_.xe(e),Hu(n).m_(e)}function ZC(n){n.U_=new kT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Hu(n).start(),n.K_.F_()}function eD(n){return Nc(n)&&!Hu(n).i_()&&n.B_.size>0}function Nc(n){return ye(n).k_.size===0}function Wk(n){n.U_=void 0}function T7(n){return R(this,null,function*(){n.K_.set("Online")})}function C7(n){return R(this,null,function*(){n.B_.forEach((e,t)=>{XC(n,e)})})}function D7(n,e){return R(this,null,function*(){Wk(n),eD(n)?(n.K_.O_(e),ZC(n)):n.K_.set("Unknown")})}function S7(n,e,t){return R(this,null,function*(){if(n.K_.set("Online"),e instanceof l_&&e.state===2&&e.cause)try{yield function(i,s){return R(this,null,function*(){let a=s.cause;for(let c of s.targetIds)i.B_.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i.B_.delete(c),i.U_.removeTarget(c))})}(n,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield v_(n,r)}else if(e instanceof Su?n.U_.$e(e):e instanceof c_?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(we.min()))try{let r=yield zk(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){let c=s.U_.it(a);return c.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){let p=s.B_.get(h);p&&s.B_.set(h,p.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach((l,h)=>{let p=s.B_.get(l);if(!p)return;s.B_.set(l,p.withResumeToken(_n.EMPTY_BYTE_STRING,p.snapshotVersion)),Gk(s,l);let g=new zf(p.target,l,h,p.sequenceNumber);XC(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),yield v_(n,r)}})}function v_(n,e,t){return R(this,null,function*(){if(!zu(e))throw e;n.k_.add(1),yield Jf(n),n.K_.set("Offline"),t||(t=()=>zk(n.localStore)),n.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){Y("RemoteStore","Retrying IndexedDB access"),yield t(),n.k_.delete(1),yield V_(n)}))})}function Kk(n,e){return e().catch(t=>v_(n,t,e))}function F_(n){return R(this,null,function*(){let e=ye(n),t=ra(e),r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;A7(e);)try{let i=yield E7(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,x7(e,i)}catch(i){yield v_(e,i)}Qk(e)&&Yk(e)})}function A7(n){return Nc(n)&&n.L_.length<10}function x7(n,e){n.L_.push(e);let t=ra(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Qk(n){return Nc(n)&&!ra(n).i_()&&n.L_.length>0}function Yk(n){ra(n).start()}function R7(n){return R(this,null,function*(){ra(n).w_()})}function P7(n){return R(this,null,function*(){let e=ra(n);for(let t of n.L_)e.g_(t.mutations)})}function N7(n,e,t){return R(this,null,function*(){let r=n.L_.shift(),i=PT.from(r,e,t);yield Kk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield F_(n)})}function M7(n,e){return R(this,null,function*(){e&&ra(n).f_&&(yield function(r,i){return R(this,null,function*(){if(function(a){return QK(a)&&a!==q.ABORTED}(i.code)){let s=r.L_.shift();ra(r).__(),yield Kk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield F_(r)}})}(n,e)),Qk(n)&&Yk(n)})}function sk(n,e){return R(this,null,function*(){let t=ye(n);t.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");let r=Nc(t);t.k_.add(3),yield Jf(t),r&&t.K_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),yield V_(t)})}function O7(n,e){return R(this,null,function*(){let t=ye(n);e?(t.k_.delete(2),yield V_(t)):e||(t.k_.add(2),yield Jf(t),t.K_.set("Unknown"))})}function Hu(n){return n.W_||(n.W_=function(t,r,i){let s=ye(t);return s.b_(),new pC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:T7.bind(null,n),mo:C7.bind(null,n),po:D7.bind(null,n),R_:S7.bind(null,n)}),n.q_.push(e=>R(this,null,function*(){e?(n.W_.__(),eD(n)?ZC(n):n.K_.set("Unknown")):(yield n.W_.stop(),Wk(n))}))),n.W_}function ra(n){return n.G_||(n.G_=function(t,r,i){let s=ye(t);return s.b_(),new mC(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:R7.bind(null,n),po:M7.bind(null,n),p_:P7.bind(null,n),y_:N7.bind(null,n)}),n.q_.push(e=>R(this,null,function*(){e?(n.G_.__(),yield F_(n)):(yield n.G_.stop(),n.L_.length>0&&(Y("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))}))),n.G_}var vC=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,c=new n(e,t,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tD(n,e){if(Ys("AsyncQueue",`${e}: ${n}`),zu(n))return new re(q.UNAVAILABLE,`${e}: ${n}`);throw n}var E_=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ue.comparator(t.key,r.key):(t,r)=>ue.comparator(t.key,r.key),this.keyedMap=kf(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var w_=class{constructor(){this.z_=new bt(ue.comparator)}track(e){let t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):fe():this.z_=this.z_.insert(t,e)}j_(){let e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}},Uu=class n{constructor(e,t,r,i,s,a,c,l,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){let a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new n(e,t,E_.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&M_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var EC=class{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}},wC=class{constructor(){this.queries=ok(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){let i=ye(t),s=i.queries;i.queries=ok(),s.forEach((a,c)=>{for(let l of c.J_)l.onError(r)})})(this,new re(q.ABORTED,"Firestore shutting down"))}};function ok(){return new Zs(n=>bk(n),M_)}function k7(n,e){return R(this,null,function*(){let t=ye(n),r=3,i=e.query,s=t.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new EC,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=yield t.onListen(i,!0);break;case 1:s.H_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(a){let c=tD(a,`Initialization of query '${bu(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.J_.push(e),e.ea(t.onlineState),s.H_&&e.ta(s.H_)&&nD(t)})}function V7(n,e){return R(this,null,function*(){let t=ye(n),r=e.query,i=3,s=t.queries.get(r);if(s){let a=s.J_.indexOf(e);a>=0&&(s.J_.splice(a,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function F7(n,e){let t=ye(n),r=!1;for(let i of e){let s=i.query,a=t.queries.get(s);if(a){for(let c of a.J_)c.ta(i)&&(r=!0);a.H_=i}}r&&nD(t)}function L7(n,e,t){let r=ye(n),i=r.queries.get(e);if(i)for(let s of i.J_)s.onError(t);r.queries.delete(e)}function nD(n){n.X_.forEach(e=>{e.next()})}var IC,ak;(ak=IC||(IC={})).na="default",ak.Cache="cache";var bC=class{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;let r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;let t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==IC.Cache}};var I_=class{constructor(e){this.key=e}},b_=class{constructor(e){this.key=e}},TC=class{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Oe(),this.mutatedKeys=Oe(),this.Va=Tk(e),this.ma=new E_(this.Va)}get fa(){return this.da}ga(e,t){let r=t?t.pa:new w_,i=t?t.ma:this.ma,s=t?t.mutatedKeys:this.mutatedKeys,a=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let I=i.get(p),T=O_(this.query,g)?g:null,P=!!I&&this.mutatedKeys.has(I.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations),N=!1;I&&T?I.data.isEqual(T.data)?P!==M&&(r.track({type:3,doc:T}),N=!0):this.ya(I,T)||(r.track({type:2,doc:T}),N=!0,(l&&this.Va(T,l)>0||h&&this.Va(T,h)<0)&&(c=!0)):!I&&T?(r.track({type:0,doc:T}),N=!0):I&&!T&&(r.track({type:1,doc:I}),N=!0,(l||h)&&(c=!0)),N&&(T?(a=a.add(T),s=M?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{ma:a,pa:r,ss:c,mutatedKeys:s}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;let a=e.pa.j_();a.sort((p,g)=>function(T,P){let M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return M(T)-M(P)}(p.type,g.type)||this.Va(p.doc,g.doc)),this.wa(r),i=i!=null&&i;let c=t&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,h=l!==this.Aa;return this.Aa=l,a.length!==0||h?{snapshot:new Uu(this.query,e.ma,s,a,e.mutatedKeys,l===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new w_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];let e=this.Ra;this.Ra=Oe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});let t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new b_(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new I_(r))}),t}va(e){this.da=e.ds,this.Ra=Oe();let t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Uu.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}},CC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},DC=class{constructor(e){this.key=e,this.Fa=!1}},SC=class{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ma={},this.xa=new Zs(c=>bk(c),M_),this.Oa=new Map,this.Na=new Set,this.La=new bt(ue.comparator),this.Ba=new Map,this.ka=new Gf,this.qa={},this.Qa=new Map,this.Ka=Hf.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}};function U7(n,e,t=!0){return R(this,null,function*(){let r=nV(n),i,s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=yield Jk(r,e,t,!0),i})}function j7(n,e){return R(this,null,function*(){let t=nV(n);yield Jk(t,e,!0,!1)})}function Jk(n,e,t,r){return R(this,null,function*(){let i=yield w7(n.localStore,Fi(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield B7(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&Hk(n.remoteStore,i),c})}function B7(n,e,t,r,i){return R(this,null,function*(){n.Ua=(g,I,T)=>function(M,N,V,L){return R(this,null,function*(){let F=N.view.ga(V);F.ss&&(F=yield ik(M.localStore,N.query,!1).then(({documents:E})=>N.view.ga(E,F)));let z=L&&L.targetChanges.get(N.targetId),J=L&&L.targetMismatches.get(N.targetId)!=null,G=N.view.applyChanges(F,M.isPrimaryClient,z,J);return lk(M,N.targetId,G.ba),G.snapshot})}(n,g,I,T);let s=yield ik(n.localStore,e,!0),a=new TC(e,s.ds),c=a.ga(s.documents),l=qf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=a.applyChanges(c,n.isPrimaryClient,l);lk(n,t,h.ba);let p=new CC(e,t,a);return n.xa.set(e,p),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),h.snapshot})}function $7(n,e,t){return R(this,null,function*(){let r=ye(n),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(a=>!M_(a,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&JC(r.remoteStore,i.targetId),AC(r,i.targetId)}).catch(qu))):(AC(r,i.targetId),yield lC(r.localStore,i.targetId,!0))})}function q7(n,e){return R(this,null,function*(){let t=ye(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),JC(t.remoteStore,r.targetId))})}function z7(n,e,t){return R(this,null,function*(){let r=J7(n);try{let i=yield function(a,c){let l=ye(a),h=on.now(),p=c.reduce((T,P)=>T.add(P.key),Oe()),g,I;return l.persistence.runTransaction("Locally write mutations","readwrite",T=>{let P=eo(),M=Oe();return l.hs.getEntries(T,p).next(N=>{P=N,P.forEach((V,L)=>{L.isValidDocument()||(M=M.add(V))})}).next(()=>l.localDocuments.getOverlayedDocuments(T,P)).next(N=>{g=N;let V=[];for(let L of c){let F=KK(L,g.get(L.key).overlayedDocument);F!=null&&V.push(new Bi(L.key,F,yk(F.value.mapValue),Qs.exists(!0)))}return l.mutationQueue.addMutationBatch(T,h,V,c)}).next(N=>{I=N;let V=N.applyToLocalDocumentSet(g,M);return l.documentOverlayCache.saveOverlays(T,N.batchId,V)})}).then(()=>({batchId:I.batchId,changes:Dk(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,l){let h=a.qa[a.currentUser.toKey()];h||(h=new bt(Ve)),h=h.insert(c,l),a.qa[a.currentUser.toKey()]=h}(r,i.batchId,t),yield Xf(r,i.changes),yield F_(r.remoteStore)}catch(i){let s=tD(i,"Failed to persist write");t.reject(s)}})}function Xk(n,e){return R(this,null,function*(){let t=ye(n);try{let r=yield _7(t.localStore,e);e.targetChanges.forEach((i,s)=>{let a=t.Ba.get(s);a&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Fa=!0:i.modifiedDocuments.size>0?Je(a.Fa):i.removedDocuments.size>0&&(Je(a.Fa),a.Fa=!1))}),yield Xf(t,r,e)}catch(r){yield qu(r)}})}function ck(n,e,t){let r=ye(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.xa.forEach((s,a)=>{let c=a.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){let l=ye(a);l.onlineState=c;let h=!1;l.queries.forEach((p,g)=>{for(let I of g.J_)I.ea(c)&&(h=!0)}),h&&nD(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function H7(n,e,t){return R(this,null,function*(){let r=ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Ba.get(e),s=i&&i.key;if(s){let a=new bt(ue.comparator);a=a.insert(s,ui.newNoDocument(s,we.min()));let c=Oe().add(s),l=new a_(we.min(),new Map,new bt(Ve),a,c);yield Xk(r,l),r.La=r.La.remove(s),r.Ba.delete(e),rD(r)}else yield lC(r.localStore,e,!1).then(()=>AC(r,e,t)).catch(qu)})}function G7(n,e){return R(this,null,function*(){let t=ye(n),r=e.batch.batchId;try{let i=yield y7(t.localStore,e);eV(t,r,null),Zk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Xf(t,i)}catch(i){yield qu(i)}})}function W7(n,e,t){return R(this,null,function*(){let r=ye(n);try{let i=yield function(a,c){let l=ye(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return l.mutationQueue.lookupMutationBatch(h,c).next(g=>(Je(g!==null),p=g.keys(),l.mutationQueue.removeMutationBatch(h,g))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>l.localDocuments.getDocuments(h,p))})}(r.localStore,e);eV(r,e,t),Zk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Xf(r,i)}catch(i){yield qu(i)}})}function Zk(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function eV(n,e,t){let r=ye(n),i=r.qa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function AC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||tV(n,r)})}function tV(n,e){n.Na.delete(e.path.canonicalString());let t=n.La.get(e);t!==null&&(JC(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),rD(n))}function lk(n,e,t){for(let r of t)r instanceof I_?(n.ka.addReference(r.key,e),K7(n,r)):r instanceof b_?(Y("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||tV(n,r.key)):fe()}function K7(n,e){let t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(Y("SyncEngine","New document in limbo: "+t),n.Na.add(r),rD(n))}function rD(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){let e=n.Na.values().next().value;n.Na.delete(e);let t=new ue(It.fromString(e)),r=n.Ka.next();n.Ba.set(r,new DC(t)),n.La=n.La.insert(t,r),Hk(n.remoteStore,new zf(Fi(KC(t.path)),r,"TargetPurposeLimboResolution",qC.oe))}}function Xf(n,e,t){return R(this,null,function*(){let r=ye(n),i=[],s=[],a=[];r.xa.isEmpty()||(r.xa.forEach((c,l)=>{a.push(r.Ua(l,e,t).then(h=>{var p;if((h||t)&&r.isPrimaryClient){let g=h?!h.fromCache:(p=t?.targetChanges.get(l.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(h){i.push(h);let g=sC.zi(l.targetId,h);s.push(g)}}))}),yield Promise.all(a),r.Ma.R_(i),yield function(l,h){return R(this,null,function*(){let p=ye(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>j.forEach(h,I=>j.forEach(I.Wi,T=>p.persistence.referenceDelegate.addReference(g,I.targetId,T)).next(()=>j.forEach(I.Gi,T=>p.persistence.referenceDelegate.removeReference(g,I.targetId,T)))))}catch(g){if(!zu(g))throw g;Y("LocalStore","Failed to update sequence numbers: "+g)}for(let g of h){let I=g.targetId;if(!g.fromCache){let T=p.us.get(I),P=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(P);p.us=p.us.insert(I,M)}}})}(r.localStore,s))})}function Q7(n,e){return R(this,null,function*(){let t=ye(n);if(!t.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());let r=yield qk(t.localStore,e);t.currentUser=e,function(s,a){s.Qa.forEach(c=>{c.forEach(l=>{l.reject(new re(q.CANCELLED,a))})}),s.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xf(t,r.Ts)}})}function Y7(n,e){let t=ye(n),r=t.Ba.get(e);if(r&&r.Fa)return Oe().add(r.key);{let i=Oe(),s=t.Oa.get(e);if(!s)return i;for(let a of s){let c=t.xa.get(a);i=i.unionWith(c.view.fa)}return i}}function nV(n){let e=ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Xk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H7.bind(null,e),e.Ma.R_=F7.bind(null,e.eventManager),e.Ma.Wa=L7.bind(null,e.eventManager),e}function J7(n){let e=ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W7.bind(null,e),e}var rV=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return R(this,null,function*(){this.serializer=k_(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),yield this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)})}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return g7(this.persistence,new aC,t.initialUser,this.serializer)}ja(t){return new f_(iC.ei,this.serializer)}za(t){return new uC}terminate(){return R(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),xC=class extends rV{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Je(this.persistence.referenceDelegate instanceof p_);let r=this.persistence.referenceDelegate.garbageCollector;return new HT(r,e.asyncQueue,t)}ja(e){let t=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new f_(r=>p_.ei(r,t),this.serializer)}};var X7=(()=>{class n{initialize(t,r){return R(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ck(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q7.bind(null,this.syncEngine),yield O7(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new wC}()}createDatastore(t){let r=k_(t.databaseInfo.databaseId),i=function(a){return new fC(a)}(t.databaseInfo);return function(a,c,l,h){return new gC(a,c,l,h)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,a,c,l){return new _C(i,s,a,c,l)}(this.localStore,this.datastore,t.asyncQueue,r=>ck(this.syncEngine,r,0),function(){return g_.p()?new g_:new dC}())}createSyncEngine(t,r){return function(s,a,c,l,h,p,g){let I=new SC(s,a,c,l,h,p);return g&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return R(this,null,function*(){var t,r;yield function(s){return R(this,null,function*(){let a=ye(s);Y("RemoteStore","RemoteStore shutting down."),a.k_.add(5),yield Jf(a),a.Q_.shutdown(),a.K_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var RC=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var PC=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=e_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,a=>R(this,null,function*(){Y("FirestoreClient","Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>(Y("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=tD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function iT(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>R(this,null,function*(){r.isEqual(i)||(yield qk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function uk(n,e){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Z7(n);Y("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>sk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>sk(e.remoteStore,i)),n._onlineComponents=e})}function Z7(n){return R(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{yield iT(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Au("Error using user provided cache. Falling back to memory cache: "+t),yield iT(n,new rV)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),yield iT(n,new xC(void 0));return n._offlineComponents})}function iV(n){return R(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),yield uk(n,n._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),yield uk(n,new X7))),n._onlineComponents})}function eQ(n){return iV(n).then(e=>e.syncEngine)}function tQ(n){return R(this,null,function*(){let e=yield iV(n),t=e.eventManager;return t.onListen=U7.bind(null,e.syncEngine),t.onUnlisten=$7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=j7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=q7.bind(null,e.syncEngine),t})}function nQ(n,e,t={}){let r=new ki;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(s,a,c,l,h){let p=new RC({next:I=>{p.eu(),a.enqueueAndForget(()=>V7(s,g));let T=I.docs.has(c);!T&&I.fromCache?h.reject(new re(q.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&I.fromCache&&l&&l.source==="server"?h.reject(new re(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(I)},error:I=>h.reject(I)}),g=new bC(KC(c.path),p,{includeMetadataChanges:!0,ua:!0});return k7(s,g)}(yield tQ(n),n.asyncQueue,e,t,r)})),r.promise}function sV(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var dk=new Map;function oV(n,e,t){if(!t)throw new re(q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rQ(n,e,t,r){if(e===!0&&r===!0)throw new re(q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hk(n){if(!ue.isDocumentKey(n))throw new re(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fk(n){if(ue.isDocumentKey(n))throw new re(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iD(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":fe()}function ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=iD(n);throw new re(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var T_=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sV((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ju=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sT;switch(r.type){case"firstParty":return new lT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return R(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=dk.get(t);r&&(Y("ComponentProvider","Removing Datastore"),dk.delete(t),r.terminate())}(this),Promise.resolve()}};function iQ(n,e,t,r={}){var i;let s=(n=ia(n,ju))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=Yt.MOCK_USER;else{c=pO(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new re(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Yt(h)}n._authCredentials=new oT(new Zy(c,l))}}var NC=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Wn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ta=class n extends NC{constructor(e,t,r){super(e,t,KC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new ue(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function aV(n,e,...t){if(n=Hs(n),oV("collection","path",e),n instanceof ju){let r=It.fromString(e,...t);return fk(r),new ta(n,null,r)}{if(!(n instanceof Wn||n instanceof ta))throw new re(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(It.fromString(e,...t));return fk(r),new ta(n.firestore,null,r)}}function dr(n,e,...t){if(n=Hs(n),arguments.length===1&&(e=e_.newId()),oV("doc","path",e),n instanceof ju){let r=It.fromString(e,...t);return hk(r),new Wn(n,null,new ue(r))}{if(!(n instanceof Wn||n instanceof ta))throw new re(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(It.fromString(e,...t));return hk(r),new Wn(n.firestore,n instanceof ta?n.converter:null,new ue(r))}}var C_=class{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new y_(this,"async_queue_retry"),this.fu=()=>{let r=rT();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;let t=rT();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;let t=rT();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});let t=new ki;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}wu(){return R(this,null,function*(){if(this.Iu.length!==0){try{yield this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!zu(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}})}yu(e){let t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;let i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw Ys("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);let i=vC.createAndSchedule(this,e,t,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&fe()}verifyOperationInProgress(){}bu(){return R(this,null,function*(){let e;do e=this.gu,yield e;while(e!==this.gu)})}Du(e){for(let t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let t=this.du.indexOf(e);this.du.splice(t,1)}};var Pc=class extends ju{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new C_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return R(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,yield e}})}};function cV(n,e){let t=typeof n=="object"?n:PO(),r=typeof n=="string"?n:e||"(default)",i=xO(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=fO("firestore");s&&iQ(i,...s)}return i}function lV(n){if(n._terminated)throw new re(q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sQ(n),n._firestoreClient}function sQ(n){var e,t,r;let i=n._freezeSettings(),s=function(c,l,h,p){return new pT(c,l,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,sV(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new PC(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(n._componentsProvider))}var Wf=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(_n.fromBase64String(e))}catch(t){throw new re(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Bu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kf=class{constructor(e){this._methodName=e}};var Qf=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}};var Yf=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var oQ=/^__.*__$/,MC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rc(e,this.data,t,this.fieldTransforms)}},D_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function uV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var OC=class n{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return A_(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(uV(this.Mu)&&oQ.test(e))throw this.qu('Document fields cannot begin and end with "__"')}},kC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||k_(e)}$u(e,t,r,i=!1){return new OC({Mu:e,methodName:t,Ku:r,path:ur.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sD(n){let e=n._freezeSettings(),t=k_(n._databaseId);return new kC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dV(n,e,t,r,i,s={}){let a=n.$u(s.merge||s.mergeFields?2:0,e,t,i);oD("Data must be an object, but it was:",a,r);let c=hV(r,a),l,h;if(s.merge)l=new Nr(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let I=VC(e,g,t);if(!a.contains(I))throw new re(q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);pV(p,I)||p.push(I)}l=new Nr(p),h=a.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,h=a.fieldTransforms;return new MC(new lr(c),l,h)}var S_=class n extends Kf{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function aQ(n,e,t,r){let i=n.$u(1,e,t);oD("Data must be an object, but it was:",i,r);let s=[],a=lr.empty();sa(r,(l,h)=>{let p=aD(e,l,t);h=Hs(h);let g=i.Bu(p);if(h instanceof S_)s.push(p);else{let I=L_(h,g);I!=null&&(s.push(p),a.set(p,I))}});let c=new Nr(s);return new D_(a,c,i.fieldTransforms)}function cQ(n,e,t,r,i,s){let a=n.$u(1,e,t),c=[VC(e,r,t)],l=[i];if(s.length%2!=0)throw new re(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<s.length;I+=2)c.push(VC(e,s[I])),l.push(s[I+1]);let h=[],p=lr.empty();for(let I=c.length-1;I>=0;--I)if(!pV(h,c[I])){let T=c[I],P=l[I];P=Hs(P);let M=a.Bu(T);if(P instanceof S_)h.push(T);else{let N=L_(P,M);N!=null&&(h.push(T),p.set(T,N))}}let g=new Nr(h);return new D_(p,g,a.fieldTransforms)}function L_(n,e){if(fV(n=Hs(n)))return oD("Unsupported field value:",e,n),hV(n,e);if(n instanceof Kf)return function(r,i){if(!uV(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){let s=[],a=0;for(let c of r){let l=L_(c,i.ku(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Hs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qK(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=on.fromDate(r);return{timestampValue:d_(i.serializer,s)}}if(r instanceof on){let s=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:d_(i.serializer,s)}}if(r instanceof Qf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wf)return{bytesValue:Vk(i.serializer,r._byteString)};if(r instanceof Wn){let s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.qu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:YC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yf)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw c.qu("VectorValues must only contain numeric values.");return QC(c.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${iD(r)}`)}(n,e)}function hV(n,e){let t={};return pk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(n,(r,i)=>{let s=L_(i,e.Ou(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function fV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof on||n instanceof Qf||n instanceof Wf||n instanceof Wn||n instanceof Kf||n instanceof Yf)}function oD(n,e,t){if(!fV(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=iD(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function VC(n,e,t){if((e=Hs(e))instanceof Bu)return e._internalPath;if(typeof e=="string")return aD(n,e);throw A_("Field path arguments must be of type string or ",n,!1,void 0,t)}var lQ=new RegExp("[~\\*/\\[\\]]");function aD(n,e,t){if(e.search(lQ)>=0)throw A_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bu(...e.split("."))._internalPath}catch{throw A_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function A_(n,e,t,r,i){let s=r&&!r.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new re(q.INVALID_ARGUMENT,c+n+l)}function pV(n,e){return n.some(t=>t.isEqual(e))}var x_=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new FC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(mV("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},FC=class extends x_{data(){return super.data()}};function mV(n,e){return typeof e=="string"?aD(n,e):e instanceof Bu?e._internalPath:e._delegate._internalPath}var LC=class{convertValue(e,t="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return sa(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>pt(a.doubleValue));return new Yf(s)}convertGeoPoint(e){return new Qf(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=N_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bf(e));default:return null}}convertTimestamp(e){let t=Js(e);return new on(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=It.fromString(e);Je($k(r));let i=new i_(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(t)||Ys(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function gV(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var UC=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},R_=class extends x_{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new jC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(mV("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},jC=class extends R_{data(e={}){return super.data(e)}};function $i(n){n=ia(n,Wn);let e=ia(n.firestore,Pc);return nQ(lV(e),n._key).then(t=>uQ(e,n,t))}var BC=class extends LC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wf(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}};function yV(n,e,t){n=ia(n,Wn);let r=ia(n.firestore,Pc),i=gV(n.converter,e,t);return lD(r,[dV(sD(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Qs.none())])}function cD(n,e,t,...r){n=ia(n,Wn);let i=ia(n.firestore,Pc),s=sD(i),a;return a=typeof(e=Hs(e))=="string"||e instanceof Bu?cQ(s,"updateDoc",n._key,e,t,r):aQ(s,"updateDoc",n._key,e),lD(i,[a.toMutation(n._key,Qs.exists(!0))])}function _V(n,e){let t=ia(n.firestore,Pc),r=dr(n),i=gV(n.converter,e);return lD(t,[dV(sD(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Qs.exists(!1))]).then(()=>r)}function lD(n,e){return function(r,i){let s=new ki;return r.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return z7(yield eQ(r),i,s)})),s.promise}(lV(n),e)}function uQ(n,e,t){let r=t.docs.get(e._key),i=new BC(n);return new R_(n,i,e._key,r,new UC(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){$u=i})(RO),Nf(new Gs("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),c=new Pc(new aT(r.getProvider("auth-internal")),new dT(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new re(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new i_(h.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Zo(VO,"4.7.5",e),Zo(VO,"4.7.5","esm2017")})();var dQ="firebase",hQ="11.1.0";Zo(dQ,hQ,"app");var U_={production:!1,firebaseConfig:{apiKey:"AIzaSyB0uZ0cE8dDm1Dyp-icaN3X0QgrWXyf_7k",authDomain:"plamostore.firebaseapp.com",projectId:"plamostore",storageBucket:"plamostore.firebasestorage.app",messagingSenderId:"1042511858348",appId:"1:1042511858348:web:f55f4a1e76d93a443c2d09",measurementId:"G-SCMBM54E1W"}};var fQ=Kb(U_.firebaseConfig),hr=cV(fQ);var oa=class n{loggedState=new Tt(!1);state=this.loggedState.asObservable();setLoggedState(e){this.loggedState.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var EV=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},pQ=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],c=n[t++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},wV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,c=a?n[i+1]:0,l=i+2<n.length,h=l?n[i+2]:0,p=s>>2,g=(s&3)<<4|c>>4,I=(c&15)<<2|h>>6,T=h&63;l||(T=64,a||(I=64)),r.push(t[p],t[g],t[I],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(EV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pQ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let h=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||h==null||g==null)throw new hD;let I=s<<2|c>>4;if(r.push(I),h!==64){let T=c<<4&240|h>>2;if(r.push(T),g!==64){let P=h<<6&192|g;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},hD=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},mQ=function(n){let e=EV(n);return wV.encodeByteArray(e,!0)},Zf=function(n){return mQ(n).replace(/\./g,"")},pD=function(n){try{return wV.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yQ=()=>gQ().__FIREBASE_DEFAULTS__,_Q=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vQ=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&pD(n[1]);return e&&JSON.parse(e)},mD=()=>{try{return yQ()||_Q()||vQ()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gD=n=>{var e,t;return(t=(e=mD())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},IV=n=>{let e=gD(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yD=()=>{var n;return(n=mD())===null||n===void 0?void 0:n.config},_D=n=>{var e;return(e=mD())===null||e===void 0?void 0:e[`_${n}`]};var j_=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function bV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zf(JSON.stringify(t)),Zf(JSON.stringify(a)),""].join(".")}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function CV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DV(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AV(){let n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vD(){try{return typeof indexedDB=="object"}catch{return!1}}function xV(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var EQ="FirebaseError",fr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=EQ,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}},to=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?wQ(s,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new fr(i,c,r)}};function wQ(n,e){return n.replace(IQ,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IQ=/\{\$([^}]+)}/g;function RV(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Mc(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(vV(s)&&vV(a)){if(!Mc(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function vV(n){return n!==null&&typeof n=="object"}function ep(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gu(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wu(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function PV(n,e){let t=new fD(n,e);return t.subscribe.bind(t)}var fD=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");bQ(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=dD),i.error===void 0&&(i.error=dD),i.complete===void 0&&(i.complete=dD);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bQ(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dD(){}var Cpe=4*60*60*1e3;function no(n){return n&&n._delegate?n._delegate:n}var Mr=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Oc="[DEFAULT]";var ED=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new j_;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CQ(e))try{this.getOrInitializeService({instanceIdentifier:Oc})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return R(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Oc){return this.instances.has(e)}getOptions(e=Oc){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TQ(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oc){return this.component?this.component.multipleInstances?e:Oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TQ(n){return n===Oc?void 0:n}function CQ(n){return n.instantiationMode==="EAGER"}var B_=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ED(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var DQ=[],Qe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Qe||{}),SQ={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},AQ=Qe.INFO,xQ={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},RQ=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=xQ[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},aa=class{constructor(e){this.name=e,this._logLevel=AQ,this._logHandler=RQ,this._userLogHandler=null,DQ.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}};var ID=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PQ(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function PQ(n){let e=n.getComponent();return e?.type==="VERSION"}var bD="@firebase/app",NV="0.10.13";var ro=new aa("@firebase/app"),NQ="@firebase/app-compat",MQ="@firebase/analytics-compat",OQ="@firebase/analytics",kQ="@firebase/app-check-compat",VQ="@firebase/app-check",FQ="@firebase/auth",LQ="@firebase/auth-compat",UQ="@firebase/database",jQ="@firebase/data-connect",BQ="@firebase/database-compat",$Q="@firebase/functions",qQ="@firebase/functions-compat",zQ="@firebase/installations",HQ="@firebase/installations-compat",GQ="@firebase/messaging",WQ="@firebase/messaging-compat",KQ="@firebase/performance",QQ="@firebase/performance-compat",YQ="@firebase/remote-config",JQ="@firebase/remote-config-compat",XQ="@firebase/storage",ZQ="@firebase/storage-compat",eY="@firebase/firestore",tY="@firebase/vertexai-preview",nY="@firebase/firestore-compat",rY="firebase",iY="10.14.1";var TD="[DEFAULT]",sY={[bD]:"fire-core",[NQ]:"fire-core-compat",[OQ]:"fire-analytics",[MQ]:"fire-analytics-compat",[VQ]:"fire-app-check",[kQ]:"fire-app-check-compat",[FQ]:"fire-auth",[LQ]:"fire-auth-compat",[UQ]:"fire-rtdb",[jQ]:"fire-data-connect",[BQ]:"fire-rtdb-compat",[$Q]:"fire-fn",[qQ]:"fire-fn-compat",[zQ]:"fire-iid",[HQ]:"fire-iid-compat",[GQ]:"fire-fcm",[WQ]:"fire-fcm-compat",[KQ]:"fire-perf",[QQ]:"fire-perf-compat",[YQ]:"fire-rc",[JQ]:"fire-rc-compat",[XQ]:"fire-gcs",[ZQ]:"fire-gcs-compat",[eY]:"fire-fst",[nY]:"fire-fst-compat",[tY]:"fire-vertex","fire-js":"fire-js",[rY]:"fire-js-all"};var tp=new Map,oY=new Map,CD=new Map;function MV(n,e){try{n.container.addComponent(e)}catch(t){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function la(n){let e=n.name;if(CD.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;CD.set(e,n);for(let t of tp.values())MV(t,n);for(let t of oY.values())MV(t,n);return!0}function rp(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function di(n){return n.settings!==void 0}var aY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new to("app","Firebase",aY);var DD=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}};var ua=iY;function xD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:TD,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ca.create("bad-app-name",{appName:String(i)});if(t||(t=yD()),!t)throw ca.create("no-options");let s=tp.get(i);if(s){if(Mc(t,s.options)&&Mc(r,s.config))return s;throw ca.create("duplicate-app",{appName:i})}let a=new B_(i);for(let l of CD.values())a.addComponent(l);let c=new DD(t,r,a);return tp.set(i,c),c}function Ku(n=TD){let e=tp.get(n);if(!e&&n===TD&&yD())return xD();if(!e)throw ca.create("no-app",{appName:n});return e}function $_(){return Array.from(tp.values())}function Gt(n,e,t){var r;let i=(r=sY[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ro.warn(c.join(" "));return}la(new Mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var cY="firebase-heartbeat-database",lY=1,np="firebase-heartbeat-store",wD=null;function FV(){return wD||(wD=qy(cY,lY,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(np)}catch(t){console.warn(t)}}}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),wD}function uY(n){return R(this,null,function*(){try{let t=(yield FV()).transaction(np),r=yield t.objectStore(np).get(LV(n));return yield t.done,r}catch(e){if(e instanceof fr)ro.warn(e.message);else{let t=ca.create("idb-get",{originalErrorMessage:e?.message});ro.warn(t.message)}}})}function OV(n,e){return R(this,null,function*(){try{let r=(yield FV()).transaction(np,"readwrite");yield r.objectStore(np).put(e,LV(n)),yield r.done}catch(t){if(t instanceof fr)ro.warn(t.message);else{let r=ca.create("idb-set",{originalErrorMessage:t?.message});ro.warn(r.message)}}})}function LV(n){return`${n.name}!${n.options.appId}`}var dY=1024,hY=30*24*60*60*1e3,SD=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new AD(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return R(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kV();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let c=new Date(a.date).valueOf();return Date.now()-c<=hY}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ro.warn(r)}})}getHeartbeatsHeader(){return R(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=kV(),{heartbeatsToSend:r,unsentEntries:i}=fY(this._heartbeatsCache.heartbeats),s=Zf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ro.warn(t),""}})}};function kV(){return new Date().toISOString().substring(0,10)}function fY(n,e=dY){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),VV(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VV(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var AD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return R(this,null,function*(){return vD()?xV().then(()=>!0).catch(()=>!1):!1})}read(){return R(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield uY(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OV(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return R(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OV(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function VV(n){return Zf(JSON.stringify({version:2,heartbeats:n})).length}function pY(n){la(new Mr("platform-logger",e=>new ID(e),"PRIVATE")),la(new Mr("heartbeat",e=>new SD(e),"PRIVATE")),Gt(bD,NV,n),Gt(bD,NV,"esm2017"),Gt("fire-js","")}pY("");var mY="firebase",gY="10.14.1";Gt(mY,gY,"app");var Vc=new Es("ANGULARFIRE2_VERSION");function z_(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ip=(n,e)=>{let t=e?[e]:$_(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},Yu=class{constructor(){return ip(yY)}},yY="app-check";function Qu(){}var q_=class{zone;delegate;constructor(e,t=TE){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(s,t,r)}},RD=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qu,{},Qu,Qu)),t.pipe(Rt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ju=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new q_(Zone.current)),this.insideAngular=t.run(()=>new q_(Zone.current,bE)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(te(ze))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function H_(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function _Y(n){return H_().ngZone.runOutsideAngular(()=>n())}function kc(n){return H_().ngZone.run(()=>n())}function vY(n){return EY(H_())(n)}function EY(n){return function(t){return t=t.lift(new RD(n.ngZone)),t.pipe(go(n.outsideAngular),mo(n.insideAngular))}}var wY=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),kc(()=>n.apply(void 0,r))},da=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=kc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qu,{},Qu,Qu))),r[s]=wY(r[s],t));let i=_Y(()=>n.apply(this,r));if(!e)if(i instanceof Re){let s=H_();return i.pipe(go(s.outsideAngular),mo(s.insideAngular))}else return kc(()=>i);return i instanceof Re?i.pipe(vY):i instanceof Promise?kc(()=>new Promise((s,a)=>i.then(c=>kc(()=>s(c)),c=>kc(()=>a(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:kc(()=>i)};var io=class{constructor(e){return e}},Fc=class{constructor(){return $_()}};function IY(n){return n&&n.length===1?n[0]:new io(Ku())}var PD=new X("angularfire2._apps"),bY={provide:io,useFactory:IY,deps:[[new xn,PD]]},TY={provide:Fc,deps:[[new xn,PD]]};function CY(n){return(e,t)=>{let r=t.get(Er);Gt("angularfire",Vc.full,"core"),Gt("angularfire",Vc.full,"app"),Gt("angular",vP.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new io(i)}}function UV(n,...e){return yr([bY,TY,{provide:PD,useFactory:CY(n),multi:!0,deps:[ze,nn,Ju,...e]}])}var jV=da(xD,!0);function rF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var iF=rF,sF=new to("auth","Firebase",rF());var J_=new aa("@firebase/auth");function DY(n,...e){J_.logLevel<=Qe.WARN&&J_.warn(`Auth (${ua}): ${n}`,...e)}function W_(n,...e){J_.logLevel<=Qe.ERROR&&J_.error(`Auth (${ua}): ${n}`,...e)}function zi(n,...e){throw eS(n,...e)}function Lc(n,...e){return eS(n,...e)}function oF(n,e,t){let r=Object.assign(Object.assign({},iF()),{[e]:t});return new to("auth","Firebase",r).create(e,{appName:n.name})}function ao(n){return oF(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eS(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sF.create(n,...e)}function pe(n,e,...t){if(!n)throw eS(e,...t)}function so(n){let e="INTERNAL ASSERTION FAILED: "+n;throw W_(e),new Error(e)}function fa(n,e){n||so(e)}function kD(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SY(){return BV()==="http:"||BV()==="https:"}function BV(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function AY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SY()||DV()||"connection"in navigator)?navigator.onLine:!0}function xY(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Uc=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,fa(t>e,"Short delay should be less than long delay!"),this.isMobile=TV()||SV()}get(){return AY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function tS(n,e){fa(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var X_=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var PY=new Uc(3e4,6e4);function pa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ma(s,a,c,l){return R(this,arguments,function*(n,e,t,r,i={}){return aF(n,i,()=>R(this,null,function*(){let h={},p={};r&&(e==="GET"?p=r:h={body:JSON.stringify(r)});let g=ep(Object.assign({key:n.config.apiKey},p)).slice(1),I=yield n._getAdditionalHeaders();I["Content-Type"]="application/json",n.languageCode&&(I["X-Firebase-Locale"]=n.languageCode);let T=Object.assign({method:e,headers:I},h);return CV()||(T.referrerPolicy="no-referrer"),X_.fetch()(cF(n,n.config.apiHost,t,g),T)}))})}function aF(n,e,t){return R(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},RY),e);try{let i=new VD(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw G_(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let c=s.ok?a.errorMessage:a.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw G_(n,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw G_(n,"email-already-in-use",a);if(l==="USER_DISABLED")throw G_(n,"user-disabled",a);let p=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw oF(n,p,h);zi(n,p)}}catch(i){if(i instanceof fr)throw i;zi(n,"network-request-failed",{message:String(i)})}})}function hp(s,a,c,l){return R(this,arguments,function*(n,e,t,r,i={}){let h=yield ma(n,e,t,r,i);return"mfaPendingCredential"in h&&zi(n,"multi-factor-auth-required",{_serverResponse:h}),h})}function cF(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?tS(n.config,i):`${n.config.apiScheme}://${i}`}function NY(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var VD=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Lc(this.auth,"network-request-failed")),PY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function G_(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Lc(n,e,r);return i.customData._tokenResponse=t,i}function $V(n){return n!==void 0&&n.enterprise!==void 0}var FD=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NY(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function MY(n,e){return R(this,null,function*(){return ma(n,"GET","/v2/recaptchaConfig",pa(n,e))})}function OY(n,e){return R(this,null,function*(){return ma(n,"POST","/v1/accounts:delete",e)})}function lF(n,e){return R(this,null,function*(){return ma(n,"POST","/v1/accounts:lookup",e)})}function sp(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nS(n,e=!1){return R(this,null,function*(){let t=no(n),r=yield t.getIdToken(e),i=rS(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:sp(ND(i.auth_time)),issuedAtTime:sp(ND(i.iat)),expirationTime:sp(ND(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ND(n){return Number(n)*1e3}function rS(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return W_("JWT malformed, contained fewer than 3 sections"),null;try{let i=pD(t);return i?JSON.parse(i):(W_("Failed to decode base64 JWT payload"),null)}catch(i){return W_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qV(n){let e=rS(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ap(n,e,t=!1){return R(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof fr&&kY(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function kY({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var LD=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>R(this,null,function*(){yield this.iteration()}),t)}iteration(){return R(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var cp=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sp(this.lastLoginAt),this.creationTime=sp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Z_(n){return R(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield ap(n,lF(t,{idToken:r}));pe(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?uF(s.providerUserInfo):[],c=VY(n.providerData,a),l=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!c?.length,p=l?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new cp(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)})}function iS(n){return R(this,null,function*(){let e=no(n);yield Z_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function VY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uF(n){return n.map(e=>{var{providerId:t}=e,r=CE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function FY(n,e){return R(this,null,function*(){let t=yield aF(n,{},()=>R(this,null,function*(){let r=ep({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=cF(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",X_.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function LY(n,e){return R(this,null,function*(){return ma(n,"POST","/v2/accounts:revokeToken",pa(n,e))})}var op=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let t=qV(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return R(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return R(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield FY(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new n;return r&&(pe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return so("not implemented")}};function ha(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Xu=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=CE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cp(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return R(this,null,function*(){let t=yield ap(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return nS(this,e)}reload(){return iS(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return R(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Z_(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return R(this,null,function*(){if(di(this.auth.app))return Promise.reject(ao(this.auth));let e=yield this.getIdToken();return yield ap(this,OY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,c,l,h,p;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,P=(a=t.photoURL)!==null&&a!==void 0?a:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:F,emailVerified:z,isAnonymous:J,providerData:G,stsTokenManager:E}=t;pe(F&&E,e,"internal-error");let m=op.fromJSON(this.name,E);pe(typeof F=="string",e,"internal-error"),ha(g,e.name),ha(I,e.name),pe(typeof z=="boolean",e,"internal-error"),pe(typeof J=="boolean",e,"internal-error"),ha(T,e.name),ha(P,e.name),ha(M,e.name),ha(N,e.name),ha(V,e.name),ha(L,e.name);let _=new n({uid:F,auth:e,email:I,emailVerified:z,displayName:g,isAnonymous:J,photoURL:P,phoneNumber:T,tenantId:M,stsTokenManager:m,createdAt:V,lastLoginAt:L});return G&&Array.isArray(G)&&(_.providerData=G.map(v=>Object.assign({},v))),N&&(_._redirectEventId=N),_}static _fromIdTokenResponse(e,t,r=!1){return R(this,null,function*(){let i=new op;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Z_(s),s})}static _fromGetAccountInfoResponse(e,t,r){return R(this,null,function*(){let i=t.users[0];pe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?uF(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,c=new op;c.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,h),l})}};var zV=new Map;function oo(n){fa(n instanceof Function,"Expected a class definition");let e=zV.get(n);return e?(fa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zV.set(n,e),e)}var UY=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return R(this,null,function*(){return!0})}_set(t,r){return R(this,null,function*(){this.storage[t]=r})}_get(t){return R(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return R(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),UD=UY;function K_(n,e,t){return`firebase:${n}:${e}:${t}`}var ev=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=K_(this.userKey,i.apiKey,s),this.fullPersistenceKey=K_("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return R(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Xu._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return R(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return R(this,null,function*(){if(!t.length)return new n(oo(UD),e,r);let i=(yield Promise.all(t.map(h=>R(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),s=i[0]||oo(UD),a=K_(r,e.config.apiKey,e.name),c=null;for(let h of t)try{let p=yield h._get(a);if(p){let g=Xu._fromJSON(e,p);h!==s&&(c=g),s=h;break}}catch{}let l=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],c&&(yield s._set(a,c.toJSON())),yield Promise.all(t.map(h=>R(this,null,function*(){if(h!==s)try{yield h._remove(a)}catch{}}))),new n(s,e,r))})}};function HV(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gF(e))return"Blackberry";if(yF(e))return"Webos";if(hF(e))return"Safari";if((e.includes("chrome/")||fF(e))&&!e.includes("edge/"))return"Chrome";if(mF(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function dF(n=an()){return/firefox\//i.test(n)}function hF(n=an()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fF(n=an()){return/crios\//i.test(n)}function pF(n=an()){return/iemobile/i.test(n)}function mF(n=an()){return/android/i.test(n)}function gF(n=an()){return/blackberry/i.test(n)}function yF(n=an()){return/webos/i.test(n)}function sS(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jY(n=an()){var e;return sS(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BY(){return AV()&&document.documentMode===10}function _F(n=an()){return sS(n)||mF(n)||yF(n)||gF(n)||/windows phone/i.test(n)||pF(n)}function vF(n,e=[]){let t;switch(n){case"Browser":t=HV(an());break;case"Worker":t=`${HV(an())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ua}/${r}`}var jD=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((a,c)=>{try{let l=e(s);a(l)}catch(l){c(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return R(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function $Y(t){return R(this,arguments,function*(n,e={}){return ma(n,"GET","/v2/passwordPolicy",pa(n,e))})}var qY=6,BD=class{constructor(e){var t,r,i,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:qY,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var $D=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new jD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oo(t)),this._initializationPromise=this.queue(()=>R(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ev.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return R(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return R(this,null,function*(){try{let t=yield lF(this,{idToken:e}),r=yield Xu._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return R(this,null,function*(){var t;if(di(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return R(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return R(this,null,function*(){try{yield Z_(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=xY()}_delete(){return R(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return R(this,null,function*(){if(di(this.app))return Promise.reject(ao(this));let t=e?no(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return R(this,null,function*(){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>R(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return R(this,null,function*(){return di(this.app)?Promise.reject(ao(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return di(this.app)?Promise.reject(ao(this)):this.queue(()=>R(this,null,function*(){yield this.assertedPersistence.setPersistence(oo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return R(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return R(this,null,function*(){let e=yield $Y(this),t=new BD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return R(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield LY(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return R(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return R(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&oo(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=yield ev.create(this,[oo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return R(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>R(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return R(this,null,function*(){if(e===this.currentUser)return this.queue(()=>R(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{a=!0,l()}}else{let l=e.addObserver(t);return()=>{a=!0,l()}}}directlySetCurrentUser(e){return R(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return R(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return R(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&DY(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Bc(n){return no(n)}var tv=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=PV(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cv={loadJS(){return R(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zY(n){cv=n}function EF(n){return cv.loadJS(n)}function HY(){return cv.recaptchaEnterpriseScript}function GY(){return cv.gapiScript}function wF(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var WY="recaptcha-enterprise",KY="NO_RECAPTCHA",qD=class{constructor(e){this.type=WY,this.auth=Bc(e)}verify(e="verify",t=!1){return R(this,null,function*(){function r(s){return R(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((a,c)=>R(this,null,function*(){MY(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let h=new FD(l);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(l=>{c(l)})}))})}function i(s,a,c){let l=window.grecaptcha;$V(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(KY)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(c=>{if(!t&&$V(window.grecaptcha))i(c,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HY();l.length!==0&&(l+=c),EF(l).then(()=>{i(c,s,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})})}};function GV(n,e,t,r=!1){return R(this,null,function*(){let i=new qD(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function zD(n,e,t,r){return R(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield GV(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>R(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield GV(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(s)}))})}function oS(n,e){let t=rp(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Mc(s,e??{}))return i;zi(i,"already-initialized")}return t.initialize({options:e})}function QY(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(oo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function aS(n,e,t){let r=Bc(n);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=IF(e),{host:a,port:c}=YY(e),l=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||JY()}function IF(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function YY(n){let e=IF(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:WV(r.substr(s.length+1))}}else{let[s,a]=r.split(":");return{host:s,port:WV(a)}}}function WV(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function JY(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var lp=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,t){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}};function XY(n,e){return R(this,null,function*(){return ma(n,"POST","/v1/accounts:signUp",e)})}function ZY(n,e){return R(this,null,function*(){return hp(n,"POST","/v1/accounts:signInWithPassword",pa(n,e))})}function eJ(n,e){return R(this,null,function*(){return hp(n,"POST","/v1/accounts:signInWithEmailLink",pa(n,e))})}function tJ(n,e){return R(this,null,function*(){return hp(n,"POST","/v1/accounts:signInWithEmailLink",pa(n,e))})}var up=class n extends lp{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return R(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zD(e,t,"signInWithPassword",ZY);case"emailLink":return eJ(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}})}_linkToIdToken(e,t){return R(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zD(e,r,"signUpPassword",XY);case"emailLink":return tJ(e,{idToken:t,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function MD(n,e){return R(this,null,function*(){return hp(n,"POST","/v1/accounts:signInWithIdp",pa(n,e))})}function nJ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rJ(n){let e=Gu(Wu(n)).link,t=e?Gu(Wu(e)).deep_link_id:null,r=Gu(Wu(n)).deep_link_id;return(r?Gu(Wu(r)).link:null)||r||t||e||n}var nv=class n{constructor(e){var t,r,i,s,a,c;let l=Gu(Wu(e)),h=(t=l.apiKey)!==null&&t!==void 0?t:null,p=(r=l.oobCode)!==null&&r!==void 0?r:null,g=nJ((i=l.mode)!==null&&i!==void 0?i:null);pe(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=rJ(e);try{return new n(t)}catch{return null}}};var bF=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return up._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=nv.parseLink(r);return pe(i,"argument-error"),up._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),rv=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var HD=class extends rv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function iJ(n,e){return R(this,null,function*(){return hp(n,"POST","/v1/accounts:signUp",pa(n,e))})}var Zu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return R(this,null,function*(){let s=yield Xu._fromIdTokenResponse(e,r,i),a=KV(r);return new n({user:s,providerId:a,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return R(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=KV(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function KV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var GD=class n extends fr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function TF(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?GD._fromErrorAndOperation(n,s,e,r):s})}function sJ(n,e,t=!1){return R(this,null,function*(){let r=yield ap(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Zu._forOperation(n,"link",r)})}function oJ(n,e,t=!1){return R(this,null,function*(){let{auth:r}=n;if(di(r.app))return Promise.reject(ao(r));let i="reauthenticate";try{let s=yield ap(n,TF(r,i,e,n),t);pe(s.idToken,r,"internal-error");let a=rS(s.idToken);pe(a,r,"internal-error");let{sub:c}=a;return pe(n.uid===c,r,"user-mismatch"),Zu._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&zi(r,"user-mismatch"),s}})}function CF(n,e,t=!1){return R(this,null,function*(){if(di(n.app))return Promise.reject(ao(n));let r="signIn",i=yield TF(n,r,e),s=yield Zu._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function cS(n,e){return R(this,null,function*(){return CF(Bc(n),e)})}function DF(n){return R(this,null,function*(){let e=Bc(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function lS(n,e,t){return R(this,null,function*(){if(di(n.app))return Promise.reject(ao(n));let r=Bc(n),a=yield zD(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iJ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&DF(n),l}),c=yield Zu._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c})}function uS(n,e,t){return di(n.app)?Promise.reject(ao(n)):cS(no(n),bF.credential(e,t)).catch(r=>R(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&DF(n),r}))}function dS(n,e,t,r){return no(n).onIdTokenChanged(e,t,r)}function hS(n,e,t){return no(n).beforeAuthStateChanged(e,t)}var iv="__sak";var sv=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(iv,"1"),this.storage.removeItem(iv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var aJ=1e3,cJ=10,lJ=(()=>{class n extends sv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_F(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,l,h)=>{this.notifyListeners(c,h)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);BY()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,cJ):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},aJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return R(this,null,function*(){yield hs(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return R(this,null,function*(){let r=yield hs(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return R(this,null,function*(){yield hs(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),SF=lJ;var uJ=(()=>{class n extends sv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),fS=uJ;function dJ(n){return Promise.all(n.map(e=>R(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var hJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return R(this,null,function*(){let r=t,{eventId:i,eventType:s,data:a}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(c).map(p=>R(this,null,function*(){return p(r.origin,a)})),h=yield dJ(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:h})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function AF(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var WD=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return R(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{let h=AF("",20);i.port1.start();let p=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(g){let I=g;if(I.data.eventId===h)switch(I.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(I.data.response);break;default:clearTimeout(p),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function qi(){return window}function fJ(n){qi().location.href=n}function xF(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}function pJ(){return R(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mJ(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function gJ(){return xF()?self:null}var RF="firebaseLocalStorageDb",yJ=1,ov="firebaseLocalStorage",PF="fbase_key",jc=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function lv(n,e){return n.transaction([ov],e?"readwrite":"readonly").objectStore(ov)}function _J(){let n=indexedDB.deleteDatabase(RF);return new jc(n).toPromise()}function KD(){let n=indexedDB.open(RF,yJ);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(ov,{keyPath:PF})}catch(i){t(i)}}),n.addEventListener("success",()=>R(this,null,function*(){let r=n.result;r.objectStoreNames.contains(ov)?e(r):(r.close(),yield _J(),e(yield KD()))}))})}function QV(n,e,t){return R(this,null,function*(){let r=lv(n,!0).put({[PF]:e,value:t});return new jc(r).toPromise()})}function vJ(n,e){return R(this,null,function*(){let t=lv(n,!1).get(e),r=yield new jc(t).toPromise();return r===void 0?null:r.value})}function YV(n,e){let t=lv(n,!0).delete(e);return new jc(t).toPromise()}var EJ=800,wJ=3,IJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return R(this,null,function*(){return this.db?this.db:(this.db=yield KD(),this.db)})}_withRetries(t){return R(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>wJ)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return R(this,null,function*(){return xF()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return R(this,null,function*(){this.receiver=hJ._getInstance(gJ()),this.receiver._subscribe("keyChanged",(t,r)=>R(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>R(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return R(this,null,function*(){var t,r;if(this.activeServiceWorker=yield pJ(),!this.activeServiceWorker)return;this.sender=new WD(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return R(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mJ()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return R(this,null,function*(){try{if(!indexedDB)return!1;let t=yield KD();return yield QV(t,iv,"1"),yield YV(t,iv),!0}catch{}return!1})}_withPendingWrite(t){return R(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return R(this,null,function*(){return this._withPendingWrite(()=>R(this,null,function*(){return yield this._withRetries(i=>QV(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return R(this,null,function*(){let r=yield this._withRetries(i=>vJ(i,t));return this.localCache[t]=r,r})}_remove(t){return R(this,null,function*(){return this._withPendingWrite(()=>R(this,null,function*(){return yield this._withRetries(r=>YV(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return R(this,null,function*(){let t=yield this._withRetries(s=>{let a=lv(s,!1).getAll();return new jc(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>R(this,null,function*(){return this._poll()}),EJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),NF=IJ;var fme=wF("rcb"),pme=new Uc(3e4,6e4);function bJ(n,e){return e?oo(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var dp=class extends lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return MD(e,this._buildIdpRequest())}_linkToIdToken(e,t){return MD(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return MD(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function TJ(n){return CF(n.auth,new dp(n),n.bypassAuthState)}function CJ(n){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),oJ(t,new dp(n),n.bypassAuthState)}function DJ(n){return R(this,null,function*(){let{auth:e,user:t}=n;return pe(t,e,"internal-error"),sJ(t,new dp(n),n.bypassAuthState)})}var QD=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>R(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return R(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:c}=e;if(a){this.reject(a);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TJ;case"linkViaPopup":case"linkViaRedirect":return DJ;case"reauthViaPopup":case"reauthViaRedirect":return CJ;default:zi(this.auth,"internal-error")}}resolve(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var mme=new Uc(2e3,1e4);var SJ="pendingRedirect",Q_=new Map,YD=class n extends QD{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return R(this,null,function*(){let e=Q_.get(this.auth._key());if(!e){try{let r=(yield AJ(this.resolver,this.auth))?yield hs(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Q_.set(this.auth._key(),e)}return this.bypassAuthState||Q_.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return R(this,null,function*(){if(e.type==="signInViaRedirect")return hs(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,hs(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return R(this,null,function*(){})}cleanUp(){}};function AJ(n,e){return R(this,null,function*(){let t=PJ(e),r=RJ(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function xJ(n,e){Q_.set(n._key(),e)}function RJ(n){return oo(n._redirectPersistence)}function PJ(n){return K_(SJ,n.config.apiKey,n.name)}function NJ(n,e,t=!1){return R(this,null,function*(){if(di(n.app))return Promise.reject(ao(n));let r=Bc(n),i=bJ(r,e),a=yield new YD(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var MJ=10*60*1e3,JD=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OJ(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!MF(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Lc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(JV(e))}saveEventToCache(e){this.cachedEventUids.add(JV(e)),this.lastProcessedEventTime=Date.now()}};function JV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function MF({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function OJ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MF(n);default:return!1}}function kJ(t){return R(this,arguments,function*(n,e={}){return ma(n,"GET","/v1/projects",e)})}var VJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FJ=/^https?/;function LJ(n){return R(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield kJ(n);for(let t of e)try{if(UJ(t))return}catch{}zi(n,"unauthorized-domain")})}function UJ(n){let e=kD(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!FJ.test(t))return!1;if(VJ.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jJ=new Uc(3e4,6e4);function XV(){let n=qi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function BJ(n){return new Promise((e,t)=>{var r,i,s;function a(){XV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XV(),t(Lc(n,"network-request-failed"))},timeout:jJ.get()})}if(!((i=(r=qi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qi().gapi)===null||s===void 0)&&s.load)a();else{let c=wF("iframefcb");return qi()[c]=()=>{gapi.load?a():t(Lc(n,"network-request-failed"))},EF(`${GY()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw Y_=null,e})}var Y_=null;function $J(n){return Y_=Y_||BJ(n),Y_}var qJ=new Uc(5e3,15e3),zJ="__/auth/iframe",HJ="emulator/auth/iframe",GJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KJ(n){let e=n.config;pe(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?tS(e,HJ):`https://${n.config.authDomain}/${zJ}`,r={apiKey:e.apiKey,appName:n.name,v:ua},i=WJ.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ep(r).slice(1)}`}function QJ(n){return R(this,null,function*(){let e=yield $J(n),t=qi().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:KJ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GJ,dontclear:!0},r=>new Promise((i,s)=>R(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=Lc(n,"network-request-failed"),c=qi().setTimeout(()=>{s(a)},qJ.get());function l(){qi().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{s(a)})})))})}var YJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JJ=500,XJ=600,ZJ="_blank",eX="http://localhost",av=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function tX(n,e,t,r=JJ,i=XJ){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},YJ),{width:r.toString(),height:i.toString(),top:s,left:a}),h=an().toLowerCase();t&&(c=fF(h)?ZJ:t),dF(h)&&(e=e||eX,l.scrollbars="yes");let p=Object.entries(l).reduce((I,[T,P])=>`${I}${T}=${P},`,"");if(jY(h)&&c!=="_self")return nX(e||"",c),new av(null);let g=window.open(e||"",c,p);pe(g,n,"popup-blocked");try{g.focus()}catch{}return new av(g)}function nX(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var rX="__/auth/handler",iX="emulator/auth/handler",sX=encodeURIComponent("fac");function ZV(n,e,t,r,i,s){return R(this,null,function*(){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ua,eventId:i};if(e instanceof rv){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",RV(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))a[p]=g}if(e instanceof HD){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(a.scopes=p.join(","))}n.tenantId&&(a.tid=n.tenantId);let c=a;for(let p of Object.keys(c))c[p]===void 0&&delete c[p];let l=yield n._getAppCheckToken(),h=l?`#${sX}=${encodeURIComponent(l)}`:"";return`${oX(n)}?${ep(c).slice(1)}${h}`})}function oX({config:n}){return n.emulator?tS(n,iX):`https://${n.authDomain}/${rX}`}var OD="webStorageSupport",XD=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fS,this._completeRedirectFn=NJ,this._overrideRedirectResult=xJ}_openPopup(e,t,r,i){return R(this,null,function*(){var s;fa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=yield ZV(e,t,r,kD(),i);return tX(e,a,AF())})}_openRedirect(e,t,r,i){return R(this,null,function*(){yield this._originValidation(e);let s=yield ZV(e,t,r,kD(),i);return fJ(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(fa(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return R(this,null,function*(){let t=yield QJ(e),r=new JD(e);return t.register("authEvent",i=>(pe(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(OD,{type:OD},i=>{var s;let a=(s=i?.[0])===null||s===void 0?void 0:s[OD];a!==void 0&&t(!!a),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=LJ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _F()||hF()||sS()}},OF=XD;var eF="@firebase/auth",tF="1.7.9";var ZD=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return R(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function aX(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cX(n){la(new Mr("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;pe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vF(n)},h=new $D(r,i,s,l);return QY(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),la(new Mr("auth-internal",e=>{let t=Bc(e.getProvider("auth").getImmediate());return(r=>new ZD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gt(eF,tF,aX(n)),Gt(eF,tF,"esm2017")}var lX=5*60,uX=_D("authIdTokenMaxAge")||lX,nF=null,dX=n=>e=>R(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uX)return;let i=t?.token;nF!==i&&(nF=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function pS(n=Ku()){let e=rp(n,"auth");if(e.isInitialized())return e.getImmediate();let t=oS(n,{popupRedirectResolver:OF,persistence:[NF,SF,fS]}),r=_D("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let a=dX(s.toString());hS(t,a,()=>a(t.currentUser)),dS(t,c=>a(c))}}let i=gD("auth");return i&&aS(t,`http://${i}`),t}function hX(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}zY({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Lc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",hX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cX("Browser");var kF="auth",$c=class{constructor(e){return e}},fp=class{constructor(){return ip(kF)}};var mS=new X("angularfire2.auth-instances");function rZ(n,e){let t=z_(kF,n,e);return t&&new $c(t)}function iZ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new $c(r)}}var sZ={provide:fp,deps:[[new xn,mS]]},oZ={provide:$c,useFactory:rZ,deps:[[new xn,mS],io]};function VF(n,...e){return Gt("angularfire",Vc.full,"auth"),yr([oZ,sZ,{provide:mS,useFactory:iZ(n),multi:!0,deps:[ze,nn,Ju,Fc,[new xn,Yu],...e]}])}var FF=da(lS,!0);var LF=da(pS,!0);var UF=da(uS,!0);var co=class{constructor(e=new Map,t=0,r=0){this.cartItems=e;this.amount=t;this.subTotal=r}addItem(e){let t=JSON.stringify(e.item),r=e.item;if(this.cartItems.has(t)){let i=this.cartItems.get(t)?.amount;if(i===3)return!1;{let s=Math.min(3,i+e.amount);this.cartItems.set(t,{grade:r.grade,name:r.name,price:r.price,amount:s}),this.amount-=i,this.amount+=s,this.subTotal+=r.price*s}}else this.cartItems.set(t,{grade:r.grade,name:r.name,price:r.price,amount:e.amount}),this.amount=this.amount+e.amount,this.subTotal+=r.price*e.amount;return!0}removeItem(e){if(this.cartItems.has(e)){let t=this.cartItems.get(e)?.price,r=this.cartItems.get(e)?.amount;return this.amount-=r,this.subTotal-=t*r,this.cartItems.delete(e),!0}else return!1}itemIncrement(e){let t=this.cartItems.get(e);t?.amount<=2&&(this.cartItems.set(e,{grade:t?.grade,name:t?.name,price:t?.price,amount:t?.amount+1}),this.amount=this.amount+1,this.subTotal+=t?.price)}itemDecrement(e){let t=this.cartItems.get(e);t?.amount>1?(this.cartItems.set(e,{grade:t?.grade,name:t?.name,price:t?.price,amount:t?.amount-1}),this.amount=this.amount-1,this.subTotal-=t?.price):t?.amount===1&&(this.removeItem(e),this.subTotal-=t?.price)}clearCart(){this.cartItems=new Map,this.amount=0,this.subTotal=0}serialize(){return JSON.stringify(this,(t,r)=>r instanceof Map?{__isMap:!0,data:Array.from(r.entries())}:r)}getItems(){return this.cartItems}getAmt(){return this.amount}getSubTotal(){return this.subTotal}};var ed=class n{constructor(e){this.auth=e}login(e,t){return R(this,null,function*(){let i=(yield UF(this.auth,e,t)).user,s=dr(hr,`users/${i.uid}`),a=yield $i(s);if(a.exists())return a.id;throw new Error("User information not found in Firestore")})}register(e,t){return R(this,null,function*(){try{let i=(yield FF(this.auth,e,t)).user,s=dr(hr,`users/${i.uid}`);return yield yV(s,{email:e,password:t,orders:[],cart:new co().serialize()}),i}catch(r){console.error("There was an error creating user: ",r)}return null})}logout(){return this.auth.signOut().then(()=>{alert("You have signed out.")}).catch(e=>(console.error(`Error signing out: ${e}`),!1)),!0}static \u0275fac=function(t){return new(t||n)(te($c))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function cZ(n,e){n&1&&(D(0,"div",1)(1,"h4",5),x(2,"Loading..."),C()())}function lZ(n,e){n&1&&(D(0,"div",1)(1,"h4",5),x(2,"There are no orders in your order history"),C()())}function uZ(n,e){if(n&1){let t=qt();D(0,"a",10),le("click",function(i){let s=Mt(t).$implicit,a=ne(5);return i.preventDefault(),Ot(a.toOrderDetails(s.id))}),D(1,"div",11)(2,"div",8),x(3),C(),D(4,"div",8),x(5),pn(6,"date"),C(),D(7,"div",8),x(8),pn(9,"currency"),C()()()}if(n&2){let t=e.$implicit;O(3),He(t.id),O(2),He(Ro(6,3,t.date,"dd/MM/yyy")),O(3),He(xo(9,6,t.total))}}function dZ(n,e){if(n&1&&(D(0,"div",7)(1,"div",8),x(2,"Order ID"),C(),D(3,"div",8),x(4,"Date"),C(),D(5,"div",8),x(6,"Total"),C()(),Pn(7,uZ,10,8,"a",9,Rn)),n&2){let t=ne(4);O(7),Nn(t.orders)}}function hZ(n,e){if(n&1&&(D(0,"div",2)(1,"h3",3),x(2,"Email:"),C(),D(3,"h3",6),x(4),C()(),D(5,"h3"),x(6,"Orders:"),C(),Q(7,lZ,3,0,"div",1)(8,dZ,9,0)),n&2){let t=ne(3);O(4),He(t.userInfo.email),O(3),W(t.orders.length===0?7:8)}}function fZ(n,e){n&1&&(D(0,"h1"),x(1,"There was an error fetching user information."),C())}function pZ(n,e){if(n&1&&Q(0,hZ,9,2)(1,fZ,2,0,"h1"),n&2){let t=ne(2);W(t.userInfo?0:1)}}function mZ(n,e){if(n&1){let t=qt();D(0,"div",2)(1,"h1",3),x(2,"Account Details"),C(),D(3,"button",4),le("click",function(){Mt(t);let i=ne();return Ot(i.userLogout())}),x(4,"Logout"),C()(),Q(5,cZ,3,0,"div",1)(6,pZ,2,1)}if(n&2){let t=ne();O(5),W(t.loading?5:6)}}function gZ(n,e){n&1&&(D(0,"div",1)(1,"h4",5),x(2,"Please login to see account info."),C()())}var uv=class n{constructor(e,t,r,i,s){this.router=e;this.route=t;this.loggedService=r;this.eventService=i;this.authService=s}loading=!0;logged;userID="";userInfo;orders=[];userLogout(){this.authService.logout()&&this.eventService.emit("userLogout",{})}toOrderDetails(e){this.router.navigate(["user",this.userID,"order",e])}ngOnInit(){return R(this,null,function*(){if(this.loggedService.state.subscribe(e=>{this.logged=e}),this.logged){this.route.paramMap.subscribe(e=>{this.userID=e.get("userID")});try{let e=dr(hr,"users",this.userID),r=(yield $i(e)).data();this.userInfo={email:r.email,orders:r.orders},this.userInfo.orders.forEach(i=>R(this,null,function*(){let s=dr(hr,"orders",i),c=(yield $i(s)).data();this.orders.push({id:i,date:c.orderDate.toDate(),total:c.total})}))}catch(e){console.error("Error fetching user info:",e)}finally{this.loading=!1}}})}static \u0275fac=function(t){return new(t||n)($(ot),$(gn),$(oa),$(ht),$(ed))};static \u0275cmp=se({type:n,selectors:[["user-page"]],standalone:!0,features:[oe],decls:3,vars:1,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-center","align-items-center",2,"height","20vh"],[1,"row","my-3"],[1,"col-sm-2","col-md-2","col-lg-2"],[1,"btn","btn-primary","col-sm-1","col-md-1","col-lg-1",3,"click"],[1,"mt-3"],[1,"col-sm-10","col-md-10","col-lg-10"],[1,"row","my-2"],[1,"col-sm-4","col-md-4","col-lg-4"],["href","#",2,"text-decoration","none"],["href","#",2,"text-decoration","none",3,"click"],[1,"row","my-1","p-2"]],template:function(t,r){t&1&&(D(0,"div",0),Q(1,mZ,7,1)(2,gZ,3,0,"div",1),C()),t&2&&(O(),W(r.logged?1:2))},dependencies:[sr,kl,No]})};function yZ(n,e){n&1&&(D(0,"small",10),x(1,"This field is required"),C())}function _Z(n,e){n&1&&(D(0,"small",10),x(1,"Please enter a valid email"),C())}function vZ(n,e){if(n&1&&Q(0,yZ,2,0,"small",10)(1,_Z,2,0,"small",10),n&2){let t,r,i=ne();W((t=i.loginForm.get("loginEmail"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.loginForm.get("loginEmail"))!=null&&r.hasError("email")?1:-1)}}function EZ(n,e){n&1&&(D(0,"small",10),x(1,"This field is required"),C())}function wZ(n,e){if(n&1&&Q(0,EZ,2,0,"small",10),n&2){let t,r=ne();W((t=r.loginForm.get("loginPassword"))!=null&&t.hasError("required")?0:-1)}}function IZ(n,e){n&1&&(D(0,"small",10),x(1,"This field is required"),C())}function bZ(n,e){n&1&&(D(0,"small",10),x(1,"Please enter a valid email"),C())}function TZ(n,e){if(n&1&&Q(0,IZ,2,0,"small",10)(1,bZ,2,0,"small",10),n&2){let t,r,i=ne();W((t=i.registerForm.get("newEmail"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.registerForm.get("newEmail"))!=null&&r.hasError("email")?1:-1)}}function CZ(n,e){n&1&&(D(0,"small",10),x(1,"This field is required"),C())}function DZ(n,e){n&1&&(D(0,"small",10),x(1,"Please enter a password with at least 8 characters"),C())}function SZ(n,e){if(n&1&&Q(0,CZ,2,0,"small",10)(1,DZ,2,0,"small",10),n&2){let t,r,i=ne();W((t=i.registerForm.get("newPassword"))!=null&&t.hasError("required")?0:-1),O(),W((r=i.registerForm.get("newPassword"))!=null&&r.hasError("invalidPassword")?1:-1)}}var dv=class n{constructor(e,t){this.auth=e;this.eventService=t}loginEmail="";loginPassword="";newEmail="";newPassword="";loginForm=new oi({loginEmail:new ct("",[et.required,et.email]),loginPassword:new ct("",[et.required])});registerForm=new oi({newEmail:new ct("",[et.required,et.email]),newPassword:new ct("",[et.required,lO])});login(){this.auth.login(this.loginEmail,this.loginPassword).then(e=>{this.eventService.emit("userLogin",e)})}register(){this.auth.register(this.newEmail,this.newPassword)}static \u0275fac=function(t){return new(t||n)($(ed),$(ht))};static \u0275cmp=se({type:n,selectors:[["login-page"]],standalone:!0,features:[oe],decls:33,vars:12,consts:[[1,"container",3,"ngSubmit","formGroup"],["id","loginModalLabel",1,"modal-title","fs-5","my-3"],[1,"form-label"],["type","text","formControlName","loginEmail",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","loginPassword",1,"form-control",3,"ngModelChange","ngModel"],[1,"pt-3"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"container","pt-3",3,"ngSubmit","formGroup"],["type","text","formControlName","newEmail",1,"form-control",3,"ngModelChange","ngModel"],["type","text","formControlName","newPassword",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-danger"]],template:function(t,r){if(t&1&&(D(0,"div")(1,"form",0),le("ngSubmit",function(s){return s.preventDefault(),r.login()}),D(2,"h1",1),x(3,"Log in to your account"),C(),D(4,"div")(5,"label",2),x(6,"Email"),C(),D(7,"input",3),Ze("ngModelChange",function(s){return tt(r.loginEmail,s)||(r.loginEmail=s),s}),C(),Q(8,vZ,2,2),C(),D(9,"div")(10,"label",2),x(11,"Password"),C(),D(12,"input",4),Ze("ngModelChange",function(s){return tt(r.loginPassword,s)||(r.loginPassword=s),s}),C(),Q(13,wZ,1,1),C(),D(14,"div",5)(15,"button",6),x(16,"Login"),C()()(),D(17,"form",7),le("ngSubmit",function(s){return s.preventDefault(),r.register()}),D(18,"h1",1),x(19,"Create a new account"),C(),D(20,"div")(21,"label",2),x(22,"Email"),C(),D(23,"input",8),Ze("ngModelChange",function(s){return tt(r.newEmail,s)||(r.newEmail=s),s}),C(),Q(24,TZ,2,2),C(),D(25,"div")(26,"label",2),x(27,"Password"),C(),D(28,"input",9),Ze("ngModelChange",function(s){return tt(r.newPassword,s)||(r.newPassword=s),s}),C(),Q(29,SZ,2,2),C(),D(30,"div",5)(31,"button",6),x(32,"Register"),C()()()()),t&2){let i,s,a,c;O(),ve("formGroup",r.loginForm),O(6),Xe("ngModel",r.loginEmail),O(),W((i=r.loginForm.get("loginEmail"))!=null&&i.invalid&&((i=r.loginForm.get("loginEmail"))!=null&&i.dirty||(i=r.loginForm.get("loginEmail"))!=null&&i.touched)?8:-1),O(4),Xe("ngModel",r.loginPassword),O(),W((s=r.loginForm.get("loginPassword"))!=null&&s.invalid&&((s=r.loginForm.get("loginPassword"))!=null&&s.dirty||(s=r.loginForm.get("loginPassword"))!=null&&s.touched)?13:-1),O(2),ve("disabled",r.loginForm.invalid),O(2),ve("formGroup",r.registerForm),O(6),Xe("ngModel",r.newEmail),O(),W((a=r.registerForm.get("newEmail"))!=null&&a.invalid&&((a=r.registerForm.get("newEmail"))!=null&&a.dirty||(a=r.registerForm.get("newEmail"))!=null&&a.touched)?24:-1),O(4),Xe("ngModel",r.newPassword),O(),W((c=r.registerForm.get("newPassword"))!=null&&c.invalid&&((c=r.registerForm.get("newPassword"))!=null&&c.dirty||(c=r.registerForm.get("newPassword"))!=null&&c.touched)?29:-1),O(2),ve("disabled",r.registerForm.invalid)}},dependencies:[Tr,$o,Pi,Ni,Bo,Xl,oc,ac]})};var hv=class n{transform(e){if(!e)return"";let t=e.slice(-4);return e.slice(0,-4).replace(/\d/g,"X")+t}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=wh({name:"maskCreditCard",type:n,pure:!0,standalone:!0})};function AZ(n,e){n&1&&(D(0,"div",1)(1,"h4",2),x(2,"Loading..."),C()())}function xZ(n,e){if(n&1&&(D(0,"div",8)(1,"h4",9),x(2),C(),D(3,"h4",10),x(4),pn(5,"currency"),C()()),n&2){let t=e.$implicit;O(2),Xa("(",t.grade,")-",t.name,""),O(2),He(xo(5,3,t.price))}}function RZ(n,e){if(n&1&&(D(0,"h1",3),x(1,"Order Details"),C(),D(2,"div",4)(3,"div",5),x(4,"Order ID"),C(),D(5,"div",6),x(6),C()(),D(7,"div",4)(8,"div",5),x(9,"Order Date"),C(),D(10,"div",6),x(11),pn(12,"date"),C()(),D(13,"div",4)(14,"div",5),x(15,"Order Subtotal"),C(),D(16,"div",6),x(17),pn(18,"currency"),C()(),D(19,"div",4)(20,"div",5),x(21,"Order Tax"),C(),D(22,"div",6),x(23),pn(24,"currency"),C()(),D(25,"div",4)(26,"div",5),x(27,"Order Total"),C(),D(28,"div",6),x(29),pn(30,"currency"),C()(),D(31,"div")(32,"h3",7),x(33,"Order Items"),C(),Pn(34,xZ,6,5,"div",8,Rn),C(),D(36,"div")(37,"h3",5),x(38,"Billing Info"),C(),D(39,"div",4)(40,"div",5),x(41,"Name"),C(),D(42,"div",6),x(43),C()(),D(44,"div",4)(45,"div",5),x(46,"Email"),C(),D(47,"div",6),x(48),C()(),D(49,"div",4)(50,"div",5),x(51,"Card"),C(),D(52,"div",6),x(53),pn(54,"maskCreditCard"),C()(),D(55,"div",4)(56,"div",5),x(57,"Address"),C(),D(58,"div",6),x(59),C()()(),D(60,"div")(61,"h3",5),x(62,"Delivery Info"),C(),D(63,"div",4)(64,"div",5),x(65,"Name"),C(),D(66,"div",6),x(67),C()(),D(68,"div",4)(69,"div",5),x(70,"Email"),C(),D(71,"div",6),x(72),C()(),D(73,"div",4)(74,"div",5),x(75,"Phone"),C(),D(76,"div",6),x(77),C()(),D(78,"div",4)(79,"div",5),x(80,"Address"),C(),D(81,"div",6),x(82),C()()()),n&2){let t=ne();O(6),He(t.orderID),O(5),He(Ro(12,19,t.orderInfo.orderDate,"dd/MM/yyy")),O(6),He(xo(18,22,t.orderInfo.subTotal)),O(6),He(xo(24,24,t.orderInfo.tax)),O(6),He(xo(30,26,t.orderInfo.total)),O(5),Nn(t.orderInfo.items),O(9),Xa("",t.orderInfo.checkoutInfo._fname," ",t.orderInfo.checkoutInfo._lname,""),O(5),He(t.orderInfo.checkoutInfo._email),O(5),He(xo(54,28,t.orderInfo.checkoutInfo._card)),O(6),Km("",t.orderInfo.checkoutInfo._address," ",t.orderInfo.checkoutInfo._city," ",t.orderInfo.deliveryInfo._zipcode,""),O(8),Xa("",t.orderInfo.deliveryInfo._fname," ",t.orderInfo.deliveryInfo._lname,""),O(5),He(t.orderInfo.deliveryInfo._email),O(5),He(t.orderInfo.deliveryInfo._phone),O(5),Km("",t.orderInfo.deliveryInfo._address," ",t.orderInfo.deliveryInfo._city," ",t.orderInfo.deliveryInfo._zipcode,"")}}var fv=class n{constructor(e,t){this.route=e;this.loggedService=t}loading=!0;orderID;userID;orderInfo;logged;falseUser=!1;ngOnInit(){return R(this,null,function*(){if(this.loggedService.state.subscribe(e=>{this.logged=e}),this.logged){this.route.paramMap.subscribe(e=>{this.orderID=e.get("orderID"),this.userID=e.get("userID")});try{let e=dr(hr,"orders",this.orderID),r=(yield $i(e)).data();if(this.userID!=r.account){this.falseUser=!0,this.loading=!1;return}let i=[];r.items.forEach(s=>{i.push(JSON.parse(s))}),this.orderInfo={account:r.account,amount:r.amount,checkoutInfo:JSON.parse(r.checkoutInfo),deliveryInfo:JSON.parse(r.deliveryInfo),items:i,orderDate:r.orderDate.toDate(),subTotal:r.subTotal,tax:r.tax,total:r.total}}catch(e){console.error("Error fetching order info:",e)}finally{this.loading=!1}}})}static \u0275fac=function(t){return new(t||n)($(gn),$(oa))};static \u0275cmp=se({type:n,selectors:[["app-order-details"]],standalone:!0,features:[oe],decls:3,vars:1,consts:[[1,"container-fluid","m-2"],[1,"d-flex","justify-content-center","align-items-center",2,"height","20vh"],[1,"mt-3"],[2,"font-weight","bold"],[1,"row"],[1,"col-sm-2","col-md-2","col-lg-2",2,"font-weight","bold"],[1,"col-sm-2","col-md-2","col-lg-2"],[1,"col-sm-2","col-md-2","col-lg-2","mt-3",2,"font-weight","bold"],[1,"row","px-3"],[1,"col-sm-4","col-md-4","col-lg-4","p-0"],[1,"col-sm-2","col-md-2","col-lg-2","p-0"]],template:function(t,r){t&1&&(D(0,"div",0),Q(1,AZ,3,0,"div",1)(2,RZ,83,30),C()),t&2&&(O(),W(r.loading?1:2))},dependencies:[sr,kl,No,hv]})};var pv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["about-page"]],standalone:!0,features:[oe],decls:12,vars:0,consts:[[1,"container","mt-3"],[1,"title"],[1,"mb-3"],["href","https://cohenk.github.io/"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"h1",1),x(2,"About Us"),C(),D(3,"h2",2),x(4,"Thank you for visiting Hobbies Emporium!"),C(),D(5,"p"),x(6," Please note that this is not a real shopping site for Gundam plastic models. It is a demo project created as part of a computer science student\u2019s portfolio. "),C(),D(7,"p"),x(8," If you're interested in learning more about the creator of this site, feel free to visit: "),Ee(9,"br"),D(10,"a",3),x(11,"My portfolio on Github."),C()()())},styles:[".container[_ngcontent-%COMP%]{padding:0 3rem;min-height:65vh}.title[_ngcontent-%COMP%]{text-decoration:underline}p[_ngcontent-%COMP%]{font-size:1.5rem}a[_ngcontent-%COMP%]{color:#2c52b3;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#fb2f38}"]})};var PZ=()=>["about/"],mv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["payment-shipping-page"]],standalone:!0,features:[oe],decls:13,vars:2,consts:[[1,"container","mt-3"],[1,"title"],[1,"mb-3"],[3,"routerLink"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"h1",1),x(2,"Payments & Shipping"),C(),D(3,"h2",2),x(4," Please do not provide any payment information on this website. "),C(),D(5,"p"),x(6," Hobbies Emporium is a mock shopping website created for demonstration purposes only. No products are actually being sold, and no transactions are processed. "),C(),D(7,"p"),x(8," For more details, please visit the "),D(9,"a",3),x(10,"About Us"),C(),x(11," page linked at the bottom of the site. "),Ee(12,"br"),C()()),t&2&&(O(9),ve("routerLink",Ds(1,PZ)))},dependencies:[Kl,Wl],styles:[".container[_ngcontent-%COMP%]{padding:0 3rem;min-height:65vh}.title[_ngcontent-%COMP%]{text-decoration:underline}p[_ngcontent-%COMP%]{font-size:1.5rem}a[_ngcontent-%COMP%]{color:#2c52b3;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#fb2f38}"]})};var NZ=()=>["privacy/"],gv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["terms-page"]],standalone:!0,features:[oe],decls:18,vars:2,consts:[[1,"container","mt-3"],[1,"title"],[3,"routerLink"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"h1",1),x(2,"Terms & Conditions"),C(),D(3,"h3"),x(4,"PRIVACY"),C(),D(5,"p"),x(6," Please review our "),D(7,"a",2),x(8,"Privacy Notice"),C(),x(9,", which also governs your visit to HobbiesEmporium, to understand our practices. "),C(),D(10,"h3"),x(11,"COPYRIGHT"),C(),D(12,"p"),x(13," All content included on this site, such as text, graphics, logos, button icons, images, audio clips, digital downloads, data compilations, and software, is the property of HobbiesEmporium or its content suppliers and protected by United States and international copyright laws. The compilation of all content on this site is the exclusive property of HobbiesEmporium and protected by U.S. and international copyright laws. All software used on this site is the property of HobbiesEmporium or its software suppliers and protected by United States and international copyright laws. "),C(),D(14,"h3"),x(15,"YOUR ACCOUNT"),C(),D(16,"p"),x(17," If you use this site, you are responsible for maintaining the confidentiality of your account and password and for restricting access to your computer, and you agree to accept responsibility for all activities that occur under your account or password. "),C()()),t&2&&(O(7),ve("routerLink",Ds(1,NZ)))},dependencies:[Kl,Wl],styles:[".container[_ngcontent-%COMP%]{padding:0 3rem;min-height:65vh}h3[_ngcontent-%COMP%]{margin-bottom:0;margin-top:1rem}p[_ngcontent-%COMP%]{font-size:1rem;text-decoration:bold}.title[_ngcontent-%COMP%]{text-decoration:underline}a[_ngcontent-%COMP%]{color:#2c52b3;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#fb2f38}"]})};var yv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["privacy-page"]],standalone:!0,features:[oe],decls:29,vars:0,consts:[[1,"container","mt-3"],[1,"title"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"h1",1),x(2,"Privacy Policy"),C(),D(3,"h5"),x(4," HobbiesEmporium knows that you care how information about you is used and shared, and we appreciate your trust that we will do so carefully and sensibly. This notice describes our privacy policy. By visiting HobbiesEmporium, you are accepting the practices described in this Privacy Notice. "),C(),D(5,"h4"),x(6,"What Personal Information About Visitors Does HobbiesEmporium Gather?"),C(),D(7,"p"),x(8," HobbiesEmporium is a non-commercial website and does not actively collect or track any personal information from its visitors. However: "),C(),D(9,"ul")(10,"li"),x(11," This site utilizes Google's Firebase platform to handle data storage and account creation. "),C(),D(12,"li"),x(13," Any information that users voluntarily enter to create an account (such as email addresses or usernames) is stored securely in Firebase. "),C(),D(14,"li"),x(15," As a result, any personal data you provide is subject to Google\u2019s Privacy Policy and data handling practices. "),C()(),D(16,"p"),x(17," By using this website, you acknowledge and accept that any information submitted may be processed and stored through Google Firebase services. "),C(),D(18,"h4"),x(19,"What About Cookies?"),C(),D(20,"p"),x(21," HobbiesEmporium does not actively use cookies or tracking technologies through any external libraries or services. However, this website is built using the Angular framework, and as such: "),C(),D(22,"ul")(23,"li"),x(24," Any cookies or local storage behavior present is governed by default Angular behavior and your browser's handling of web storage. "),C(),D(25,"li"),x(26," We do not implement or manage cookies for analytics, advertising, or personalization. "),C()(),D(27,"p"),x(28," By using this site, you acknowledge that any cookie or storage behavior is subject to your browser's settings and the default behavior of the Angular framework. "),C()())},styles:[".container[_ngcontent-%COMP%]{padding:0 3rem;min-height:65vh}h5[_ngcontent-%COMP%]{font-style:bold;margin-top:1rem;margin-bottom:1rem}p[_ngcontent-%COMP%]{font-size:1rem;text-decoration:bold}.title[_ngcontent-%COMP%]{text-decoration:underline}"]})};var BF=[{path:"",component:hf},{path:"about",component:pv},{path:"paymentShipping",component:mv},{path:"terms",component:gv},{path:"privacy",component:yv},{path:"search",component:hf},{path:"details/:productID",component:Vy},{path:"login",component:dv},{path:"checkout",component:Ly},{path:"delivery",component:Uy},{path:"user/:userID/order/:orderID",component:fv},{path:"user/:userID",component:uv},{path:"**",component:Fg}];var gS={providers:[TP({eventCoalescing:!0}),t1(BF),rN()]};function MZ(n,e){if(n&1){let t=qt();D(0,"a",17),le("click",function(i){Mt(t);let s=ne();return i.preventDefault(),Ot(s.profile())}),Ee(1,"img",18),D(2,"div",19),x(3,"Profile"),C()()}}function OZ(n,e){if(n&1){let t=qt();D(0,"a",17),le("click",function(i){Mt(t);let s=ne();return i.preventDefault(),Ot(s.toLoginPage())}),Ee(1,"img",18),D(2,"div",19),x(3,"Profile"),C()()}}var _v=class n{constructor(e){this.router=e}items=0;logged;userID;toHomepage(){this.router.navigate([""])}toLoginPage(){this.router.navigate(["login"])}profile(){this.router.navigate(["user/",this.userID])}static \u0275fac=function(t){return new(t||n)($(ot))};static \u0275cmp=se({type:n,selectors:[["navbar"]],inputs:{items:"items",logged:"logged",userID:"userID"},standalone:!0,features:[oe],decls:20,vars:2,consts:[["role","banner",1,"toolbar"],["href","#",3,"click"],["height","100%","alt","HE Logo","src","Hobbies Emporium.png"],[1,"spacer"],["href","#",1,"profileLink"],["type","button","data-bs-toggle","modal","data-bs-target","#cartModal",1,"btn","cart-button"],["id","cart","alt","Cart Logo","src","shopping_cart.png",1,"cartLogo","p-2"],[1,"cartTag"],[1,"cartNumber"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/HobbiesEmporium","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/HobbiesEmporium","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["href","#",1,"profileLink",3,"click"],["height","30","id","profile","alt","Profile Logo","src","profile_icon.png",1,"profileLogo","m-0"],[1,"profileTag"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"a",1),le("click",function(s){return s.preventDefault(),r.toHomepage()}),Ee(2,"img",2),C(),Ee(3,"div",3),Q(4,MZ,4,0,"a",4)(5,OZ,4,0,"a",4),D(6,"button",5),Ee(7,"img",6),D(8,"div",7),x(9,"Cart"),C(),D(10,"div",8),x(11),C()(),D(12,"a",9),Xw(),D(13,"svg",10),Ee(14,"rect",11)(15,"path",12),C()(),sR(),D(16,"a",13),Xw(),D(17,"svg",14),Ee(18,"path",15)(19,"path",16),C()()()),t&2&&(O(4),W(r.logged?4:5),O(7),He(r.items))},styles:[".spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:sticky;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#1976d2;color:#fff;font-weight:600}nav[_ngcontent-%COMP%]{max-height:60px;background-color:#1976d2}img[_ngcontent-%COMP%]{max-height:60px;margin:0 16px}.profileLink[_ngcontent-%COMP%]{position:relative}.profileTag[_ngcontent-%COMP%]{position:absolute;top:25%;color:#fff;font-size:10px;opacity:1;transform:translateY(130%);opacity:0}.profileLink[_ngcontent-%COMP%]:hover   .profileTag[_ngcontent-%COMP%]{opacity:1}.cart-button[_ngcontent-%COMP%]{position:relative;padding:5px 10px 5px 5px}.cartNumber[_ngcontent-%COMP%]{position:absolute;top:15%;right:15%;color:#fff;width:15px;border-radius:50%;background-color:#fb2f38;font-size:10px}.cartTag[_ngcontent-%COMP%]{position:absolute;color:#fff;font-size:10px;bottom:0;opacity:1;transform:translate(100%);opacity:0}.cart-button[_ngcontent-%COMP%]:hover   .cartTag[_ngcontent-%COMP%]{opacity:1}#cart[_ngcontent-%COMP%]{height:40px;margin:0}#twitter-logo[_ngcontent-%COMP%]{height:40px;margin:0 8px}#youtube-logo[_ngcontent-%COMP%]{height:40px;margin:0 16px}#twitter-logo[_ngcontent-%COMP%]:hover, #youtube-logo[_ngcontent-%COMP%]:hover{opacity:.8}"]})};var vv=class n{constructor(e){this.eventService=e}cartItem;increment(){this.cartItem[1].amount<3&&this.eventService.emit("incrementCartCount",this.cartItem[0])}decrement(){this.cartItem[1].amount>1&&this.eventService.emit("decrementCartCount",this.cartItem[0])}removeItem(){this.eventService.emit("removeItem",this.cartItem[0])}static \u0275fac=function(t){return new(t||n)($(ht))};static \u0275cmp=se({type:n,selectors:[["cart-item"]],inputs:{cartItem:"cartItem"},standalone:!0,features:[oe],decls:19,vars:3,consts:[[1,"row"],[1,"col-sm-9","col-md-9","col-lg-9","d-flex"],[1,"col-sm-2","col-md-2","col-lg-2","d-flex","p-0"],[1,"pagination"],[1,"page-item"],[1,"page-link"],["aria-label","Previous",1,"btn","btn-primary",3,"click"],["aria-hidden","true"],["aria-label","Next",1,"btn","btn-primary",3,"click"],[1,"col-sm-1","col-md-1","col-lg-1","d-flex","p-0"],[1,"btn-close",3,"click"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1),x(2),C(),D(3,"div",2)(4,"div")(5,"ul",3)(6,"li",4)(7,"span",5),x(8),C()(),D(9,"li",4)(10,"button",6),le("click",function(){return r.decrement()}),D(11,"span",7),x(12,"-"),C()()(),D(13,"li",4)(14,"button",8),le("click",function(){return r.increment()}),D(15,"span",7),x(16,"+"),C()()()()()(),D(17,"div",9)(18,"button",10),le("click",function(){return r.removeItem()}),C()()()),t&2&&(O(2),Xa(" (",r.cartItem[1].grade,") ",r.cartItem[1].name," "),O(6),He(r.cartItem[1].amount))},styles:[".d-flex[_ngcontent-%COMP%]{align-items:center}.pagination[_ngcontent-%COMP%]{margin:auto}"]})};var Ev=class n{currentCart=new Tt(null);setCurrentCart(e){this.currentCart.next(e)}getCartData(){return this.currentCart.asObservable()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function VZ(n,e){if(n&1&&Ee(0,"cart-item",13),n&2){let t=e.$implicit;ve("cartItem",t)}}function FZ(n,e){if(n&1&&Pn(0,VZ,1,1,"cart-item",13,Rn),n&2){let t=ne();Nn(t.cart.getItems())}}function LZ(n,e){n&1&&(D(0,"div"),x(1,"No items in your cart yet."),C())}var wv=class n{constructor(e,t){this.router=e;this.cartService=t}cart;logged;toCheckout(){this.cart.getAmt()===0?alert("There are no items in your cart to checkout."):this.logged?(this.cartService.setCurrentCart(this.cart),this.router.navigate(["checkout"])):alert("Please sign in or create an account to proceed.")}static \u0275fac=function(t){return new(t||n)($(ot),$(Ev))};static \u0275cmp=se({type:n,selectors:[["cart-modal"]],inputs:{cart:"cart",logged:"logged"},standalone:!0,features:[oe],decls:22,vars:7,consts:[["id","cartModal","tabindex","-1","aria-labelledby","cartModalLabel","aria-hidden","true",1,"modal","modal-xl","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","cartModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","justify-content-between"],[1,"col-sm-9","col-md-9","col-lg-9"],[1,"col-sm-3","col-md-3","col-lg-3"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[3,"cartItem"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),x(5,"Your Shopping Cart"),C(),Ee(6,"button",5),C(),D(7,"div",6),Q(8,FZ,2,0)(9,LZ,2,0,"div"),Ee(10,"hr"),D(11,"div",7)(12,"div",8),x(13,"Subtotal:"),C(),D(14,"div",9),x(15),pn(16,"currency"),C()()(),D(17,"div",10)(18,"button",11),x(19,"Close"),C(),D(20,"button",12),le("click",function(){return r.toCheckout()}),x(21,"Checkout"),C()()()()()),t&2&&(O(8),W(r.cart.getAmt()>0?8:9),O(7),He(_P(16,2,r.cart.getSubTotal(),"USD",!0,"1.2-2")))},dependencies:[vv,kl],styles:[".modal[_ngcontent-%COMP%]{position:absolute;inset:10px 0 0;z-index:10040;overflow:auto;overflow-y:auto}"]})};var Iv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["thankyou-modal"]],standalone:!0,features:[oe],decls:12,vars:0,consts:[["id","thankyouModal","tabindex","-1","aria-labelledby","thankyouModalLabel","aria-hidden","true",1,"modal","modal-xl","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","thankyouModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),x(5,"Hobbies Emporium Support"),C(),Ee(6,"button",5),C(),D(7,"div",6),x(8," Thank you for your purchase! For more details on your order check your account or check the phone number you have provided for your order. "),C(),D(9,"div",7)(10,"button",8),x(11,"Close"),C()()()()())}})};var UZ=()=>["about/"],jZ=()=>["paymentShipping/"],BZ=()=>["terms/"],$Z=()=>["privacy/"],bv=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=se({type:n,selectors:[["footer"]],standalone:!0,features:[oe],decls:23,vars:8,consts:[[1,"container-fluid","m-0"],[1,"row"],[1,"col-sm-2","col-md-2","col-lg-2","d-flex","flex-column"],[1,"col-sm-5","col-md-5","col-lg-5","d-flex","flex-column"],[3,"routerLink"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"div",1),Ee(2,"div",2),D(3,"div",3)(4,"h4"),x(5,"Information Center"),C(),D(6,"a",4),x(7,"About Us"),C(),D(8,"a",4),x(9,"Payments & Shipping"),C(),D(10,"a",4),x(11,"Terms of Service"),C(),D(12,"a",4),x(13,"Privacy Policy"),C()(),D(14,"div",3)(15,"h4"),x(16,"Hobbies Emporium Info"),C(),D(17,"h6"),x(18,"Address: 1234 Example Street, City of Industries, CA 91803"),C(),D(19,"h6"),x(20,"Hours: Monday-Friday: 10:00AM-5:00PM, Saturday: 11AM-6PM"),C(),D(21,"h6"),x(22,"Contact: sales@hobbiesemporium.com"),C()()()()),t&2&&(O(6),ve("routerLink",Ds(4,UZ)),O(2),ve("routerLink",Ds(5,jZ)),O(2),ve("routerLink",Ds(6,BZ)),O(2),ve("routerLink",Ds(7,$Z)))},dependencies:[Kl,Wl]})};var Tv=class n{setData(e,t){sessionStorage.setItem(e,JSON.stringify(t))}getData(e){let t=sessionStorage.getItem(e);return t?JSON.parse(t):null}setObjectWithMap(e,t){let r=JSON.stringify(t,(i,s)=>s instanceof Map?{__isMap:!0,data:Array.from(s.entries())}:s);sessionStorage.setItem(e,r)}getObjectWithMap(e){let t=sessionStorage.getItem(e);return t?JSON.parse(t,(r,i)=>i&&i.__isMap?new Map(i.data):i):null}removeData(e){sessionStorage.removeItem(e)}clear(){sessionStorage.clear()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};var Cv=class n{constructor(e,t,r,i){this.router=t;this.loggedService=r;this.sessionService=i;e.listen("addToCart",s=>{this.cart.addItem(s)?alert("Items have been added to your cart."):alert("No more of this item can be purchased."),this.sessionService.setObjectWithMap("userCartInfo",this.cart),this.loggedIn&&this.updateFirestoreUserCart()}),e.listen("incrementCartCount",s=>{this.cart.itemIncrement(s),this.sessionService.setObjectWithMap("userCartInfo",this.cart),this.loggedIn&&this.updateFirestoreUserCart()}),e.listen("decrementCartCount",s=>{this.cart.itemDecrement(s),this.sessionService.setObjectWithMap("userCartInfo",this.cart),this.loggedIn&&this.updateFirestoreUserCart()}),e.listen("removeItem",s=>{this.cart.removeItem(s),this.sessionService.setObjectWithMap("userCartInfo",this.cart),this.loggedIn&&this.updateFirestoreUserCart()}),e.listen("checkoutInfo",s=>{this.userCheckoutInfo=s,this.sessionService.setData("userCheckoutInfo",s)}),e.listen("deliveryInfo",s=>R(this,null,function*(){this.userDeliveryInfo=s,this.sessionService.setData("userDeliveryInfo",s);try{let a=aV(hr,"orders"),c=dr(hr,`users/${this.userID}`),p=(yield $i(c)).data().orders,g=[];this.cart.getItems().forEach(I=>{g.push(JSON.stringify(I))}),_V(a,{account:this.userID,items:g,amount:this.cart.getAmt(),subTotal:this.cart.getSubTotal(),tax:parseFloat((this.cart.getSubTotal()*.2).toFixed(2)),total:parseFloat((this.cart.getSubTotal()*1.2).toFixed(2)),orderDate:new Date,checkoutInfo:JSON.stringify(this.userCheckoutInfo),deliveryInfo:JSON.stringify(this.userDeliveryInfo)}).then(I=>R(this,null,function*(){p.push(I.id),yield cD(c,{orders:p})}))}catch(a){console.error("There was an error creating order: ",a);return}this.cart.clearCart(),this.sessionService.removeData("userCartInfo"),this.loggedIn&&this.updateFirestoreUserCart()})),e.listen("userLogout",s=>{this.loggedIn=!1,this.loggedService.setLoggedState(!1),this.sessionService.removeData("userID"),this.sessionService.removeData("userCartInfo"),this.cart=new co,this.router.navigate([""])}),e.listen("userLogin",s=>{this.userLogin(s)})}title="HobbiesEmporium";cart=new co;loggedIn=!1;userID="";userCheckoutInfo=new yu;userDeliveryInfo=new vu;updateFirestoreUserCart(){return R(this,null,function*(){let e=dr(hr,`users/${this.userID}`);yield cD(e,{cart:this.cart.serialize()})})}coalesceCarts(){return R(this,null,function*(){let e=dr(hr,`users/${this.userID}`),i=(yield $i(e)).data().cart,s=JSON.parse(i,(l,h)=>h&&h.__isMap?new Map(h.data):h),a=new co;return this.cart.getItems().forEach((l,h)=>{a.addItem({item:JSON.parse(h),amount:l.amount})}),s.cartItems.forEach((l,h)=>{a.addItem({item:JSON.parse(h),amount:l.amount})}),a})}sessionLogin(e){this.loggedService.setLoggedState(!0),this.loggedIn=!0,this.userID=e,this.sessionService.setData("userID",e)}userLogin(e){this.sessionLogin(e),this.coalesceCarts().then(t=>{this.cart=t,this.updateFirestoreUserCart(),this.sessionService.setObjectWithMap("userCartInfo",this.cart)}),this.router.navigate(["user/",this.userID])}ngOnInit(){alert("This is a demo website, please do not provide any real personal information.");let e=this.sessionService.getData("userID"),t=this.sessionService.getObjectWithMap("userCartInfo"),r=this.sessionService.getData("userCheckoutInfo"),i=this.sessionService.getData("userDeliveryInfo");e&&this.sessionLogin(e),t&&(this.cart=new co(t.cartItems,t.amount,t.subTotal)),r&&(this.userCheckoutInfo=r),i&&(this.userDeliveryInfo=i)}static \u0275fac=function(t){return new(t||n)($(ht),$(ot),$(oa),$(Tv))};static \u0275cmp=se({type:n,selectors:[["app-root"]],standalone:!0,features:[oe],decls:6,vars:5,consts:[[1,"main"],[3,"cart","logged"],[1,"sticky-top",3,"items","logged","userID"]],template:function(t,r){t&1&&(D(0,"div",0),Ee(1,"cart-modal",1)(2,"thankyou-modal")(3,"navbar",2)(4,"router-outlet")(5,"footer"),C()),t&2&&(O(),ve("cart",r.cart)("logged",r.loggedIn),O(2),ve("items",r.cart.getAmt())("logged",r.loggedIn)("userID",r.userID))},dependencies:[P0,_v,wv,Iv,bv],styles:['[_nghost-%COMP%]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:14px;color:#333;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.main[_ngcontent-%COMP%]{display:flex;flex-direction:column}p[_ngcontent-%COMP%]{margin:0}footer[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:1rem}']})};var $F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qF={};var yS,zF;(function(){var n;function e(E,m){function _(){}_.prototype=m.prototype,E.D=m.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(v,w,S){for(var y=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)y[nt-2]=arguments[nt];return m.prototype[w].apply(v,y)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,_){_||(_=0);var v=Array(16);if(typeof m=="string")for(var w=0;16>w;++w)v[w]=m.charCodeAt(_++)|m.charCodeAt(_++)<<8|m.charCodeAt(_++)<<16|m.charCodeAt(_++)<<24;else for(w=0;16>w;++w)v[w]=m[_++]|m[_++]<<8|m[_++]<<16|m[_++]<<24;m=E.g[0],_=E.g[1],w=E.g[2];var S=E.g[3],y=m+(S^_&(w^S))+v[0]+3614090360&4294967295;m=_+(y<<7&4294967295|y>>>25),y=S+(w^m&(_^w))+v[1]+3905402710&4294967295,S=m+(y<<12&4294967295|y>>>20),y=w+(_^S&(m^_))+v[2]+606105819&4294967295,w=S+(y<<17&4294967295|y>>>15),y=_+(m^w&(S^m))+v[3]+3250441966&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(S^_&(w^S))+v[4]+4118548399&4294967295,m=_+(y<<7&4294967295|y>>>25),y=S+(w^m&(_^w))+v[5]+1200080426&4294967295,S=m+(y<<12&4294967295|y>>>20),y=w+(_^S&(m^_))+v[6]+2821735955&4294967295,w=S+(y<<17&4294967295|y>>>15),y=_+(m^w&(S^m))+v[7]+4249261313&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(S^_&(w^S))+v[8]+1770035416&4294967295,m=_+(y<<7&4294967295|y>>>25),y=S+(w^m&(_^w))+v[9]+2336552879&4294967295,S=m+(y<<12&4294967295|y>>>20),y=w+(_^S&(m^_))+v[10]+4294925233&4294967295,w=S+(y<<17&4294967295|y>>>15),y=_+(m^w&(S^m))+v[11]+2304563134&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(S^_&(w^S))+v[12]+1804603682&4294967295,m=_+(y<<7&4294967295|y>>>25),y=S+(w^m&(_^w))+v[13]+4254626195&4294967295,S=m+(y<<12&4294967295|y>>>20),y=w+(_^S&(m^_))+v[14]+2792965006&4294967295,w=S+(y<<17&4294967295|y>>>15),y=_+(m^w&(S^m))+v[15]+1236535329&4294967295,_=w+(y<<22&4294967295|y>>>10),y=m+(w^S&(_^w))+v[1]+4129170786&4294967295,m=_+(y<<5&4294967295|y>>>27),y=S+(_^w&(m^_))+v[6]+3225465664&4294967295,S=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(S^m))+v[11]+643717713&4294967295,w=S+(y<<14&4294967295|y>>>18),y=_+(S^m&(w^S))+v[0]+3921069994&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^S&(_^w))+v[5]+3593408605&4294967295,m=_+(y<<5&4294967295|y>>>27),y=S+(_^w&(m^_))+v[10]+38016083&4294967295,S=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(S^m))+v[15]+3634488961&4294967295,w=S+(y<<14&4294967295|y>>>18),y=_+(S^m&(w^S))+v[4]+3889429448&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^S&(_^w))+v[9]+568446438&4294967295,m=_+(y<<5&4294967295|y>>>27),y=S+(_^w&(m^_))+v[14]+3275163606&4294967295,S=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(S^m))+v[3]+4107603335&4294967295,w=S+(y<<14&4294967295|y>>>18),y=_+(S^m&(w^S))+v[8]+1163531501&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(w^S&(_^w))+v[13]+2850285829&4294967295,m=_+(y<<5&4294967295|y>>>27),y=S+(_^w&(m^_))+v[2]+4243563512&4294967295,S=m+(y<<9&4294967295|y>>>23),y=w+(m^_&(S^m))+v[7]+1735328473&4294967295,w=S+(y<<14&4294967295|y>>>18),y=_+(S^m&(w^S))+v[12]+2368359562&4294967295,_=w+(y<<20&4294967295|y>>>12),y=m+(_^w^S)+v[5]+4294588738&4294967295,m=_+(y<<4&4294967295|y>>>28),y=S+(m^_^w)+v[8]+2272392833&4294967295,S=m+(y<<11&4294967295|y>>>21),y=w+(S^m^_)+v[11]+1839030562&4294967295,w=S+(y<<16&4294967295|y>>>16),y=_+(w^S^m)+v[14]+4259657740&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^S)+v[1]+2763975236&4294967295,m=_+(y<<4&4294967295|y>>>28),y=S+(m^_^w)+v[4]+1272893353&4294967295,S=m+(y<<11&4294967295|y>>>21),y=w+(S^m^_)+v[7]+4139469664&4294967295,w=S+(y<<16&4294967295|y>>>16),y=_+(w^S^m)+v[10]+3200236656&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^S)+v[13]+681279174&4294967295,m=_+(y<<4&4294967295|y>>>28),y=S+(m^_^w)+v[0]+3936430074&4294967295,S=m+(y<<11&4294967295|y>>>21),y=w+(S^m^_)+v[3]+3572445317&4294967295,w=S+(y<<16&4294967295|y>>>16),y=_+(w^S^m)+v[6]+76029189&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(_^w^S)+v[9]+3654602809&4294967295,m=_+(y<<4&4294967295|y>>>28),y=S+(m^_^w)+v[12]+3873151461&4294967295,S=m+(y<<11&4294967295|y>>>21),y=w+(S^m^_)+v[15]+530742520&4294967295,w=S+(y<<16&4294967295|y>>>16),y=_+(w^S^m)+v[2]+3299628645&4294967295,_=w+(y<<23&4294967295|y>>>9),y=m+(w^(_|~S))+v[0]+4096336452&4294967295,m=_+(y<<6&4294967295|y>>>26),y=S+(_^(m|~w))+v[7]+1126891415&4294967295,S=m+(y<<10&4294967295|y>>>22),y=w+(m^(S|~_))+v[14]+2878612391&4294967295,w=S+(y<<15&4294967295|y>>>17),y=_+(S^(w|~m))+v[5]+4237533241&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~S))+v[12]+1700485571&4294967295,m=_+(y<<6&4294967295|y>>>26),y=S+(_^(m|~w))+v[3]+2399980690&4294967295,S=m+(y<<10&4294967295|y>>>22),y=w+(m^(S|~_))+v[10]+4293915773&4294967295,w=S+(y<<15&4294967295|y>>>17),y=_+(S^(w|~m))+v[1]+2240044497&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~S))+v[8]+1873313359&4294967295,m=_+(y<<6&4294967295|y>>>26),y=S+(_^(m|~w))+v[15]+4264355552&4294967295,S=m+(y<<10&4294967295|y>>>22),y=w+(m^(S|~_))+v[6]+2734768916&4294967295,w=S+(y<<15&4294967295|y>>>17),y=_+(S^(w|~m))+v[13]+1309151649&4294967295,_=w+(y<<21&4294967295|y>>>11),y=m+(w^(_|~S))+v[4]+4149444226&4294967295,m=_+(y<<6&4294967295|y>>>26),y=S+(_^(m|~w))+v[11]+3174756917&4294967295,S=m+(y<<10&4294967295|y>>>22),y=w+(m^(S|~_))+v[2]+718787259&4294967295,w=S+(y<<15&4294967295|y>>>17),y=_+(S^(w|~m))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(w+(y<<21&4294967295|y>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var _=m-this.blockSize,v=this.B,w=this.h,S=0;S<m;){if(w==0)for(;S<=_;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<m;)if(v[w++]=E.charCodeAt(S++),w==this.blockSize){i(this,v),w=0;break}}else for(;S<m;)if(v[w++]=E[S++],w==this.blockSize){i(this,v),w=0;break}}this.h=w,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var _=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=_&255,_/=256;for(this.u(E),E=Array(16),m=_=0;4>m;++m)for(var v=0;32>v;v+=8)E[_++]=this.g[m]>>>v&255;return E};function s(E,m){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=m(E)}function a(E,m){this.h=m;for(var _=[],v=!0,w=E.length-1;0<=w;w--){var S=E[w]|0;v&&S==m||(_[w]=S,v=!1)}this.g=_}var c={};function l(E){return-128<=E&&128>E?s(E,function(m){return new a([m|0],0>m?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return g;if(0>E)return N(h(-E));for(var m=[],_=1,v=0;E>=_;v++)m[v]=E/_|0,_*=4294967296;return new a(m,0)}function p(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return N(p(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(m,8)),v=g,w=0;w<E.length;w+=8){var S=Math.min(8,E.length-w),y=parseInt(E.substring(w,w+S),m);8>S?(S=h(Math.pow(m,S)),v=v.j(S).add(h(y))):(v=v.j(_),v=v.add(h(y)))}return v}var g=l(0),I=l(1),T=l(16777216);n=a.prototype,n.m=function(){if(M(this))return-N(this).m();for(var E=0,m=1,_=0;_<this.g.length;_++){var v=this.i(_);E+=(0<=v?v:4294967296+v)*m,m*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P(this))return"0";if(M(this))return"-"+N(this).toString(E);for(var m=h(Math.pow(E,6)),_=this,v="";;){var w=z(_,m).g;_=V(_,w.j(m));var S=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=w,P(_))return S+v;for(;6>S.length;)S="0"+S;v=S+v}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function P(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=V(this,E),M(E)?-1:P(E)?0:1};function N(E){for(var m=E.g.length,_=[],v=0;v<m;v++)_[v]=~E.g[v];return new a(_,~E.h).add(I)}n.abs=function(){return M(this)?N(this):this},n.add=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0,w=0;w<=m;w++){var S=v+(this.i(w)&65535)+(E.i(w)&65535),y=(S>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);v=y>>>16,S&=65535,y&=65535,_[w]=y<<16|S}return new a(_,_[_.length-1]&-2147483648?-1:0)};function V(E,m){return E.add(N(m))}n.j=function(E){if(P(this)||P(E))return g;if(M(this))return M(E)?N(this).j(N(E)):N(N(this).j(E));if(M(E))return N(this.j(N(E)));if(0>this.l(T)&&0>E.l(T))return h(this.m()*E.m());for(var m=this.g.length+E.g.length,_=[],v=0;v<2*m;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var w=0;w<E.g.length;w++){var S=this.i(v)>>>16,y=this.i(v)&65535,nt=E.i(w)>>>16,Ut=E.i(w)&65535;_[2*v+2*w]+=y*Ut,L(_,2*v+2*w),_[2*v+2*w+1]+=S*Ut,L(_,2*v+2*w+1),_[2*v+2*w+1]+=y*nt,L(_,2*v+2*w+1),_[2*v+2*w+2]+=S*nt,L(_,2*v+2*w+2)}for(v=0;v<m;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=m;v<2*m;v++)_[v]=0;return new a(_,0)};function L(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function F(E,m){this.g=E,this.h=m}function z(E,m){if(P(m))throw Error("division by zero");if(P(E))return new F(g,g);if(M(E))return m=z(N(E),m),new F(N(m.g),N(m.h));if(M(m))return m=z(E,N(m)),new F(N(m.g),m.h);if(30<E.g.length){if(M(E)||M(m))throw Error("slowDivide_ only works with positive integers.");for(var _=I,v=m;0>=v.l(E);)_=J(_),v=J(v);var w=G(_,1),S=G(v,1);for(v=G(v,2),_=G(_,2);!P(v);){var y=S.add(v);0>=y.l(E)&&(w=w.add(_),S=y),v=G(v,1),_=G(_,1)}return m=V(E,w.j(m)),new F(w,m)}for(w=g;0<=E.l(m);){for(_=Math.max(1,Math.floor(E.m()/m.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),S=h(_),y=S.j(m);M(y)||0<y.l(E);)_-=v,S=h(_),y=S.j(m);P(S)&&(S=I),w=w.add(S),E=V(E,y)}return new F(w,E)}n.A=function(E){return z(this,E).h},n.and=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)&E.i(v);return new a(_,this.h&E.h)},n.or=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)|E.i(v);return new a(_,this.h|E.h)},n.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),_=[],v=0;v<m;v++)_[v]=this.i(v)^E.i(v);return new a(_,this.h^E.h)};function J(E){for(var m=E.g.length+1,_=[],v=0;v<m;v++)_[v]=E.i(v)<<1|E.i(v-1)>>>31;return new a(_,E.h)}function G(E,m){var _=m>>5;m%=32;for(var v=E.g.length-_,w=[],S=0;S<v;S++)w[S]=0<m?E.i(S+_)>>>m|E.i(S+_+1)<<32-m:E.i(S+_);return new a(w,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zF=qF.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,yS=qF.Integer=a}).apply(typeof $F<"u"?$F:typeof self<"u"?self:typeof window<"u"?window:{});var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lo={};var HF,zZ,GF,WF,KF,QF,YF,JF,XF;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,d){return o==Array.prototype||o==Object.prototype||(o[u]=d.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dv=="object"&&Dv];for(var u=0;u<o.length;++u){var d=o[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=t(this);function i(o,u){if(u)e:{var d=r;o=o.split(".");for(var f=0;f<o.length-1;f++){var b=o[f];if(!(b in d))break e;d=d[b]}o=o[o.length-1],f=d[o],u=u(f),u!=f&&u!=null&&e(d,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var d=0,f=!1,b={next:function(){if(!f&&d<o.length){var A=d++;return{value:u(A,o[A]),done:!1}}return f=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,d){return d})}});var a=a||{},c=this||self;function l(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function h(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function p(o,u,d){return o.call.apply(o.bind,arguments)}function g(o,u,d){if(!o)throw Error();if(2<arguments.length){var f=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,f),o.apply(u,b)}}return function(){return o.apply(u,arguments)}}function I(o,u,d){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,I.apply(null,arguments)}function T(o,u){var d=Array.prototype.slice.call(arguments,1);return function(){var f=d.slice();return f.push.apply(f,arguments),o.apply(this,f)}}function P(o,u){function d(){}d.prototype=u.prototype,o.aa=u.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(f,b,A){for(var k=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)k[ie-2]=arguments[ie];return u.prototype[b].apply(f,k)}}function M(o){let u=o.length;if(0<u){let d=Array(u);for(let f=0;f<u;f++)d[f]=o[f];return d}return[]}function N(o,u){for(let d=1;d<arguments.length;d++){let f=arguments[d];if(l(f)){let b=o.length||0,A=f.length||0;o.length=b+A;for(let k=0;k<A;k++)o[b+k]=f[k]}else o.push(f)}}class V{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function L(o){return/^[\s\xa0]*$/.test(o)}function F(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function z(o){return z[" "](o),o}z[" "]=function(){};var J=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function G(o,u,d){for(let f in o)u.call(d,o[f],f,o)}function E(o,u){for(let d in o)u.call(void 0,o[d],d,o)}function m(o){let u={};for(let d in o)u[d]=o[d];return u}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(o,u){let d,f;for(let b=1;b<arguments.length;b++){f=arguments[b];for(d in f)o[d]=f[d];for(let A=0;A<_.length;A++)d=_[A],Object.prototype.hasOwnProperty.call(f,d)&&(o[d]=f[d])}}function w(o){var u=1;o=o.split(":");let d=[];for(;0<u&&o.length;)d.push(o.shift()),u--;return o.length&&d.push(o.join(":")),d}function S(o){c.setTimeout(()=>{throw o},0)}function y(){var o=vn;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class nt{constructor(){this.h=this.g=null}add(u,d){let f=Ut.get();f.set(u,d),this.h?this.h.next=f:this.g=f,this.h=f}}var Ut=new V(()=>new Xt,o=>o.reset());class Xt{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,un=!1,vn=new nt,fi=()=>{let o=c.Promise.resolve(void 0);mt=()=>{o.then(ya)}};var ya=()=>{for(var o;o=y();){try{o.h.call(o.g)}catch(d){S(d)}var u=Ut;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}un=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var pi=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let d=()=>{};c.addEventListener("test",d,u),c.removeEventListener("test",d,u)}catch{}return o}();function Dt(o,u){if(Ae.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,f=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(J){e:{try{z(u.nodeName);var b=!0;break e}catch{}b=!1}b||(u=null)}}else d=="mouseover"?u=o.fromElement:d=="mouseout"&&(u=o.toElement);this.relatedTarget=u,f?(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Wi[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Dt.aa.h.call(this)}}P(Dt,Ae);var Wi={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var dn="closure_listenable_"+(1e6*Math.random()|0),Or=0;function _a(o,u,d,f,b){this.listener=o,this.proxy=null,this.src=u,this.type=d,this.capture=!!f,this.ha=b,this.key=++Or,this.da=this.fa=!1}function kr(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Qn(o){this.src=o,this.g={},this.h=0}Qn.prototype.add=function(o,u,d,f,b){var A=o.toString();o=this.g[A],o||(o=this.g[A]=[],this.h++);var k=mi(o,u,f,b);return-1<k?(u=o[k],d||(u.fa=!1)):(u=new _a(u,this.src,A,!!f,b),u.fa=d,o.push(u)),u};function Ki(o,u){var d=u.type;if(d in o.g){var f=o.g[d],b=Array.prototype.indexOf.call(f,u,void 0),A;(A=0<=b)&&Array.prototype.splice.call(f,b,1),A&&(kr(u),o.g[d].length==0&&(delete o.g[d],o.h--))}}function mi(o,u,d,f){for(var b=0;b<o.length;++b){var A=o[b];if(!A.da&&A.listener==u&&A.capture==!!d&&A.ha==f)return b}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Yi={};function uo(o,u,d,f,b){if(f&&f.once)return va(o,u,d,f,b);if(Array.isArray(u)){for(var A=0;A<u.length;A++)uo(o,u[A],d,f,b);return null}return d=yi(d),o&&o[dn]?o.K(u,d,h(f)?!!f.capture:!!f,b):ho(o,u,d,!1,f,b)}function ho(o,u,d,f,b,A){if(!u)throw Error("Invalid event type");var k=h(b)?!!b.capture:!!b,ie=Vr(o);if(ie||(o[Qi]=ie=new Qn(o)),d=ie.add(u,d,f,k,A),d.proxy)return d;if(f=sd(),d.proxy=f,f.src=o,f.listener=d,o.addEventListener)pi||(b=k),b===void 0&&(b=!1),o.addEventListener(u.toString(),f,b);else if(o.attachEvent)o.attachEvent(fo(u.toString()),f);else if(o.addListener&&o.removeListener)o.addListener(f);else throw Error("addEventListener and attachEvent are unavailable.");return d}function sd(){function o(d){return u.call(o.src,o.listener,d)}let u=Gc;return o}function va(o,u,d,f,b){if(Array.isArray(u)){for(var A=0;A<u.length;A++)va(o,u[A],d,f,b);return null}return d=yi(d),o&&o[dn]?o.L(u,d,h(f)?!!f.capture:!!f,b):ho(o,u,d,!0,f,b)}function Yn(o,u,d,f,b){if(Array.isArray(u))for(var A=0;A<u.length;A++)Yn(o,u[A],d,f,b);else f=h(f)?!!f.capture:!!f,d=yi(d),o&&o[dn]?(o=o.i,u=String(u).toString(),u in o.g&&(A=o.g[u],d=mi(A,d,f,b),-1<d&&(kr(A[d]),Array.prototype.splice.call(A,d,1),A.length==0&&(delete o.g[u],o.h--)))):o&&(o=Vr(o))&&(u=o.g[u.toString()],o=-1,u&&(o=mi(u,d,f,b)),(d=-1<o?u[o]:null)&&pr(d))}function pr(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[dn])Ki(u.i,o);else{var d=o.type,f=o.proxy;u.removeEventListener?u.removeEventListener(d,f,o.capture):u.detachEvent?u.detachEvent(fo(d),f):u.addListener&&u.removeListener&&u.removeListener(f),(d=Vr(u))?(Ki(d,o),d.h==0&&(d.src=null,u[Qi]=null)):kr(o)}}}function fo(o){return o in Yi?Yi[o]:Yi[o]="on"+o}function Gc(o,u){if(o.da)o=!0;else{u=new Dt(u,this);var d=o.listener,f=o.ha||o.src;o.fa&&pr(o),o=d.call(f,u)}return o}function Vr(o){return o=o[Qi],o instanceof Qn?o:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function yi(o){return typeof o=="function"?o:(o[gi]||(o[gi]=function(u){return o.handleEvent(u)}),o[gi])}function Pe(){gt.call(this),this.i=new Qn(this),this.M=this,this.F=null}P(Pe,gt),Pe.prototype[dn]=!0,Pe.prototype.removeEventListener=function(o,u,d,f){Yn(this,o,u,d,f)};function Fe(o,u){var d,f=o.F;if(f)for(d=[];f;f=f.F)d.push(f);if(o=o.M,f=u.type||u,typeof u=="string")u=new Ae(u,o);else if(u instanceof Ae)u.target=u.target||o;else{var b=u;u=new Ae(f,o),v(u,b)}if(b=!0,d)for(var A=d.length-1;0<=A;A--){var k=u.g=d[A];b=Ji(k,f,!0,u)&&b}if(k=u.g=o,b=Ji(k,f,!0,u)&&b,b=Ji(k,f,!1,u)&&b,d)for(A=0;A<d.length;A++)k=u.g=d[A],b=Ji(k,f,!1,u)&&b}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var d=o.g[u],f=0;f<d.length;f++)kr(d[f]);delete o.g[u],o.h--}}this.F=null},Pe.prototype.K=function(o,u,d,f){return this.i.add(String(o),u,!1,d,f)},Pe.prototype.L=function(o,u,d,f){return this.i.add(String(o),u,!0,d,f)};function Ji(o,u,d,f){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var b=!0,A=0;A<u.length;++A){var k=u[A];if(k&&!k.da&&k.capture==d){var ie=k.listener,ke=k.ha||k.src;k.fa&&Ki(o.i,k),b=ie.call(ke,f)!==!1&&b}}return b&&!f.defaultPrevented}function od(o,u,d){if(typeof o=="function")d&&(o=I(o,d));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function ad(o){o.g=od(()=>{o.g=null,o.i&&(o.i=!1,ad(o))},o.l);let u=o.h;o.h=null,o.m.apply(null,u)}class Ov extends gt{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:ad(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(o){gt.call(this),this.h=o,this.g={}}P(Fr,gt);var cd=[];function ld(o){G(o.g,function(u,d){this.g.hasOwnProperty(d)&&pr(u)},o),o.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),ld(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=c.JSON.stringify,kv=c.JSON.parse,Vv=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function wa(){}wa.prototype.h=null;function ud(o){return o.h||(o.h=o.i())}function dd(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ia(){Ae.call(this,"d")}P(Ia,Ae);function ba(){Ae.call(this,"c")}P(ba,Ae);var En={},hd=null;function Xi(){return hd=hd||new Pe}En.La="serverreachability";function fd(o){Ae.call(this,En.La,o)}P(fd,Ae);function Ur(o){let u=Xi();Fe(u,new fd(u))}En.STAT_EVENT="statevent";function pd(o,u){Ae.call(this,En.STAT_EVENT,o),this.stat=u}P(pd,Ae);function Ge(o){let u=Xi();Fe(u,new pd(u,o))}En.Ma="timingevent";function md(o,u){Ae.call(this,En.Ma,o),this.size=u}P(md,Ae);function jr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},u)}function Br(){this.g=!0}Br.prototype.xa=function(){this.g=!1};function Fv(o,u,d,f,b,A){o.info(function(){if(o.g)if(A)for(var k="",ie=A.split("&"),ke=0;ke<ie.length;ke++){var Z=ie[ke].split("=");if(1<Z.length){var $e=Z[0];Z=Z[1];var qe=$e.split("_");k=2<=qe.length&&qe[1]=="type"?k+($e+"="+Z+"&"):k+($e+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+f+") [attempt "+b+"]: "+u+`
`+d+`
`+k})}function Lv(o,u,d,f,b,A,k){o.info(function(){return"XMLHTTP RESP ("+f+") [ attempt "+b+"]: "+u+`
`+d+`
`+A+" "+k})}function Jn(o,u,d,f){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+jv(o,d)+(f?" "+f:"")})}function Uv(o,u){o.info(function(){return"TIMEOUT: "+u})}Br.prototype.info=function(){};function jv(o,u){if(!o.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var f=d[o];if(!(2>f.length)){var b=f[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return Ea(d)}catch{return u}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ta;function es(){}P(es,wa),es.prototype.g=function(){return new XMLHttpRequest},es.prototype.i=function(){return{}},Ta=new es;function Zt(o,u,d,f){this.j=o,this.i=u,this.l=d,this.R=f||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yd}function yd(){this.i=null,this.g="",this.h=!1}var _d={},Ca={};function Da(o,u,d){o.L=1,o.v=is(jt(u)),o.m=d,o.P=!0,vd(o,null)}function vd(o,u){o.F=Date.now(),ts(o),o.A=jt(o.v);var d=o.A,f=o.R;Array.isArray(f)||(f=[String(f)]),Md(d.i,"t",f),o.C=0,d=o.j.J,o.h=new yd,o.g=Jd(o.j,d?u:null,!o.m),0<o.O&&(o.M=new Ov(I(o.Y,o,o.g),o.O)),u=o.U,d=o.g,f=o.ca;var b="readystatechange";Array.isArray(b)||(b&&(cd[0]=b.toString()),b=cd);for(var A=0;A<b.length;A++){var k=uo(d,b[A],f||u.handleEvent,!1,u.h||u);if(!k)break;u.g[k.key]=k}u=o.H?m(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Ur(),Fv(o.i,o.u,o.A,o.l,o.R,o.m)}Zt.prototype.ca=function(o){o=o.target;let u=this.M;u&&Bt(o)==3?u.j():this.Y(o)},Zt.prototype.Y=function(o){try{if(o==this.g)e:{let qe=Bt(this.g);var u=this.g.Ba();let er=this.g.Z();if(!(3>qe)&&(qe!=3||this.g&&(this.h.h||this.g.oa()||jd(this.g)))){this.J||qe!=4||u==7||(u==8||0>=er?Ur(3):Ur(2)),Sa(this);var d=this.g.Z();this.X=d;t:if(Ed(this)){var f=jd(this.g);o="";var b=f.length,A=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),$r(this);var k="";break t}this.h.i=new c.TextDecoder}for(u=0;u<b;u++)this.h.h=!0,o+=this.h.i.decode(f[u],{stream:!(A&&u==b-1)});f.length=0,this.h.g+=o,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=d==200,Lv(this.i,this.u,this.A,this.l,this.R,qe,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ie,ke=this.g;if((ie=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(ie)){var Z=ie;break t}}Z=null}if(d=Z)Jn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,d);else{this.o=!1,this.s=3,Ge(12),wn(this),$r(this);break e}}if(this.P){d=!0;let yt;for(;!this.J&&this.C<k.length;)if(yt=Bv(this,k),yt==Ca){qe==4&&(this.s=4,Ge(14),d=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==_d){this.s=4,Ge(15),Jn(this.i,this.l,k,"[Invalid Chunk]"),d=!1;break}else Jn(this.i,this.l,yt,null),Aa(this,yt);if(Ed(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||k.length!=0||this.h.h||(this.s=1,Ge(16),d=!1),this.o=this.o&&d,!d)Jn(this.i,this.l,k,"[Invalid Chunked Response]"),wn(this),$r(this);else if(0<k.length&&!this.W){this.W=!0;var $e=this.j;$e.g==this&&$e.ba&&!$e.M&&($e.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Oa($e),$e.M=!0,Ge(11))}}else Jn(this.i,this.l,k,null),Aa(this,k);qe==4&&wn(this),this.o&&!this.J&&(qe==4?Wd(this.j,this):(this.o=!1,ts(this)))}else iE(this.g),d==400&&0<k.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),wn(this),$r(this)}}}catch{}finally{}};function Ed(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Bv(o,u){var d=o.C,f=u.indexOf(`
`,d);return f==-1?Ca:(d=Number(u.substring(d,f)),isNaN(d)?_d:(f+=1,f+d>u.length?Ca:(u=u.slice(f,f+d),o.C=f+d,u)))}Zt.prototype.cancel=function(){this.J=!0,wn(this)};function ts(o){o.S=Date.now()+o.I,wd(o,o.I)}function wd(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=jr(I(o.ba,o),u)}function Sa(o){o.B&&(c.clearTimeout(o.B),o.B=null)}Zt.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(Uv(this.i,this.A),this.L!=2&&(Ur(),Ge(17)),wn(this),this.s=2,$r(this)):wd(this,this.S-o)};function $r(o){o.j.G==0||o.J||Wd(o.j,o)}function wn(o){Sa(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,ld(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function Aa(o,u){try{var d=o.j;if(d.G!=0&&(d.g==o||xa(d.h,o))){if(!o.K&&xa(d.h,o)&&d.G==3){try{var f=d.Da.g.parse(u)}catch{f=null}if(Array.isArray(f)&&f.length==3){var b=f;if(b[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)ls(d),as(d);else break e;Ma(d),Ge(18)}}else d.za=b[1],0<d.za-d.T&&37500>b[2]&&d.F&&d.v==0&&!d.C&&(d.C=jr(I(d.Za,d),6e3));if(1>=Td(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else bn(d,11)}else if((o.K||d.g==o)&&ls(d),!L(u))for(b=d.Da.g.parse(u),u=0;u<b.length;u++){let Z=b[u];if(d.T=Z[0],Z=Z[1],d.G==2)if(Z[0]=="c"){d.K=Z[1],d.ia=Z[2];let $e=Z[3];$e!=null&&(d.la=$e,d.j.info("VER="+d.la));let qe=Z[4];qe!=null&&(d.Aa=qe,d.j.info("SVER="+d.Aa));let er=Z[5];er!=null&&typeof er=="number"&&0<er&&(f=1.5*er,d.L=f,d.j.info("backChannelRequestTimeoutMs_="+f)),f=d;let yt=o.g;if(yt){let ds=yt.g?yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var A=f.h;A.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Ra(A,A.h),A.h=null))}if(f.D){let ka=yt.g?yt.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(f.ya=ka,ce(f.I,f.D,ka))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),f=d;var k=o;if(f.qa=Yd(f,f.J?f.ia:null,f.W),k.K){Cd(f.h,k);var ie=k,ke=f.L;ke&&(ie.I=ke),ie.B&&(Sa(ie),ts(ie)),f.g=k}else Hd(f);0<d.i.length&&cs(d)}else Z[0]!="stop"&&Z[0]!="close"||bn(d,7);else d.G==3&&(Z[0]=="stop"||Z[0]=="close"?Z[0]=="stop"?bn(d,7):Na(d):Z[0]!="noop"&&d.l&&d.l.ta(Z),d.v=0)}}Ur(4)}catch{}}var $v=class{constructor(o,u){this.g=o,this.map=u}};function Id(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Td(o){return o.h?1:o.g?o.g.size:0}function xa(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Ra(o,u){o.g?o.g.add(u):o.h=u}function Cd(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Id.prototype.cancel=function(){if(this.i=Dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function Dd(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(let d of o.g.values())u=u.concat(d.D);return u}return M(o.i)}function qv(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(l(o)){for(var u=[],d=o.length,f=0;f<d;f++)u.push(o[f]);return u}u=[],d=0;for(f in o)u[d++]=o[f];return u}function zv(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(l(o)||typeof o=="string"){var u=[];o=o.length;for(var d=0;d<o;d++)u.push(d);return u}u=[],d=0;for(let f in o)u[d++]=f;return u}}}function Sd(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(l(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var d=zv(o),f=qv(o),b=f.length,A=0;A<b;A++)u.call(void 0,f[A],d&&d[A],o)}var Ad=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hv(o,u){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var f=o[d].indexOf("="),b=null;if(0<=f){var A=o[d].substring(0,f);b=o[d].substring(f+1)}else A=o[d];u(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function In(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof In){this.h=o.h,ns(this,o.j),this.o=o.o,this.g=o.g,rs(this,o.s),this.l=o.l;var u=o.i,d=new Hr;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),xd(this,d),this.m=o.m}else o&&(u=String(o).match(Ad))?(this.h=!1,ns(this,u[1]||"",!0),this.o=qr(u[2]||""),this.g=qr(u[3]||"",!0),rs(this,u[4]),this.l=qr(u[5]||"",!0),xd(this,u[6]||"",!0),this.m=qr(u[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}In.prototype.toString=function(){var o=[],u=this.j;u&&o.push(zr(u,Rd,!0),":");var d=this.g;return(d||u=="file")&&(o.push("//"),(u=this.o)&&o.push(zr(u,Rd,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(zr(d,d.charAt(0)=="/"?Kv:Wv,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",zr(d,Yv)),o.join("")};function jt(o){return new In(o)}function ns(o,u,d){o.j=d?qr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function rs(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function xd(o,u,d){u instanceof Hr?(o.i=u,Jv(o.i,o.h)):(d||(u=zr(u,Qv)),o.i=new Hr(u,o.h))}function ce(o,u,d){o.i.set(u,d)}function is(o){return ce(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function qr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function zr(o,u,d){return typeof o=="string"?(o=encodeURI(o).replace(u,Gv),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Gv(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Rd=/[#\/\?@]/g,Wv=/[#\?:]/g,Kv=/[#\?]/g,Qv=/[#\?@]/g,Yv=/#/g;function Hr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function en(o){o.g||(o.g=new Map,o.h=0,o.i&&Hv(o.i,function(u,d){o.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}n=Hr.prototype,n.add=function(o,u){en(this),this.i=null,o=Xn(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(u),this.h+=1,this};function Pd(o,u){en(o),u=Xn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Nd(o,u){return en(o),u=Xn(o,u),o.g.has(u)}n.forEach=function(o,u){en(this),this.g.forEach(function(d,f){d.forEach(function(b){o.call(u,b,f,this)},this)},this)},n.na=function(){en(this);let o=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let f=0;f<u.length;f++){let b=o[f];for(let A=0;A<b.length;A++)d.push(u[f])}return d},n.V=function(o){en(this);let u=[];if(typeof o=="string")Nd(this,o)&&(u=u.concat(this.g.get(Xn(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)u=u.concat(o[d])}return u},n.set=function(o,u){return en(this),this.i=null,o=Xn(this,o),Nd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},n.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function Md(o,u,d){Pd(o,u),0<d.length&&(o.i=null,o.g.set(Xn(o,u),M(d)),o.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var f=u[d];let A=encodeURIComponent(String(f)),k=this.V(f);for(f=0;f<k.length;f++){var b=A;k[f]!==""&&(b+="="+encodeURIComponent(String(k[f]))),o.push(b)}}return this.i=o.join("&")};function Xn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function Jv(o,u){u&&!o.j&&(en(o),o.i=null,o.g.forEach(function(d,f){var b=f.toLowerCase();f!=b&&(Pd(this,f),Md(this,b,d))},o)),o.j=u}function Xv(o,u){let d=new Br;if(c.Image){let f=new Image;f.onload=T(tn,d,"TestLoadImage: loaded",!0,u,f),f.onerror=T(tn,d,"TestLoadImage: error",!1,u,f),f.onabort=T(tn,d,"TestLoadImage: abort",!1,u,f),f.ontimeout=T(tn,d,"TestLoadImage: timeout",!1,u,f),c.setTimeout(function(){f.ontimeout&&f.ontimeout()},1e4),f.src=o}else u(!1)}function Zv(o,u){let d=new Br,f=new AbortController,b=setTimeout(()=>{f.abort(),tn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:f.signal}).then(A=>{clearTimeout(b),A.ok?tn(d,"TestPingServer: ok",!0,u):tn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(b),tn(d,"TestPingServer: error",!1,u)})}function tn(o,u,d,f,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),f(d)}catch{}}function eE(){this.g=new Vv}function tE(o,u,d){let f=d||"";try{Sd(o,function(b,A){let k=b;h(b)&&(k=Ea(b)),u.push(f+A+"="+encodeURIComponent(k))})}catch(b){throw u.push(f+"type="+encodeURIComponent("_badmap")),b}}function Gr(o){this.l=o.Ub||null,this.j=o.eb||!1}P(Gr,wa),Gr.prototype.g=function(){return new ss(this.l,this.j)},Gr.prototype.i=function(o){return function(){return o}}({});function ss(o,u){Pe.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ss,Pe),n=ss.prototype,n.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Kr(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Od(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Od(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Wr(this):Kr(this),this.readyState==3&&Od(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,Wr(this))},n.Qa=function(o){this.g&&(this.response=o,Wr(this))},n.ga=function(){this.g&&Wr(this)};function Wr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Kr(o)}n.setRequestHeader=function(o,u){this.u.append(o,u)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=u.next();return o.join(`\r
`)};function Kr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function kd(o){let u="";return G(o,function(d,f){u+=f,u+=":",u+=d,u+=`\r
`}),u}function Pa(o,u,d){e:{for(f in d){var f=!1;break e}f=!0}f||(d=kd(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):ce(o,u,d))}function me(o){Pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(me,Pe);var nE=/^https?$/i,rE=["POST","PUT"];n=me.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,u,d,f){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ta.g(),this.v=this.o?ud(this.o):ud(Ta),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(A){Vd(this,A);return}if(o=d||"",d=new Map(this.headers),f)if(Object.getPrototypeOf(f)===Object.prototype)for(var b in f)d.set(b,f[b]);else if(typeof f.keys=="function"&&typeof f.get=="function")for(let A of f.keys())d.set(A,f.get(A));else throw Error("Unknown input type for opt_headers: "+String(f));f=Array.from(d.keys()).find(A=>A.toLowerCase()=="content-type"),b=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(rE,u,void 0))||f||b||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of d)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ud(this),this.u=!0,this.g.send(o),this.u=!1}catch(A){Vd(this,A)}};function Vd(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,Fd(o),os(o)}function Fd(o){o.A||(o.A=!0,Fe(o,"complete"),Fe(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Fe(this,"complete"),Fe(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),me.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ld(this):this.bb())},n.bb=function(){Ld(this)};function Ld(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Bt(o)!=4||o.Z()!=2)){if(o.u&&Bt(o)==4)od(o.Ea,0,o);else if(Fe(o,"readystatechange"),Bt(o)==4){o.h=!1;try{let k=o.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var f;if(f=k===0){var b=String(o.D).match(Ad)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),f=!nE.test(b?b.toLowerCase():"")}d=f}if(d)Fe(o,"complete"),Fe(o,"success");else{o.m=6;try{var A=2<Bt(o)?o.g.statusText:""}catch{A=""}o.l=A+" ["+o.Z()+"]",Fd(o)}}finally{os(o)}}}}function os(o,u){if(o.g){Ud(o);let d=o.g,f=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||Fe(o,"ready");try{d.onreadystatechange=f}catch{}}}function Ud(o){o.I&&(c.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function Bt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),kv(u)}};function jd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function iE(o){let u={};o=(o.g&&2<=Bt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let f=0;f<o.length;f++){if(L(o[f]))continue;var d=w(o[f]);let b=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let A=u[b]||[];u[b]=A,A.push(d)}E(u,function(f){return f.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(o,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||u}function Bd(o){this.Aa=0,this.i=[],this.j=new Br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,o),this.cb=Qr("retryDelaySeedMs",1e4,o),this.Wa=Qr("forwardChannelMaxRetries",2,o),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Id(o&&o.concurrentRequestLimit),this.Da=new eE,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Bd.prototype,n.la=8,n.G=1,n.connect=function(o,u,d,f){Ge(0),this.W=o,this.H=u||{},d&&f!==void 0&&(this.H.OSID=d,this.H.OAID=f),this.F=this.X,this.I=Yd(this,null,this.W),cs(this)};function Na(o){if($d(o),o.G==3){var u=o.U++,d=jt(o.I);if(ce(d,"SID",o.K),ce(d,"RID",u),ce(d,"TYPE","terminate"),Yr(o,d),u=new Zt(o,o.j,u),u.L=2,u.v=is(jt(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=u.v,d=!0),d||(u.g=Jd(u.j,null),u.g.ea(u.v)),u.F=Date.now(),ts(u)}Qd(o)}function as(o){o.g&&(Oa(o),o.g.cancel(),o.g=null)}function $d(o){as(o),o.u&&(c.clearTimeout(o.u),o.u=null),ls(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function cs(o){if(!bd(o.h)&&!o.s){o.s=!0;var u=o.Ga;mt||fi(),un||(mt(),un=!0),vn.add(u,o),o.B=0}}function sE(o,u){return Td(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=jr(I(o.Ga,o,u),Kd(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let b=new Zt(this,this.j,o),A=this.o;if(this.S&&(A?(A=m(A),v(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var f=this.i[d];if("__data__"in f.map&&(f=f.map.__data__,typeof f=="string")){f=f.length;break t}f=void 0}if(f===void 0)break;if(u+=f,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=zd(this,b,u),d=jt(this.I),ce(d,"RID",o),ce(d,"CVER",22),this.D&&ce(d,"X-HTTP-Session-Id",this.D),Yr(this,d),A&&(this.O?u="headers="+encodeURIComponent(String(kd(A)))+"&"+u:this.m&&Pa(d,this.m,A)),Ra(this.h,b),this.Ua&&ce(d,"TYPE","init"),this.P?(ce(d,"$req",u),ce(d,"SID","null"),b.T=!0,Da(b,d,null)):Da(b,d,u),this.G=2}}else this.G==3&&(o?qd(this,o):this.i.length==0||bd(this.h)||qd(this))};function qd(o,u){var d;u?d=u.l:d=o.U++;let f=jt(o.I);ce(f,"SID",o.K),ce(f,"RID",d),ce(f,"AID",o.T),Yr(o,f),o.m&&o.o&&Pa(f,o.m,o.o),d=new Zt(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),u&&(o.i=u.D.concat(o.i)),u=zd(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ra(o.h,d),Da(d,f,u)}function Yr(o,u){o.H&&G(o.H,function(d,f){ce(u,f,d)}),o.l&&Sd({},function(d,f){ce(u,f,d)})}function zd(o,u,d){d=Math.min(o.i.length,d);var f=o.l?I(o.l.Na,o.l,o):null;e:{var b=o.i;let A=-1;for(;;){let k=["count="+d];A==-1?0<d?(A=b[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let ie=!0;for(let ke=0;ke<d;ke++){let Z=b[ke].g,$e=b[ke].map;if(Z-=A,0>Z)A=Math.max(0,b[ke].g-100),ie=!1;else try{tE($e,k,"req"+Z+"_")}catch{f&&f($e)}}if(ie){f=k.join("&");break e}}}return o=o.i.splice(0,d),u.D=o,f}function Hd(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;mt||fi(),un||(mt(),un=!0),vn.add(u,o),o.v=0}}function Ma(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=jr(I(o.Fa,o),Kd(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,Gd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=jr(I(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),as(this),Gd(this))};function Oa(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function Gd(o){o.g=new Zt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=jt(o.qa);ce(u,"RID","rpc"),ce(u,"SID",o.K),ce(u,"AID",o.T),ce(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&ce(u,"TO",o.ja),ce(u,"TYPE","xmlhttp"),Yr(o,u),o.m&&o.o&&Pa(u,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=is(jt(u)),d.m=null,d.P=!0,vd(d,o)}n.Za=function(){this.C!=null&&(this.C=null,as(this),Ma(this),Ge(19))};function ls(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function Wd(o,u){var d=null;if(o.g==u){ls(o),Oa(o),o.g=null;var f=2}else if(xa(o.h,u))d=u.D,Cd(o.h,u),f=1;else return;if(o.G!=0){if(u.o)if(f==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var b=o.B;f=Xi(),Fe(f,new md(f,d)),cs(o)}else Hd(o);else if(b=u.s,b==3||b==0&&0<u.X||!(f==1&&sE(o,u)||f==2&&Ma(o)))switch(d&&0<d.length&&(u=o.h,u.i=u.i.concat(d)),b){case 1:bn(o,5);break;case 4:bn(o,10);break;case 3:bn(o,6);break;default:bn(o,2)}}}function Kd(o,u){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*u}function bn(o,u){if(o.j.info("Error code "+u),u==2){var d=I(o.fb,o),f=o.Xa;let b=!f;f=new In(f||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ns(f,"https"),is(f),b?Xv(f.toString(),d):Zv(f.toString(),d)}else Ge(2);o.G=0,o.l&&o.l.sa(u),Qd(o),$d(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Qd(o){if(o.G=0,o.ka=[],o.l){let u=Dd(o.h);(u.length!=0||o.i.length!=0)&&(N(o.ka,u),N(o.ka,o.i),o.h.i.length=0,M(o.i),o.i.length=0),o.l.ra()}}function Yd(o,u,d){var f=d instanceof In?jt(d):new In(d);if(f.g!="")u&&(f.g=u+"."+f.g),rs(f,f.s);else{var b=c.location;f=b.protocol,u=u?u+"."+b.hostname:b.hostname,b=+b.port;var A=new In(null);f&&ns(A,f),u&&(A.g=u),b&&rs(A,b),d&&(A.l=d),f=A}return d=o.D,u=o.ya,d&&u&&ce(f,d,u),ce(f,"VER",o.la),Yr(o,f),f}function Jd(o,u,d){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new me(new Gr({eb:d})):new me(o.pa),u.Ha(o.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xd(){}n=Xd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function us(){}us.prototype.g=function(o,u){return new rt(o,u)};function rt(o,u){Pe.call(this),this.g=new Bd(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!L(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!L(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new Zn(this)}P(rt,Pe),rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rt.prototype.close=function(){Na(this.g)},rt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Ea(o),o=d);u.i.push(new $v(u.Ya++,o)),u.G==3&&cs(u)},rt.prototype.N=function(){this.g.l=null,delete this.j,Na(this.g),delete this.g,rt.aa.N.call(this)};function Zd(o){Ia.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(let d in u){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}P(Zd,Ia);function eh(){ba.call(this),this.status=1}P(eh,ba);function Zn(o){this.g=o}P(Zn,Xd),Zn.prototype.ua=function(){Fe(this.g,"a")},Zn.prototype.ta=function(o){Fe(this.g,new Zd(o))},Zn.prototype.sa=function(o){Fe(this.g,new eh)},Zn.prototype.ra=function(){Fe(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,rt.prototype.send=rt.prototype.o,rt.prototype.open=rt.prototype.m,rt.prototype.close=rt.prototype.close,XF=lo.createWebChannelTransport=function(){return new us},JF=lo.getStatEventTarget=function(){return Xi()},YF=lo.Event=En,QF=lo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,KF=lo.ErrorCode=Zi,gd.COMPLETE="complete",WF=lo.EventType=gd,dd.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,GF=lo.WebChannel=dd,zZ=lo.FetchXmlHttpFactory=Gr,me.prototype.listenOnce=me.prototype.L,me.prototype.getLastError=me.prototype.Ka,me.prototype.getLastErrorCode=me.prototype.Ba,me.prototype.getStatus=me.prototype.Z,me.prototype.getResponseJson=me.prototype.Oa,me.prototype.getResponseText=me.prototype.oa,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Ha,HF=lo.XhrIo=me}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var ZF="@firebase/firestore";var cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");var mp="10.14.0";var nd=new aa("@firebase/firestore");function hi(n,...e){if(nd.logLevel<=Qe.DEBUG){let t=e.map(MS);nd.debug(`Firestore (${mp}): ${n}`,...t)}}function iL(n,...e){if(nd.logLevel<=Qe.ERROR){let t=e.map(MS);nd.error(`Firestore (${mp}): ${n}`,...t)}}function HZ(n,...e){if(nd.logLevel<=Qe.WARN){let t=e.map(MS);nd.warn(`Firestore (${mp}): ${n}`,...t)}}function MS(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Kn(n="Unexpected state"){let e=`FIRESTORE (${mp}) INTERNAL ASSERTION FAILED: `+n;throw iL(e),new Error(e)}function qc(n,e){n||Kn()}var Vn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ln=class extends fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var zc=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Sv=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vS=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}},ES=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},wS=class{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qc(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new zc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zc,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let l=s;e.enqueueRetryable(()=>R(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{hi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(hi("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zc)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(hi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qc(typeof r.accessToken=="string"),new Sv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return qc(e===null||typeof e=="string"),new cn(e)}},IS=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},bS=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new IS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},TS=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},CS=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){qc(this.o===void 0);let r=s=>{s.error!=null&&hi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,hi("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{hi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):hi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qc(typeof t.token=="string"),this.R=t.token,new TS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function sL(n,e){return n<e?-1:n>e?1:0}var DS=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Kn(),r===void 0?r=e.length-t:r>e.length-t&&Kn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},ga=class n extends DS{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ln(Vn.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}};var Hc=class n{constructor(e){this.path=e}static fromPath(e){return new n(ga.fromString(e))}static fromName(e){return new n(ga.fromString(e).popFirst(5))}static empty(){return new n(ga.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ga.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ga.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ga(e.slice()))}};var SS=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};SS.UNKNOWN_ID=-1;function GZ(n){return n.name==="IndexedDbTransactionError"}function WZ(n){return n===0&&1/n==-1/0}var KZ=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Aye=[...KZ,"documentOverlays"],QZ=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YZ=QZ,JZ=[...YZ,"indexConfiguration","indexState","indexEntries"];var xye=[...JZ,"globals"];var rd=class n{constructor(e,t){this.comparator=e,this.root=t||Gi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new td(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new td(this.root,e,this.comparator,!1)}getReverseIterator(){return new td(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new td(this.root,e,this.comparator,!0)}},td=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gi=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kn();let e=this.left.check();if(e!==this.right.check())throw Kn();return e+(this.isRed()?0:1)}};Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1;Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw Kn()}get value(){throw Kn()}get color(){throw Kn()}get left(){throw Kn()}get right(){throw Kn()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Gi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Av=class n{constructor(e){this.comparator=e,this.data=new rd(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(e){return new xv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},xv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var AS=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var id=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AS("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sL(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};id.EMPTY_BYTE_STRING=new id("");var XZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ZZ(n){if(qc(!!n),typeof n=="string"){let e=0,t=XZ.exec(n);if(qc(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pp(n.seconds),nanos:pp(n.nanos)}}function pp(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eee(n){return typeof n=="string"?id.fromBase64String(n):id.fromUint8Array(n)}var xS=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function tee(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function nee(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Pye=new rd(Hc.comparator);var Nye=new rd(Hc.comparator);var Mye=new rd(Hc.comparator),Oye=new Av(Hc.comparator);var kye=new Av(sL);var eL,Be;(Be=eL||(eL={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";var Vye=new yS([4294967295,4294967295],0);var Rv=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(pp(e.integerValue));else if("doubleValue"in e){let r=pp(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),WZ(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=ZZ(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(eee(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?nee(e)?this.dt(t,Number.MAX_SAFE_INTEGER):tee(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Kn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let a="value",c=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(pp(c)),this.Vt(a,t),this.Tt(s[a],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Hc.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Rv.vt=new Rv;var Fye=new Uint8Array(0);var Hi=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Hi.DEFAULT_COLLECTION_PERCENTILE=10,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hi.DEFAULT=new Hi(41943040,Hi.DEFAULT_COLLECTION_PERCENTILE,Hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hi.DISABLED=new Hi(-1,0,0);function _S(){return typeof document<"u"?document:null}var RS=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&hi("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var PS=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,c=new n(e,t,a,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ln(Vn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var tL,nL;(nL=tL||(tL={})).ea="default",nL.Cache="cache";function ree(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var rL=new Map;function iee(n,e,t,r){if(e===!0&&r===!0)throw new ln(Vn.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function see(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Kn()}function oee(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ln(Vn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=see(n);throw new ln(Vn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Pv=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ln(Vn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ln(Vn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ree((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ln(Vn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ln(Vn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ln(Vn.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Nv=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ln(Vn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ln(Vn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vS;switch(r.type){case"firstParty":return new bS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ln(Vn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return R(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=rL.get(t);r&&(hi("ComponentProvider","Removing Datastore"),rL.delete(t),r.terminate())}(this),Promise.resolve()}};function oL(n,e,t,r={}){var i;let s=(n=oee(n,Nv))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&HZ("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=cn.MOCK_USER;else{c=bV(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ln(Vn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new cn(h)}n._authCredentials=new ES(new Sv(c,l))}}var Mv=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RS(this,"async_queue_retry"),this.Vu=()=>{let r=_S();r&&hi("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=_S();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=_S();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new zc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return R(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!GZ(e))throw e;hi("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw iL("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=PS.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Kn()}verifyOperationInProgress(){}wu(){return R(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var NS=class extends Nv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Mv,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return R(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Mv(e),this._firestoreClient=void 0,yield e}})}};function aL(n,e){let t=typeof n=="object"?n:Ku(),r=typeof n=="string"?n:e||"(default)",i=rp(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=IV("firestore");s&&oL(i,...s)}return i}var Lye=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(i){mp=i})(ua),la(new Mr("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),c=new NS(new wS(r.getProvider("auth-internal")),new CS(r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ln(Vn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xS(h.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Gt(ZF,"4.7.3",e),Gt(ZF,"4.7.3","esm2017")})();var gp=class{constructor(e){return e}},cL="firestore",OS=class{constructor(){return ip(cL)}};var kS=new X("angularfire2.firestore-instances");function aee(n,e){let t=z_(cL,n,e);return t&&new gp(t)}function cee(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new gp(r)}}var lee={provide:OS,deps:[[new xn,kS]]},uee={provide:gp,useFactory:aee,deps:[[new xn,kS],io]};function lL(n,...e){return Gt("angularfire",Vc.full,"fst"),yr([uee,lee,{provide:kS,useFactory:cee(n),multi:!0,deps:[ze,nn,Ju,Fc,[new xn,fp],[new xn,Yu],...e]}])}var uL=da(aL,!0);var dee=[UV(()=>jV(U_.firebaseConfig)),VF(()=>LF()),lL(()=>uL())];dN(Cv,Ie(B({},gS),{providers:[...gS.providers||[],...dee]})).catch(n=>console.error(n));
